#include "hardware.h"
#include "gpio.h"
#include "gpioi2c.h"
#include "ark7116_drv.h"
#include "xm_core.h"
#include "xm_printf.h"
#include "xm_dev.h"
#include <xm_video_task.h>
#include "app_head.h"

#ifdef _XMSYS_NVP6124B_SUPPORT_

#define	printk					XM_printf
#define	msleep					OS_Delay

#define	ISP_SCALAR_RUN			rISP_SCALE_EN = 0x03
#define	ISP_SCALAR_STOP		rISP_SCALE_EN = 0x0

#define I2C_RETRY_NUM			0x03

#define NO_DETECT				0x00
#define SD_NTSC					0x01
#define SD_PAL					0x02
#define AHD_30FPS				0x04
#define AHD_25FPS				0x08
#define AHD_60FPS				0x10
#define AHD_50FPS				0x20
#define AFHD_30FPS				0x40
#define AFHD_25FPS				0x80
#define FORMAT_OFFSET			0X00

//ACC IOÅÐ¶¨
#define ACC1_DET    0x01
#define ACC2_DET    0x02
#define ACC3_DET    0x03
#define ACC4_DET    0x04
static unsigned char  ACC_DET_Pre = 0;
static unsigned char  ACC_DET = 0;

static u8_t Channel_select = 0;

#ifndef NVP6124B_DEFAULT_FORMAT
#define NVP6124B_DEFAULT_FORMAT AHD_25FPS //AHD_25FPS
#endif

#if NVP6124B_DEFAULT_FORMAT == AFHD_25FPS
static unsigned int  Sensor_Output_Width=1920;
static unsigned int  Sensor_Output_Height=1080;
static unsigned char Sensor_Output_Format=AFHD_25FPS;
#elif NVP6124B_DEFAULT_FORMAT == AHD_25FPS
static unsigned int  Sensor_Output_Width=1280;
static unsigned int  Sensor_Output_Height=720;
static unsigned char Sensor_Output_Format=AHD_25FPS;
//static unsigned char Sensor_Pre_Output_Format=AHD_25FPS;
#elif NVP6124B_DEFAULT_FORMAT == SD_NTSC
static unsigned int  Sensor_Output_Width=720;
static unsigned int  Sensor_Output_Height=240;
static unsigned char Sensor_Output_Format=SD_NTSC;
//static unsigned char Sensor_Pre_Output_Format=SD_NTSC;
#endif
static unsigned char Sensor_Pre_Output_Format=NO_DETECT;

extern void Notification_Itu601_Isp_Scaler_Init(void);
extern void xm_itu601_scalar_stop(void);

static OS_TASK TCB_NVP6124B_Task;
__no_init static OS_STACKPTR int StackNVP6124BTask[XMSYS_NVP6124B_TASK_STACK_SIZE/4];          /* Task stacks */


static unsigned char gpio_i2c_read(unsigned char devaddress, unsigned char address)
{
	 int ret = -1;
	 int retries = 0;
	 unsigned char dat=0;

	 while(retries < I2C_RETRY_NUM)
	 {
	 	ret = nvp6134c_i2c_read_bytes (devaddress, &address, 1, &dat, 1);
		if(ret == 1)
			break;

		retries++;
	 }
	 if(retries >= I2C_RETRY_NUM)
	 {
		XM_printf("%s i2c read dev:%x addr:%x error\n",__func__,devaddress,address);
		ret = -1;
	 }

	 if(ret < 0)
	 {
		 return 0xFF;
	 }
	 else
	 {
		 return dat;
	 }
}


static unsigned char gpio_i2c_write(unsigned char devaddress, unsigned char address, unsigned char data)
{
	int ret = -1;
	int retries = 0;

	while(retries < I2C_RETRY_NUM)
	{
		ret = nvp6134c_i2c_write_bytes (devaddress, &address, 1, &data, 1);
		if(ret == 0)
			break;

		retries++;
	}

	if(retries >= I2C_RETRY_NUM)
	{
		XM_printf("%s i2c write dev:%x addr:%x error\n",__func__,devaddress,address);
		ret = -1;
	}

	if(ret < 0)
	{
		return 0xFF;
	}
	else
	{
		return 0;
	}
}


#define  I2CReadByte   	gpio_i2c_read
#define  I2CWriteByte  	gpio_i2c_write

#define BANK0		0
#define BANK1		1
#define BANK2		2
#define BANK3		3
#define BANK4		4
#define BANK5		5
#define BANK6		6
#define BANK7		7
#define BANK8		8
#define BANK9		9
#define BANKA		10
#define BANKB		11

#define  N3_Each_Setting   //add setting for SD and HD mix setting
#define  N3_BT601_Setting  // add BT601 setting

static unsigned int DEV_ADDR = 0x60;

/*4ch 720P; 0x01:4ch 720H 37M; 0x02:4ch 720h 27M; 0x03: 2ch 720p+2ch 720h; 0x04:4ch 1080p;0x05: 720h+720p+1080p mix */
unsigned int N3_Mode=0x04;

typedef enum VDEC_N123_FORMAT_RESOLUTION
{
	VDEC_N123_FMT_SH720,
	VDEC_N123_FMT_H960,
	VDEC_N123_FMT_720P,
	VDEC_N123_FMT_1080P,
} VDEC_N123_FORMAT_RESOLUTION;

typedef enum VDEC_N123_FORMAT_FPS
{
	VDEC_N123_FMT_NTSC,
	VDEC_N123_FMT_PAL,
	VDEC_N123_FMT_25P,
	VDEC_N123_FMT_30P,
} VDEC_N123_FORMAT_FPS;

typedef enum VDEC_N123_CHIP
{
	VDEC_N123_CHIP_UNKNOWN = 0,
	VDEC_N123_CHIP_N1,
	VDEC_N123_CHIP_N2,
	VDEC_N123_CHIP_N3,
} VDEC_N123_CHIP;

typedef struct n123_detect_param
{
	// app -> drv
	unsigned int devaddr;
	// app <- drv
	VDEC_N123_CHIP chip_def;
	unsigned int chip_id;
}n123_detect_param;

typedef struct n123_init_param
{
	// app -> drv
    unsigned int devaddr;
    VDEC_N123_CHIP chip_def;
    VDEC_N123_FORMAT_RESOLUTION fmt_res;
    VDEC_N123_FORMAT_FPS fmt_fps;
} n123_init_param;

static n123_init_param init_param;
static n123_detect_param  detect_param;

static BYTE NVP6124B_B0_NTSC_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x00,0x00,0x20,0x03,0x00,0x00,0x00,0x00,0xa0,0xa0,0xa0,0xa0,0xff,0xff,0xff,0xff,
/*1*/ 0x92,0x92,0x92,0x92,0x80,0x80,0x80,0x80,0x18,0x18,0x18,0x18,0xaf,0xaf,0xaf,0xaf,
/*2*/ 0x2f,0x82,0x0b,0x43,0x2f,0x82,0x0b,0x43,0x2f,0x82,0x0b,0x43,0x2f,0x82,0x0b,0x43,
/*3*/ 0x11,0x11,0x11,0x11,0x04,0x04,0x04,0x04,0x0a,0x0a,0x0a,0x0a,0x88,0x88,0x88,0x88,
/*4*/ 0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0x00,0x00,0x00,0x00,0xf1,0x10,0x32,0x00,0xc0,0xc0,0xc0,0xc0,0x1e,0x1e,0x1e,0x1e,
/*6*/ 0x00,0x00,0x00,0x00,0x08,0x08,0x08,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x88,0x11,0x11,0xff,0xff,0xff,0xff,
/*8*/ 0x0f,0x00,0x00,0x00,0x00,0x11,0x11,0x11,0x11,0x00,0x00,0x00,0x00,0x77,0x07,0x07,
/*9*/ 0x07,0x07,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0x04,0x00,0x00,0x00,0x00,
/*A*/ 0x15,0x15,0x15,0x15,0x07,0x07,0x07,0x07,0x11,0x11,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0e,0x00,0x01,0x01,0xff,0x00,0x01,0x00,
/*C*/ 0x0f,0x00,0x0f,0x0f,0x00,0x00,0x00,0x0d,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
/*D*/ 0x01,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0x1d,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*E*/ 0x00,0x00,0x00,0x00,0x18,0x40,0x40,0x40,0x2a,0x23,0x23,0x23,0x01,0x0f,0x0b,0x55,
/*F*/ 0x00,0xcb,0x00,0x00,0x86,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

static BYTE NVP6124B_B1_NTSC_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x02,0x0f,0x0f,0x0f,0x0f,0x0f,0x19,0x80,0x03,0x00,0x10,0x32,0x54,0x76,0x00,0x98,
/*1*/ 0xba,0xdc,0xfe,0x00,0x00,0x00,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
/*2*/ 0x88,0x88,0x03,0x10,0x14,0x15,0x00,0x00,0x00,0x88,0xff,0x40,0xaa,0xaa,0xaa,0xaa,
/*3*/ 0xaa,0x82,0x00,0x00,0x00,0x8c,0xa0,0x00,0x09,0x01,0x80,0x30,0x00,0x00,0x10,0x00,
/*4*/ 0x0f,0x0f,0x0f,0x0f,0x11,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*6*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*7*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*8*/ 0x60,0x00,0x14,0x2c,0x00,0x00,0x00,0x00,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,
/*9*/ 0x01,0x01,0x01,0x01,0x50,0x00,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*A*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xa5,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x40,0x30,0x40,0x30,0x00,0x00,0x00,0x00,0xf7,0xf7,0x00,0x00,
/*C*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xae,0x00,0x00,0x00,0x10,0x10,
/*D*/ 0x00,0x00,0x00,0xf0,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*F*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x01
};

static BYTE NVP6124B_B2_NTSC_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,
/*1*/ 0x00,0x00,0x0f,0x00,0xc0,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*2*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*3*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*4*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*5*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*6*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*7*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*8*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*9*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*A*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*B*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*C*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*D*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*F*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xc0,0xc0,0x00,0x00,0xff,0xff,0xff,0x02
};

static BYTE NVP6124B_B5678_NTSC_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0xc0,0x0e,0x0c,0x1f,0x00,0x20,0x40,0x80,0x50,0x38,0x0f,0x00,0x04,0x10,0x30,0x00,
/*1*/ 0x06,0x04,0x00,0x80,0x37,0x80,0x49,0x37,0xef,0xdf,0xdf,0x08,0x50,0x0c,0x01,0x88,
/*2*/ 0x88,0x20,0x23,0x00,0x2a,0xda,0xf0,0x57,0x90,0x1f,0x52,0x78,0x0c,0x68,0x00,0x07,
/*3*/ 0x00,0x01,0x64,0x00,0x00,0x15,0x25,0x00,0x00,0x02,0x02,0x00,0x00,0x00,0x00,0x00,
/*4*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x44,0xaa,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0x84,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*6*/ 0x53,0x53,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0xc0,0x01,0x06,0x06,0x11,0x00,0x01,0x81,0x01,0x01,0x00,0x00,0x11,0x80,0x00,0x00,
/*8*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x3f,0xff,0xff,0xff,0x00,0x00,0x00,
/*9*/ 0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x48,0x84,0x00,0x80,0x00,0x00,0x00,0x00,
/*A*/ 0x10,0x30,0x0c,0x50,0x10,0x34,0x70,0x5c,0x20,0x20,0x30,0x40,0x20,0x20,0x14,0x20,
/*B*/ 0x40,0x50,0x0e,0x00,0x00,0x80,0x00,0x00,0xb9,0xb2,0x05,0x00,0xa0,0x00,0x00,0x00,
/*C*/ 0x00,0x13,0x00,0x00,0x01,0x00,0x00,0x0c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*D*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0xec,0x40,0x00,0x00,0x00,0x0f,0x99,0x0f,0x83,0x40,0x40,0x01,0x10,
/*F*/ 0x00,0xff,0xb4,0x06,0x11,0x01,0x82,0x6b,0x0d,0x78,0x0a,0x35,0x03,0x00,0x00,0x05
};


static BYTE NVP6124B_B9_NTSC_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x02,0x04,0x06,0x08,0x0c,0x10,0x14,0x18,0x1c,0x20,0x28,0x30,0x38,0x40,0x48,0x50,
/*1*/ 0x58,0x60,0x68,0x70,0x78,0x7f,0x87,0x8f,0x97,0x9f,0xaf,0xbf,0xcf,0xdf,0xef,0xff,
/*2*/ 0x01,0x03,0x05,0x07,0x0b,0x0f,0x13,0x17,0x1b,0x1f,0x27,0x2f,0x37,0x3f,0x47,0x4f,
/*3*/ 0x57,0x5f,0x67,0x6f,0x77,0x7f,0x87,0x8f,0x97,0x9f,0xaf,0xbf,0xcf,0xdf,0xef,0xff,
/*4*/ 0x60,0x60,0x60,0x60,0x00,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x2a,0x23,0x23,0x23,
/*5*/ 0x4d,0x0e,0x88,0x6c,0x4d,0x0e,0x88,0x6c,0x4d,0x0e,0x88,0x6c,0x4d,0x0e,0x88,0x6c,
/*6*/ 0x00,0x00,0x00,0x00,0x18,0xc2,0x01,0x1e,0x02,0x64,0x60,0x3c,0x00,0x00,0x00,0x00,
/*7*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*8*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*9*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*A*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*C*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*D*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*F*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x09
};

static BYTE NVP6124B_B0_PAL_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x00,0x00,0x20,0x03,0x00,0x00,0x00,0x00,0xdd,0xdd,0xdd,0xdd,0x00,0x00,0x00,0x00,
/*1*/ 0x90,0x90,0x90,0x90,0x80,0x80,0x80,0x80,0x18,0x18,0x18,0x18,0xaf,0xaf,0xaf,0xaf,
/*2*/ 0x2f,0x02,0x0b,0x43,0x2f,0x02,0x0b,0x43,0x2f,0x02,0x0b,0x43,0x2f,0x02,0x0b,0x43,
/*3*/ 0x12,0x12,0x12,0x12,0x04,0x04,0x04,0x04,0x0a,0x0a,0x0a,0x0a,0x88,0x88,0x88,0x88,
/*4*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0x04,
/*5*/ 0x04,0x04,0x04,0x04,0x01,0x10,0x32,0x00,0x60,0x60,0x60,0x60,0x1e,0x1e,0x1e,0x1e,
/*6*/ 0x00,0x00,0x00,0x00,0x0d,0x0d,0x0d,0x0d,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x88,0x11,0x11,0xff,0xff,0xff,0xff,
/*8*/ 0x0f,0x00,0x00,0x00,0x00,0x11,0x11,0x11,0x11,0x10,0x10,0x10,0x10,0x77,0x08,0x08,
/*9*/ 0x08,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,0x07,0x07,0x00,0x00,0x00,0x00,
/*A*/ 0x15,0x15,0x15,0x15,0x05,0x05,0x05,0x05,0x11,0x11,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0e,0x00,0x01,0x01,0xff,0x00,0x01,0x00,
/*C*/ 0x0f,0x00,0x0f,0x0f,0x00,0x00,0x00,0x0f,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
/*D*/ 0x02,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0x1e,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*E*/ 0x00,0x00,0x00,0x00,0x17,0x40,0x40,0x40,0x2a,0x23,0x23,0x23,0x01,0x0f,0x0d,0x55,
/*F*/ 0x00,0x74,0x00,0x00,0x86,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

static BYTE NVP6124B_B1_PAL_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x02,0x0f,0x0f,0x0f,0x0f,0x0f,0x19,0x80,0x03,0x00,0x10,0x32,0x54,0x76,0x00,0x98,
/*1*/ 0xba,0xdc,0xfe,0x00,0x00,0x00,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
/*2*/ 0x88,0x88,0x03,0x10,0x14,0x15,0x00,0x00,0x00,0x88,0xff,0x40,0xaa,0xaa,0xaa,0xaa,
/*3*/ 0xaa,0x82,0x00,0x00,0x00,0x8c,0xa0,0x00,0x09,0x01,0x80,0x30,0x00,0x00,0x10,0x00,
/*4*/ 0x0f,0x0f,0x0f,0x0f,0x11,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*6*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*7*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*8*/ 0x60,0x00,0x14,0x2c,0x00,0x00,0x00,0x00,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,
/*9*/ 0x01,0x01,0x01,0x01,0x50,0x00,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*A*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xa5,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x40,0x30,0x40,0x30,0x00,0x00,0x00,0x00,0xf7,0xf7,0x00,0x00,
/*C*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xae,0x00,0x00,0x00,0x10,0x10,
/*D*/ 0x00,0x00,0x00,0xf0,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*F*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x01
};

static BYTE NVP6124B_B2_PAL_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,
/*1*/ 0x00,0x00,0x0f,0x00,0xc0,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*2*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*3*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*4*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*5*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*6*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*7*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*8*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*9*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*A*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*B*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*C*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*D*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*F*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xc0,0xc0,0x00,0x00,0xff,0xff,0xff,0x02
};

static BYTE NVP6124B_B5678_PAL_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0xc0,0x0e,0x0c,0x1f,0x00,0x20,0x40,0x80,0x50,0x38,0x0f,0x00,0x04,0x10,0x30,0x13,
/*1*/ 0x06,0x04,0x00,0x80,0x37,0x80,0x49,0x37,0xef,0xdf,0xdf,0x08,0x50,0x0c,0x00,0x88,
/*2*/ 0x88,0x20,0x23,0x00,0x2a,0xca,0xf0,0x57,0x90,0x1f,0x52,0x78,0x08,0x68,0x00,0x07,
/*3*/ 0x00,0x01,0x64,0x00,0x00,0x17,0x25,0x00,0x00,0x02,0x02,0x00,0x00,0x00,0x00,0x00,
/*4*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x44,0xaa,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0x84,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*6*/ 0x53,0x53,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0xc0,0x01,0x06,0x06,0x11,0x00,0x01,0x81,0x01,0x01,0x00,0x00,0x11,0x80,0x00,0x00,
/*8*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x3f,0xff,0xff,0xff,0x00,0x00,0x00,
/*9*/ 0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x48,0x84,0x00,0x80,0x00,0x00,0x00,0x00,
/*A*/ 0x10,0x10,0x0e,0x70,0x10,0x34,0x70,0x5c,0x40,0x20,0x30,0x40,0x10,0x08,0x04,0x20,
/*B*/ 0x40,0x50,0x0e,0x00,0x00,0x80,0x00,0x00,0xb9,0xb2,0x05,0x00,0xa0,0x00,0x00,0x00,
/*C*/ 0x0d,0x13,0x00,0x00,0x01,0x20,0x00,0x0e,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*D*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0xf4,0x40,0x00,0x00,0x00,0x0f,0xb5,0x0f,0x6e,0x40,0x40,0x01,0x40,
/*F*/ 0x10,0xff,0xc0,0x06,0x41,0x01,0x82,0x6b,0x0d,0x78,0x0a,0x5e,0x03,0x00,0x00,0x05
};

static BYTE NVP6124B_B9_PAL_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x02,0x04,0x06,0x08,0x0c,0x10,0x14,0x18,0x1c,0x20,0x28,0x30,0x38,0x40,0x48,0x50,
/*1*/ 0x58,0x60,0x68,0x70,0x78,0x7f,0x87,0x8f,0x97,0x9f,0xaf,0xbf,0xcf,0xdf,0xef,0xff,
/*2*/ 0x01,0x03,0x05,0x07,0x0b,0x0f,0x13,0x17,0x1b,0x1f,0x27,0x2f,0x37,0x3f,0x47,0x4f,
/*3*/ 0x57,0x5f,0x67,0x6f,0x77,0x7f,0x87,0x8f,0x97,0x9f,0xaf,0xbf,0xcf,0xdf,0xef,0xff,
/*4*/ 0x60,0x60,0x60,0x60,0x00,0x00,0x06,0x00,0x00,0x00,0x00,0x00,0x2a,0x53,0x53,0x53,
/*5*/ 0x75,0x35,0xb4,0x6c,0x75,0x35,0xb4,0x6c,0x75,0x35,0xb4,0x6c,0x75,0x35,0xb4,0x6c,
/*6*/ 0x00,0x00,0x00,0x00,0x18,0xc2,0x01,0x1e,0x02,0x64,0x60,0x3c,0x00,0x00,0x00,0x00,
/*7*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*8*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*9*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*A*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*C*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*D*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*F*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x09
};


#if 0
static BYTE NVP6124B_B0_720H_NTSC_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x00,0x00,0x20,0x03,0x00,0x00,0x00,0x00,0xa0,0xa0,0xa0,0xa0,0xff,0xff,0xff,0xff,
/*1*/ 0x92,0x92,0x92,0x92,0x80,0x80,0x80,0x80,0x18,0x18,0x18,0x18,0xaf,0xaf,0xaf,0xaf,
/*2*/ 0x2f,0x82,0x0b,0x43,0x2f,0x82,0x0b,0x43,0x2f,0x82,0x0b,0x43,0x2f,0x82,0x0b,0x43,
/*3*/ 0x11,0x11,0x11,0x11,0x04,0x04,0x04,0x04,0x0a,0x0a,0x0a,0x0a,0x88,0x88,0x88,0x88,
/*4*/ 0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0x00,0x00,0x00,0x00,0xf1,0x10,0x32,0x00,0x70,0x70,0x70,0x70,0x1e,0x1e,0x1e,0x1e,
/*6*/ 0x00,0x00,0x00,0x00,0x08,0x08,0x08,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x88,0x11,0x11,0xff,0xff,0xff,0xff,
/*8*/ 0x0f,0x00,0x00,0x00,0x00,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x77,0x00,0x00,
/*9*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0x04,0x00,0x00,0x00,0x00,
/*A*/ 0x15,0x15,0x15,0x15,0x07,0x07,0x07,0x07,0x11,0x11,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0e,0x00,0x01,0x01,0xff,0x00,0x01,0x00,
/*C*/ 0x0f,0x00,0x0f,0x0f,0x00,0x00,0x00,0x0d,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
/*D*/ 0x01,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0x1d,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*E*/ 0x00,0x00,0x00,0x00,0x18,0x40,0x40,0x40,0x2a,0x23,0x23,0x23,0x01,0x0f,0x0b,0x55,
/*F*/ 0x00,0xcb,0x00,0x00,0x86,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

#else
//change: 0x58... 0x98... 0x93...
static BYTE NVP6124B_B0_720H_NTSC_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x00,0x00,0xF0,0x03,0x00,0x00,0x00,0x00,0xa0,0xa0,0xa0,0xa0,0xff,0xff,0xff,0xff,
/*1*/ 0x92,0x92,0x92,0x92,0x80,0x80,0x80,0x80,0x18,0x18,0x18,0x18,0xaf,0xaf,0xaf,0xaf,
/*2*/ 0x2f,0x82,0x0b,0x43,0x2f,0x82,0x0b,0x43,0x2f,0x82,0x0b,0x43,0x2f,0x82,0x0b,0x43,
/*3*/ 0x11,0x11,0x11,0x11,0x04,0x04,0x04,0x04,0x0a,0x0a,0x0a,0x0a,0x88,0x88,0x88,0x88,
/*4*/ 0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0x00,0x00,0x00,0x00,0xf1,0x10,0x32,0x00,0x89,0x89,0x89,0x89,0x1e,0x1e,0x1e,0x1e,
/*6*/ 0x00,0x00,0x00,0x00,0x08,0x08,0x08,0x08,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x88,0x11,0x11,0xff,0xff,0xff,0xff,
/*8*/ 0x0f,0x00,0x00,0x00,0x00,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x77,0x00,0x00,
/*9*/ 0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x00,0x09,0x09,0x09,0x09,0x00,0x00,0x00,0x00,
/*A*/ 0x15,0x15,0x15,0x15,0x07,0x07,0x07,0x07,0x11,0x11,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0e,0x00,0x01,0x01,0xff,0x00,0x01,0x00,
/*C*/ 0x0f,0x00,0x0f,0x0f,0x00,0x00,0x00,0x0d,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
/*D*/ 0x01,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0x1d,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*E*/ 0x00,0x00,0x00,0x00,0x18,0x40,0x40,0x40,0x2a,0x23,0x23,0x23,0x01,0x0f,0x0b,0x55,
/*F*/ 0x00,0xcb,0x00,0x00,0x86,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};
#endif

static BYTE NVP6124B_B1_720H_NTSC_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x82,0x0f,0x0f,0x0f,0x0f,0x0f,0x19,0x80,0x03,0x00,0x10,0x32,0x54,0x76,0x00,0x98,
/*1*/ 0xba,0xdc,0xfe,0x00,0x00,0x00,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
/*2*/ 0x88,0x88,0x03,0x10,0x14,0x15,0x00,0x00,0x00,0x88,0xff,0x40,0xaa,0xaa,0xaa,0xaa,
/*3*/ 0xaa,0x82,0x00,0x00,0x00,0x8c,0xa0,0x00,0x09,0x01,0x80,0x30,0x00,0x00,0x10,0x00,
/*4*/ 0x0f,0x0f,0x0f,0x0f,0x11,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*6*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*7*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*8*/ 0x60,0x00,0x14,0x2c,0x00,0x00,0x00,0x00,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,
/*9*/ 0x01,0x01,0x01,0x01,0x50,0x00,0x00,0x0f,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,
/*A*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xa5,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x40,0x30,0x40,0x30,0x00,0x00,0x00,0x00,0xf7,0xf7,0x00,0x00,
/*C*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xae,0x00,0x00,0x00,0x10,0x10,
/*D*/ 0x00,0x00,0x00,0xf0,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*F*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x01
};

//20170410 motion on
static BYTE NVP6124B_B2_720H_NTSC_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x23,0x60,0x23,0x60,0x23,0x60,0x23,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,
/*1*/ 0x00,0x00,0x0f,0x00,0xc0,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*2*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*3*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*4*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*5*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*6*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*7*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*8*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*9*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*A*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*B*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*C*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*D*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*F*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xc0,0xc0,0x00,0x00,0xff,0xff,0xff,0x02
};

//change: 0x01, 0x2B
static BYTE NVP6124B_B5678_720H_NTSC_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0xc0,0x0c,0x0c,0x1f,0x00,0x20,0x40,0x80,0x50,0x38,0x0f,0x00,0x04,0x10,0x30,0x00,
/*1*/ 0x06,0x04,0x00,0x80,0x37,0x80,0x49,0x37,0xef,0xdf,0xdf,0x14,0x50,0x0c,0x01,0x88,
/*2*/ 0x88,0x20,0x23,0x00,0x2a,0xda,0xf0,0x57,0x90,0x1f,0x52,0x78,0x0c,0x68,0x00,0x07,
/*3*/ 0x00,0x01,0x64,0x00,0x00,0x15,0x25,0x00,0x00,0x02,0x02,0x00,0x00,0x00,0x00,0x00,
/*4*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x44,0xaa,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0x84,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*6*/ 0x53,0x53,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0xc0,0x01,0x06,0x06,0x11,0x00,0x01,0x81,0x01,0x01,0x00,0x00,0x11,0x80,0x00,0x00,
/*8*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x3f,0xff,0xff,0xff,0x00,0x00,0x00,
/*9*/ 0x0D,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x48,0x84,0x00,0x80,0x00,0x00,0x00,0x00,
/*A*/ 0x10,0x30,0x0c,0x50,0x10,0x34,0x70,0x5c,0x20,0x20,0x30,0x40,0x20,0x20,0x14,0x20,
/*B*/ 0x40,0x50,0x0e,0x00,0x00,0x80,0x00,0x00,0xb9,0xb2,0x05,0x00,0xa0,0x00,0x00,0x00,
/*C*/ 0x00,0x50,0x00,0x00,0x01,0x00,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*D*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0xec,0x40,0x00,0x00,0x00,0x0f,0x99,0x0f,0x83,0x40,0x40,0x01,0x10,
/*F*/ 0x00,0xff,0xb4,0x06,0x11,0x01,0x82,0x6b,0x0d,0x78,0x0a,0x35,0x03,0x00,0x00,0x05
};


static BYTE NVP6124B_B0_720H_PAL_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x00,0x00,0xF0,0x03,0x00,0x00,0x00,0x00,0xdd,0xdd,0xdd,0xdd,0x00,0x00,0x00,0x00,
/*1*/ 0x90,0x90,0x90,0x90,0x80,0x80,0x80,0x80,0x18,0x18,0x18,0x18,0xaf,0xaf,0xaf,0xaf,
/*2*/ 0x2f,0x02,0x0b,0x43,0x2f,0x02,0x0b,0x43,0x2f,0x02,0x0b,0x43,0x2f,0x02,0x0b,0x43,
/*3*/ 0x12,0x12,0x12,0x12,0x04,0x04,0x04,0x04,0x0a,0x0a,0x0a,0x0a,0x88,0x88,0x88,0x88,
/*4*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0x04,
/*5*/ 0x04,0x04,0x04,0x04,0x01,0x10,0x32,0x00,0x70,0x70,0x70,0x70,0x1e,0x1e,0x1e,0x1e,
/*6*/ 0x00,0x00,0x00,0x00,0x0d,0x0d,0x0d,0x0d,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x88,0x11,0x11,0xff,0xff,0xff,0xff,
/*8*/ 0x0f,0x00,0x00,0x00,0x00,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x11,0x77,0x00,0x00,
/*9*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,0x07,0x07,0x00,0x00,0x00,0x00,
/*A*/ 0x15,0x15,0x15,0x15,0x05,0x05,0x05,0x05,0x11,0x11,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0e,0x00,0x01,0x01,0xff,0x00,0x01,0x00,
/*C*/ 0x0f,0x00,0x0f,0x0f,0x00,0x00,0x00,0x0f,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
/*D*/ 0x02,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0x1e,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*E*/ 0x00,0x00,0x00,0x00,0x17,0x40,0x40,0x40,0x2a,0x23,0x23,0x23,0x01,0x0f,0x0d,0x55,
/*F*/ 0x00,0x74,0x00,0x00,0x86,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

static BYTE NVP6124B_B1_720H_PAL_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x82,0x0f,0x0f,0x0f,0x0f,0x0f,0x19,0x80,0x03,0x00,0x10,0x32,0x54,0x76,0x00,0x98,
/*1*/ 0xba,0xdc,0xfe,0x00,0x00,0x00,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
/*2*/ 0x88,0x88,0x03,0x10,0x14,0x15,0x00,0x00,0x00,0x88,0xff,0x40,0xaa,0xaa,0xaa,0xaa,
/*3*/ 0xaa,0x82,0x00,0x00,0x00,0x8c,0xa0,0x00,0x09,0x01,0x80,0x30,0x00,0x00,0x10,0x00,
/*4*/ 0x0f,0x0f,0x0f,0x0f,0x11,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*6*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*7*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*8*/ 0x60,0x00,0x14,0x2c,0x00,0x00,0x00,0x00,0x06,0x06,0x06,0x06,0x06,0x06,0x06,0x06,
/*9*/ 0x01,0x01,0x01,0x01,0x50,0x00,0x00,0x0f,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,
/*A*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xa5,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x40,0x30,0x40,0x30,0x00,0x00,0x00,0x00,0xf7,0xf7,0x00,0x00,
/*C*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xae,0x00,0x00,0x00,0x10,0x10,
/*D*/ 0x00,0x00,0x00,0xf0,0x00,0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*F*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x01
};

//20170410 motion on
static BYTE NVP6124B_B2_720H_PAL_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x23,0x60,0x23,0x60,0x23,0x60,0x23,0x60,0x03,0x60,0x03,0x60,0x03,0x60,0x03,0x60,
/*1*/ 0x00,0x00,0x0f,0x00,0xc0,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*2*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*3*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*4*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*5*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*6*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*7*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*8*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*9*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*A*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*B*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*C*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*D*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*F*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xc0,0xc0,0x00,0x00,0xff,0xff,0xff,0x02
};

//change: 0x01, 0x2B
static BYTE NVP6124B_B5678_720H_PAL_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0xc0,0x0c,0x0c,0x1f,0x00,0x20,0x40,0x80,0x50,0x38,0x0f,0x00,0x04,0x10,0x30,0x13,
/*1*/ 0x06,0x04,0x00,0x80,0x37,0x80,0x49,0x37,0xef,0xdf,0xdf,0x14,0x50,0x0c,0x00,0x88,
/*2*/ 0x88,0x24,0x23,0x00,0x2a,0xca,0xf0,0x57,0x90,0x1f,0x52,0x78,0x08,0x68,0x00,0x07,
/*3*/ 0x00,0x01,0x64,0x00,0x00,0x17,0x25,0x00,0x00,0x02,0x02,0x00,0x00,0x00,0x00,0x00,
/*4*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x44,0xaa,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0x84,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*6*/ 0x53,0x53,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0xc0,0x01,0x06,0x06,0x11,0x00,0x01,0x81,0x01,0x01,0x00,0x00,0x11,0x80,0x00,0x00,
/*8*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x3f,0xff,0xff,0xff,0x00,0x00,0x00,
/*9*/ 0x0D,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x48,0x84,0x00,0x80,0x00,0x00,0x00,0x00,
/*A*/ 0x10,0x10,0x0e,0x70,0x10,0x34,0x70,0x5c,0x40,0x20,0x30,0x40,0x10,0x08,0x04,0x20,
/*B*/ 0x40,0x50,0x0e,0x00,0x00,0x80,0x00,0x00,0xb9,0xb2,0x05,0x00,0xa0,0x00,0x00,0x00,
/*C*/ 0x0d,0x00,0x00,0x00,0x01,0x20,0x00,0x40,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,
/*D*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0xf4,0x40,0x00,0x00,0x00,0x0f,0xb5,0x0f,0x6e,0x40,0x40,0x01,0x40,
/*F*/ 0x10,0xff,0xc0,0x06,0x41,0x01,0x82,0x6b,0x0d,0x78,0x0a,0x5e,0x03,0x00,0x00,0x05
};


//change 0x18
static BYTE NVP6124B_B0_720p_30fps_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x00,0x00,0xF0,0x03,0x00,0x00,0x00,0x00,0x60,0x60,0x60,0x60,0x08,0x08,0x08,0x08,
///*1*/ 0x88,0x88,0x88,0x88,0x90,0x90,0x90,0x90,0x30,0x30,0x30,0x30,0xaf,0xaf,0xaf,0xaf,
/*1*/ 0x88,0x88,0x88,0x88,0x90,0x90,0x90,0x90,0x00,0x00,0x00,0x00,0xaf,0xaf,0xaf,0xaf,
/*2*/ 0x2f,0x92,0x0a,0x43,0x2f,0x92,0x0a,0x43,0x2f,0x92,0x0a,0x43,0x2f,0x92,0x0a,0x43,
/*3*/ 0x12,0x12,0x12,0x12,0x04,0x04,0x04,0x04,0x0a,0x0a,0x0a,0x0a,0x90,0x90,0x90,0x90,
/*4*/ 0xfd,0xfd,0xfd,0xfd,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x04,0x04,0x04,0x04,
/*5*/ 0x04,0x04,0x04,0x04,0xf1,0x10,0x32,0x00,0x90,0x90,0x90,0x90,0x9e,0x9e,0x9e,0x9e,
/*6*/ 0x00,0x00,0x00,0x00,0xb2,0xb2,0xb2,0xb2,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x88,0x11,0x11,0xff,0xff,0xff,0xff,
/*8*/ 0x0f,0x06,0x06,0x06,0x06,0x00,0x00,0x00,0x00,0x10,0x10,0x10,0x10,0x77,0x0d,0x0d,
/*9*/ 0x0d,0x0d,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0x04,0x00,0x00,0x00,0x00,
/*A*/ 0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x11,0x11,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0e,0x00,0x01,0x01,0xff,0x00,0x01,0x00,
/*C*/ 0x0f,0x01,0x0f,0x0f,0xff,0x00,0x03,0x0f,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
/*D*/ 0x04,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0x08,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*E*/ 0x00,0x00,0x00,0x00,0x1b,0x40,0x40,0x40,0x42,0x47,0x47,0x47,0x01,0x0f,0x0f,0x55,
/*F*/ 0xbf,0xcd,0x00,0x0e,0x86,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x66,0x66,0x00
};


static BYTE NVP6124B_B1_720p_30fps_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x82,0x0f,0x0f,0x0f,0x0f,0x0f,0x19,0x80,0x03,0x00,0x10,0x32,0x54,0x76,0x00,0x98,
/*1*/ 0xba,0xdc,0xfe,0x00,0x00,0x00,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
/*2*/ 0x88,0x88,0x03,0x10,0x14,0x15,0x00,0x00,0x00,0x88,0xff,0x40,0xaa,0xaa,0xaa,0xaa,
/*3*/ 0xaa,0x82,0x00,0x00,0x00,0x8c,0xa0,0x00,0x09,0x01,0x80,0x30,0x00,0x00,0x10,0x00,
/*4*/ 0x0f,0x0f,0x0f,0x0f,0x11,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*6*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*7*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*8*/ 0x60,0x00,0x14,0x2c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x40,
/*9*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0f,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,
/*A*/ 0x01,0x01,0x01,0x01,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*B*/ 0x00,0x00,0x00,0x00,0x40,0x30,0x40,0x30,0x00,0x00,0x00,0x00,0x00,0xd0,0xdd,0x0d,
/*C*/ 0x00,0x00,0x00,0x00,0x11,0x11,0x11,0x11,0x00,0x00,0xFF,0x00,0x43,0x43,0x43,0x43,
/*D*/ 0x00,0x00,0x00,0xf0,0x00,0x01,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*F*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x01
};

//change 0x2B /0x58
static BYTE NVP6124B_B5678_720p_30fps_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0xc0,0x0e,0x0c,0x1f,0x00,0x24,0x40,0x80,0x50,0x38,0x0f,0x00,0x04,0x10,0x30,0x00,
/*1*/ 0x06,0x06,0x00,0x80,0x37,0x80,0x49,0x37,0xef,0xdf,0xdf,0x08,0x50,0x0c,0x01,0x88,
///*2*/ 0x84,0x20,0x23,0x00,0x2a,0xdb,0xf0,0x57,0x90,0x70,0x52,0x78,0x00,0x68,0x00,0x07,
/*2*/ 0x84,0x20,0x23,0x00,0x2a,0xdb,0xf0,0x57,0x90,0x70,0x52,0xA8,0x00,0x68,0x00,0x07,
/*3*/ 0x00,0x01,0x64,0x00,0x00,0x15,0x25,0x00,0x00,0x02,0x02,0x00,0x00,0x00,0x00,0x00,
/*4*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x44,0xaa,0x00,0x00,0x00,0x00,0x00,
///*5*/ 0x84,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x03,0x00,0x00,0x00,0x00,0x00,0x00,0x30,
/*5*/ 0x84,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x30,
/*6*/ 0x53,0x53,0x20,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0xc0,0x01,0x06,0x06,0x11,0x00,0x01,0x81,0x01,0x01,0x01,0x81,0x11,0x80,0x00,0x00,
/*8*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*9*/ 0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x48,0x84,0x00,0x80,0x00,0x00,0x00,0x00,
/*A*/ 0x10,0x30,0x0c,0x50,0x10,0x34,0x70,0x5c,0x20,0x20,0x30,0x40,0x20,0x20,0x14,0xa0,
/*B*/ 0x40,0x50,0x0e,0x00,0x00,0x80,0x00,0x00,0x38,0xb2,0x05,0x00,0xa0,0x00,0x00,0x00,
/*C*/ 0x16,0x13,0x00,0x00,0x01,0x04,0x00,0x55,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*D*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0c,0x0e,0x12,0x14,0x1c,0x2c,0x34,0x00,
/*E*/ 0x00,0x00,0x00,0x44,0x00,0x00,0x00,0x00,0x01,0xbb,0x01,0xbb,0x40,0x40,0x02,0xf5,
/*F*/ 0x20,0xff,0xb0,0x04,0xf6,0x02,0x7e,0x68,0x0d,0x75,0x0a,0x26,0x03,0x00,0x00,0x05
};

//change 0x18..
static BYTE NVP6124B_B0_720p_25fps_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x00,0x00,0xF0,0x03,0x00,0x00,0x00,0x00,0x60,0x60,0x60,0x60,0x08,0x08,0x08,0x08,
///*1*/ 0x88,0x88,0x88,0x88,0x90,0x90,0x90,0x90,0x30,0x30,0x30,0x30,0xaf,0xaf,0xaf,0xaf,
/*1*/ 0x88,0x88,0x88,0x88,0x90,0x90,0x90,0x90,0x00,0x00,0x00,0x00,0xaf,0xaf,0xaf,0xaf,
/*2*/ 0x2f,0x92,0x0a,0x43,0x2f,0x92,0x0a,0x43,0x2f,0x92,0x0a,0x43,0x2f,0x92,0x0a,0x43,
/*3*/ 0x12,0x12,0x12,0x12,0x04,0x04,0x04,0x04,0x0a,0x0a,0x0a,0x0a,0x90,0x90,0x90,0x90,
/*4*/ 0x00,0x00,0x00,0x00,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x30,0x04,0x04,0x04,0x04,
/*5*/ 0x04,0x04,0x04,0x04,0x01,0x10,0x10,0x00,0x80,0x80,0x80,0x80,0x9e,0x9e,0x9e,0x9e,
/*6*/ 0x00,0x00,0x00,0x00,0xb1,0xb1,0xb1,0xb1,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x88,0x11,0x11,0xff,0xff,0xff,0xff,
/*8*/ 0x0f,0x07,0x07,0x07,0x07,0x00,0x00,0x00,0x00,0x10,0x10,0x10,0x10,0x77,0x0d,0x0d,
/*9*/ 0x0d,0x0d,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,0x07,0x07,0x00,0x00,0x00,0x00,
/*A*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x11,0x11,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0e,0x00,0x01,0x01,0xff,0x00,0x01,0x00,
/*C*/ 0x0f,0x00,0x01,0x01,0xff,0x00,0x01,0x01,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
/*D*/ 0x08,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0x09,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*E*/ 0x00,0x00,0x00,0x00,0x19,0x40,0x40,0x40,0x42,0x47,0x47,0x47,0x01,0x0f,0x01,0x55,
/*F*/ 0x03,0x29,0x00,0x0e,0x86,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x77,0x77,0x00
};

static BYTE NVP6124B_B1_720p_25fps_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x82,0x0f,0x0f,0x0f,0x0f,0x0f,0x1a,0x80,0x03,0x00,0x10,0x32,0x54,0x76,0x00,0x98,
/*1*/ 0xba,0xdc,0xfe,0x00,0x00,0x00,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
/*2*/ 0x88,0x88,0x03,0x10,0x14,0x15,0x00,0x00,0x00,0x88,0xff,0x40,0xaa,0xaa,0xaa,0xaa,
/*3*/ 0xaa,0x82,0x00,0x00,0x00,0x8c,0xa0,0x00,0x08,0x01,0x80,0x30,0x00,0x00,0x10,0x00,
/*4*/ 0x0f,0x0f,0x0f,0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*6*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*7*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*8*/ 0x60,0x00,0x14,0x2c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x40,
/*9*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0f,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,
/*A*/ 0x01,0x01,0x01,0x01,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*B*/ 0x00,0x00,0x00,0x00,0x40,0x30,0x40,0x30,0x00,0x00,0x00,0x00,0x00,0xd0,0xdd,0x0d,
/*C*/ 0x00,0x00,0x00,0x00,0x11,0x11,0x11,0x11,0x00,0x00,0xFF,0x00,0x43,0x43,0x43,0x43,
/*D*/ 0x00,0x00,0x00,0xf0,0x00,0x01,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*F*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x01
};

static BYTE NVP6124B_B1_720p_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x82,0x0f,0x0f,0x0f,0x0f,0x0f,0x1a,0x80,0x03,0x00,0x10,0x32,0x54,0x76,0x00,0x98,
/*1*/ 0xba,0xdc,0xfe,0x00,0x00,0x00,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
/*2*/ 0x88,0x88,0x03,0x10,0x14,0x15,0x00,0x00,0x00,0x88,0xff,0x40,0xaa,0xaa,0xaa,0xaa,
/*3*/ 0xaa,0x82,0x00,0x00,0x00,0x8c,0xa0,0x00,0x08,0x01,0x80,0x30,0x00,0x00,0x10,0x00,
/*4*/ 0x0f,0x0f,0x0f,0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*6*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*7*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*8*/ 0x60,0x00,0x14,0x2c,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x40,0x40,0x40,0x40,
/*9*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0f,0x00,0x00,0x01,0x00,0x00,0x00,0x00,0x00,
/*A*/ 0x01,0x01,0x01,0x01,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*B*/ 0x00,0x00,0x00,0x00,0x40,0x30,0x40,0x30,0x00,0x00,0x00,0x00,0x00,0xd0,0xdd,0x0d,
/*C*/ 0x00,0x00,0x00,0x00,0x11,0x11,0x11,0x11,0x00,0x00,0xFF,0x00,0x43,0x43,0x43,0x43,
/*D*/ 0x00,0x00,0x00,0xf0,0x00,0x01,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*F*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x01
};


//change 0x2B /0x58
static BYTE NVP6124B_B5678_720p_25fps_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0xc0,0x0d,0x0c,0x1f,0x00,0x24,0x40,0x80,0x50,0x38,0x0f,0x00,0x04,0x10,0x30,0x00,
/*1*/ 0x06,0x06,0x00,0x80,0x37,0x80,0x49,0x37,0xef,0xdf,0xdf,0x08,0x50,0x0c,0x00,0x88,
///*2*/ 0x84,0x20,0x23,0x00,0x2a,0xdb,0xf0,0x57,0x90,0x70,0x52,0x78,0x00,0x68,0x00,0x07,
/*2*/ 0x84,0x20,0x23,0x00,0x2a,0xdb,0xf0,0x57,0x90,0x70,0x52,0xA8,0x00,0x68,0x00,0x07,
/*3*/ 0x00,0x01,0x64,0x00,0x00,0x17,0x25,0x00,0x00,0x02,0x02,0x00,0x00,0x00,0x00,0x00,
/*4*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x44,0xaa,0x00,0x00,0x00,0x00,0x00,
///*5*/ 0x84,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x13,0x00,0x00,0x00,0x00,0x00,0x00,0x30,
/*5*/ 0x84,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x50,0x00,0x00,0x00,0x00,0x00,0x00,0x30,
/*6*/ 0x53,0x53,0x20,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0xc0,0x01,0x06,0x06,0x11,0x00,0x01,0x81,0x01,0x01,0x00,0x00,0x11,0x80,0x00,0x00,
/*8*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*9*/ 0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x48,0x84,0x00,0x80,0x00,0x00,0x00,0x00,
/*A*/ 0x10,0x10,0x0e,0x70,0x10,0x34,0x70,0x5c,0x40,0x20,0x30,0x40,0x10,0x08,0x04,0xa0,
/*B*/ 0x40,0x50,0x0e,0x00,0x00,0x80,0x00,0x00,0x38,0xb2,0x05,0x00,0xa0,0x00,0x00,0x00,
/*C*/ 0x16,0x14,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*D*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0c,0x0e,0x12,0x14,0x1c,0x2c,0x34,0x00,
/*E*/ 0x00,0x00,0x07,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*F*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x05
};


static BYTE NVP6124B_B0_1080p_30fps_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x00,0x00,0x20,0x03,0x00,0x00,0x00,0x00,0x60,0x60,0x60,0x60,0xf4,0xf4,0xf4,0xf4,
/*1*/ 0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x00,0x00,0x00,0x00,0xaf,0xaf,0xaf,0xaf,
/*2*/ 0x2f,0x92,0x0b,0x43,0x2f,0x92,0x0a,0x43,0x2f,0x92,0x0a,0x43,0x2f,0x92,0x0a,0x43,
/*3*/ 0x12,0x12,0x12,0x12,0x04,0x04,0x04,0x04,0x0a,0x0a,0x0a,0x0a,0x80,0x80,0x80,0x80,
/*4*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0x00,0x00,0x00,0x00,0xf1,0x10,0x10,0x00,0x4e,0x4e,0x4e,0x4e,0x9e,0x9e,0x9e,0x9e,
/*6*/ 0x00,0x00,0x00,0x00,0x8d,0x8d,0x8d,0x8d,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x88,0x11,0x11,0xff,0xff,0xff,0xff,
/*8*/ 0x0f,0x02,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0x10,0x10,0x10,0x10,0x77,0x09,0x09,
/*9*/ 0x09,0x09,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0x04,0x00,0x00,0x00,0x00,
/*A*/ 0x00,0x00,0x00,0x00,0x01,0x01,0x01,0x01,0x11,0x11,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0e,0x00,0x01,0x01,0xff,0x00,0x01,0x00,
/*C*/ 0x0f,0x00,0x01,0x01,0xff,0x00,0x01,0x01,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
/*D*/ 0x40,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0x08,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*E*/ 0xff,0x00,0x00,0x00,0x17,0x40,0x40,0x40,0x52,0x57,0x57,0x57,0x01,0x0f,0x01,0x55,
/*F*/ 0x00,0x5c,0x00,0x0e,0x86,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x22,0x22,0x00
};


static BYTE NVP6124B_B1_1080p_30fps_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x02,0x0f,0x0f,0x0f,0x0f,0x0f,0x19,0x80,0x03,0x00,0x10,0x32,0x54,0x76,0x00,0x98,
/*1*/ 0xba,0xdc,0xfe,0x00,0x00,0x00,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
/*2*/ 0x88,0x88,0x03,0x10,0x14,0x15,0x00,0x00,0x00,0x88,0xff,0x40,0xaa,0xaa,0xaa,0xaa,
/*3*/ 0xaa,0x82,0x00,0x00,0x00,0x8c,0xa0,0x00,0x09,0x01,0x80,0x30,0x00,0x00,0x10,0x00,
/*4*/ 0x0f,0x0f,0x0f,0x0f,0x11,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*6*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*7*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*8*/ 0x60,0x00,0x14,0x2c,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0x04,0x84,0x84,0x84,0x84,
/*9*/ 0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*A*/ 0x02,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0xa5,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x40,0x30,0x40,0x30,0x00,0x00,0x00,0x00,0xf7,0xf7,0x00,0x00,
/*C*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xae,0x00,0x69,0x69,0x69,0x69,
/*D*/ 0x00,0x00,0x00,0xf0,0x00,0x01,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*F*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x01
};

static BYTE NVP6124B_B5678_1080p_30fps_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0xc0,0x0c,0x0c,0x1f,0x00,0x24,0x40,0x80,0x50,0x38,0x0f,0x00,0x04,0x10,0x30,0x00,
/*1*/ 0x06,0x06,0x00,0x80,0x37,0x80,0x49,0x37,0xef,0xdf,0xdf,0x08,0x50,0x0c,0x01,0x88,
/*2*/ 0x84,0x20,0x23,0x00,0x1a,0xdc,0xf0,0x57,0x90,0x70,0x72,0xa8,0x00,0x68,0x00,0x07,
/*3*/ 0x00,0x01,0x64,0x00,0x00,0x15,0x25,0x00,0x00,0x02,0x02,0x00,0x00,0x00,0x00,0x00,
/*4*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xee,0x00,0x44,0xaa,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0xc6,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x30,
/*6*/ 0x53,0x53,0x20,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0xc0,0x01,0x06,0x06,0x11,0x00,0x01,0x81,0x01,0x01,0x01,0x81,0x11,0x80,0x00,0x00,
/*8*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*9*/ 0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x48,0x84,0x00,0x80,0x00,0x00,0x00,0x00,
/*A*/ 0x10,0x30,0x0c,0x50,0x10,0x34,0x70,0x5c,0x20,0x20,0x30,0x40,0x20,0x20,0x14,0xa0,
/*B*/ 0x40,0x50,0x0e,0x00,0x00,0x80,0x00,0x00,0x38,0xb2,0x05,0x04,0xa0,0x00,0x00,0x00,
/*C*/ 0x16,0x13,0x00,0x00,0x0f,0xa0,0x02,0x77,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*D*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x1f,0x2b,0x7f,0xff,0xff,0xff,0x00,
/*E*/ 0x00,0x00,0x00,0x43,0x00,0x00,0x00,0x00,0x01,0xea,0x01,0xec,0x40,0x40,0x04,0x4c,
/*F*/ 0x30,0xff,0x20,0x03,0x6d,0x04,0x97,0x7f,0x0d,0x8c,0x0b,0x47,0x03,0x00,0x00,0x05
};

static BYTE NVP6124B_B0_1080p_25fps_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x00,0x00,0x20,0x03,0x00,0x00,0x00,0x00,0x60,0x60,0x60,0x60,0xf4,0xf4,0xf4,0xf4,
/*1*/ 0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x90,0x00,0x00,0x00,0x00,0xaf,0xaf,0xaf,0xaf,
/*2*/ 0x2f,0x92,0x0b,0x43,0x2f,0x92,0x0a,0x43,0x2f,0x92,0x0a,0x43,0x2f,0x92,0x0a,0x43,
/*3*/ 0x12,0x12,0x12,0x12,0x04,0x04,0x04,0x04,0x0a,0x0a,0x0a,0x0a,0x80,0x80,0x80,0x80,
/*4*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0x00,0x00,0x00,0x00,0x01,0x10,0x10,0x00,0x6a,0x6a,0x6a,0x6a,0x9e,0x9e,0x9e,0x9e,
/*6*/ 0x00,0x00,0x00,0x00,0xbf,0xbf,0xbf,0xbf,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x88,0x88,0x11,0x11,0xff,0xff,0xff,0xff,
/*8*/ 0x0f,0x03,0x03,0x03,0x03,0x00,0x00,0x00,0x00,0x10,0x10,0x10,0x10,0x77,0x0a,0x0a,
/*9*/ 0x0a,0x0a,0x00,0x00,0x00,0x00,0x00,0x00,0x07,0x07,0x07,0x07,0x00,0x00,0x00,0x00,
/*A*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x11,0x11,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x0e,0x00,0x01,0x01,0xff,0x00,0x01,0x00,
/*C*/ 0x0f,0x00,0x01,0x01,0xff,0x00,0x01,0x01,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
/*D*/ 0x80,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0x08,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*E*/ 0x00,0x00,0xff,0x00,0x17,0x40,0x40,0x40,0x52,0x57,0x57,0x57,0x01,0x0f,0x01,0x55,
/*F*/ 0x00,0x22,0x00,0x0e,0x86,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x33,0x33,0x00
};

static BYTE NVP6124B_B1_1080p_25fps_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0x02,0x0f,0x0f,0x0f,0x0f,0x0f,0x19,0x80,0x03,0x00,0x10,0x32,0x54,0x76,0x00,0x98,
/*1*/ 0xba,0xdc,0xfe,0x00,0x00,0x00,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,0x88,
/*2*/ 0x88,0x88,0x03,0x10,0x14,0x15,0x00,0x00,0x00,0x88,0xff,0x40,0xaa,0xaa,0xaa,0xaa,
/*3*/ 0xaa,0x82,0x00,0x00,0x00,0x8c,0xa0,0x00,0x09,0x01,0x80,0x30,0x00,0x00,0x10,0x00,
/*4*/ 0x0f,0x0f,0x0f,0x0f,0x11,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*6*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*7*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*8*/ 0x60,0x00,0x14,0x2c,0x00,0x00,0x00,0x00,0x04,0x04,0x04,0x04,0x84,0x84,0x84,0x84,
/*9*/ 0x01,0x01,0x01,0x01,0x00,0x00,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*A*/ 0x02,0x02,0x02,0x02,0x00,0x00,0x00,0x00,0xa5,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*B*/ 0x00,0x00,0x00,0x00,0x40,0x30,0x40,0x30,0x00,0x00,0x00,0x00,0xf7,0xf7,0x00,0x00,
/*C*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xae,0x00,0x69,0x69,0x69,0x69,
/*D*/ 0x00,0x00,0x00,0xf0,0x00,0x01,0x00,0x0f,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*E*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
/*F*/ 0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x01
};

static BYTE NVP6124B_B5678_1080p_25fps_Buf[] = {
   // 0x00,0x01,0x02,0x03,0x04,0x05,0x06,0x07,0x08,0x09,0x0A,0x0B,0x0C,0x0D,0x0E,0x0F
/*0*/ 0xc0,0x0c,0x0c,0x1f,0x00,0x24,0x40,0x80,0x50,0x38,0x0f,0x00,0x04,0x10,0x30,0x00,
/*1*/ 0x06,0x06,0x00,0x80,0x37,0x80,0x49,0x37,0xef,0xdf,0xdf,0x08,0x50,0x0c,0x00,0x88,
/*2*/ 0x84,0x20,0x23,0x00,0x2a,0xdc/*0xcc*/,0xf0,0x57,0x90,0x70,0x72,0xa8,0x00,0x68,0x00,0x07,
/*3*/ 0x00,0x01,0x64,0x00,0x00,0x17,0x25,0x00,0x00,0x02,0x02,0x00,0x00,0x00,0x00,0x00,
/*4*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x04,0x00,0x44,0xaa,0x00,0x00,0x00,0x00,0x00,
/*5*/ 0x84,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x03,0x01,0x00,0x00,0x00,0x00,0x00,0x30,
/*6*/ 0x53,0x53,0x20,0x00,0x02,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*7*/ 0xc0,0x01,0x06,0x06,0x11,0x00,0x01,0x81,0x01,0x01,0x00,0x00,0x11,0x80,0x00,0x00,
/*8*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*9*/ 0x01,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x48,0x84,0x00,0x80,0x00,0x00,0x00,0x00,
/*A*/ 0x10,0x10,0x0e,0x70,0x10,0x34,0x70,0x5c,0x40,0x20,0x30,0x40,0x10,0x08,0x04,0xa0,
/*B*/ 0x40,0x50,0x0e,0x00,0x00,0x80,0x00,0x00,0x38,0xb2,0x05,0x00,0xa0,0x00,0x00,0x00,
/*C*/ 0x16,0x13,0x00,0x00,0x01,0x20,0x00,0x33,0x04,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
/*D*/ 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x10,0x1f,0x2b,0x7f,0xff,0xff,0xff,0x00,
/*E*/ 0x00,0x00,0x00,0x44,0x00,0x00,0x00,0x00,0x01,0xee,0x01,0xee,0x40,0x40,0x04,0x4c,
/*F*/ 0x31,0xff,0xc0,0x03,0x6d,0x04,0x97,0x7e,0x0e,0x8c,0x0b,0x73,0x03,0x00,0x00,0x05
};


static void Write_I2C(unsigned char dev_addr, unsigned char addr, unsigned char *data, unsigned char val, int cnt)
{
	int i;
	unsigned char buf[512] = {0,};
	if(cnt == 1)
	{
		I2CWriteByte( dev_addr, addr, val );
	}
	else
	{
		for(i=0;i<cnt;i++)
		{
			I2CWriteByte( dev_addr, addr + i, data[addr + i] );
		}
	}
}


static VDEC_N123_CHIP N123_DetectChip( n123_detect_param *pParam )
{
	VDEC_N123_CHIP ret_chip = VDEC_N123_CHIP_UNKNOWN;

	int id0, id1;

	int DEV_ADDR = pParam->devaddr;

	I2CWriteByte(DEV_ADDR, 0xFF, 0x00);

	I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
	id0 = I2CReadByte(DEV_ADDR, 0xF4);
	I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
	id1 = I2CReadByte(DEV_ADDR, 0xF4);

	pParam->chip_id = (id0<<0) | (id1<<8);

	if(id1==0x83)
		ret_chip =VDEC_N123_CHIP_N2;
	else if(id0==0x86)
		ret_chip =VDEC_N123_CHIP_N3;
	else if(id1==0x82)
		ret_chip =VDEC_N123_CHIP_N1;

	pParam->chip_def = ret_chip;

	//printk("N123_drv : DetectChip(%x) : (%x,%x)(%d)\n",DEV_ADDR,id0,id1,ret_chip);

	return ret_chip;
}


static void WriteBankAll_nvp6124B_H720( int _0ntsc1pal )
{
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK0,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B0_720H_PAL_Buf : NVP6124B_B0_720H_NTSC_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B1_720H_PAL_Buf : NVP6124B_B1_720H_NTSC_Buf,0, 255 );

	//Write_I2C( DEV_ADDR, 0xFF, NULL, BANK2,1);
	//Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B2_PAL_Buf : NVP6124B_B2_NTSC_Buf,0, 255 );

	/*
	--------------------[BANK = 2]----------------------
	0x00=0x13
	0x02=0x13
	0x04=0x13
	0x06=0x13
	 */
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK2,1);
	Write_I2C( DEV_ADDR, 0x00, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x02, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x04, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x06, NULL, 0x13,1);

	/*
	--------------------[BANK = 3]----------------------
	0x6B=0x00
	0xEB=0x00
	*/
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK3,1);
	Write_I2C( DEV_ADDR, 0x6B, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0xEB, NULL, 0x00,1);

	/*
	--------------------[BANK = 4]----------------------
	0x6B=0x00
	0xEB=0x00
	*/
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK4,1);
	Write_I2C( DEV_ADDR, 0x6B, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0xEB, NULL, 0x00,1);


	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK5,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B5678_720H_PAL_Buf : NVP6124B_B5678_720H_NTSC_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK6,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B5678_720H_PAL_Buf : NVP6124B_B5678_720H_NTSC_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK7,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B5678_720H_PAL_Buf : NVP6124B_B5678_720H_NTSC_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK8,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B5678_720H_PAL_Buf : NVP6124B_B5678_720H_NTSC_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK9,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B9_PAL_Buf : NVP6124B_B9_NTSC_Buf,0, 255 );
}

u8_t Struation_Data(VOID)
{
    if(AP_GetColor_Struation() < 41)
        return AP_GetColor_Struation() *3;
    else
        return 41*3 + (AP_GetColor_Struation() -41)*2;
}
int N3_Init_ch( int fmt_res ,int _0ntsc1pal,int ch)
{
	int tmp;

  // for(tmp=0;tmp<3;tmp++)
   {
		switch(fmt_res)
		{
			case VDEC_N123_FMT_SH720:
					I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
					I2CWriteByte(DEV_ADDR, 0x08+ch%4, _0ntsc1pal?0xDD:0xA0);

                    I2CWriteByte(DEV_ADDR, 0x0c+ch%4, 0x00 + AP_GetColor_Brightness());//brigtness //0x08
					I2CWriteByte(DEV_ADDR, 0x10+ch%4, 0x37 + AP_GetColor_Contrast());//contrast		//0x80
					I2CWriteByte(DEV_ADDR, 0x3c+ch%4, 0x0E + Struation_Data());//stuation//0xB0
					I2CWriteByte(DEV_ADDR, 0x14+ch%4, _0ntsc1pal?0xff:0xff);//0x80

					I2CWriteByte(DEV_ADDR, 0x18+ch%4, _0ntsc1pal?0x01:0x01);   //0x18 default ; 0x04
					I2CWriteByte(DEV_ADDR, 0x21+4*(ch%4), _0ntsc1pal?0x01:0x81);
					I2CWriteByte(DEV_ADDR, 0x22+4*(ch%4), _0ntsc1pal?0x0A:0x0A);
					I2CWriteByte(DEV_ADDR, 0x23+4*(ch%4), _0ntsc1pal?0x41:0x41);
					I2CWriteByte(DEV_ADDR, 0x30+ch%4, _0ntsc1pal?0x09:0x06);
					I2CWriteByte(DEV_ADDR, 0x40+ch%4, _0ntsc1pal?0x00:0x01);
					I2CWriteByte(DEV_ADDR, 0x44+ch%4, _0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0x48+ch%4, _0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0x4c+ch%4, _0ntsc1pal?0x04:0x00);
					I2CWriteByte(DEV_ADDR, 0x50+ch%4, _0ntsc1pal?0x04:0x00);

					I2CWriteByte(DEV_ADDR, 0x54+ch%4, _0ntsc1pal?0x00:0x00);
					#if 0
					tmp = I2CReadByte(DEV_ADDR, 0x54)&0xFe;
					if(_0ntsc1pal==1) //PAL
					tmp &= ~(0x10<<(ch%4));
					else
					tmp |= (0x10<<(ch%4));
                    #endif
					//I2CWriteByte(DEV_ADDR, 0x54, tmp);
					I2CWriteByte(DEV_ADDR, 0x58+ch%4, _0ntsc1pal?0x8A:0x68); // h_delay adjust
					I2CWriteByte(DEV_ADDR, 0x5c+ch%4, _0ntsc1pal?0x1E:0x1E);
					I2CWriteByte(DEV_ADDR, 0x64+ch%4, _0ntsc1pal?0x2e:0x2A);//V_delay

					if(N3_Mode==0x01||N3_Mode==0x03||N3_Mode==0x05)
					{
						I2CWriteByte(DEV_ADDR, 0x81+ch%4, _0ntsc1pal?0x00:0x00);
						I2CWriteByte(DEV_ADDR, 0x85+ch%4, _0ntsc1pal?0x11:0x11);
					}
					else if(N3_Mode==0x02)
					{
						I2CWriteByte(DEV_ADDR, 0x81+ch%4, _0ntsc1pal?0x10:0x00);
						I2CWriteByte(DEV_ADDR, 0x85+ch%4, _0ntsc1pal?0x00:0x00);
					}

					I2CWriteByte(DEV_ADDR, 0x89+ch%4, _0ntsc1pal?0x11:0x11);
					I2CWriteByte(DEV_ADDR, ch%4+0x8E, _0ntsc1pal?0x00:0x00);

					I2CWriteByte(DEV_ADDR, 0x93+ch%4, _0ntsc1pal?0x01:0x00); //H zoom disable
					I2CWriteByte(DEV_ADDR, 0x98+ch%4, _0ntsc1pal?0x0C:0x09); // ZOOM Dot
					I2CWriteByte(DEV_ADDR, 0xa0+ch%4, _0ntsc1pal?0x15:0x15);
					I2CWriteByte(DEV_ADDR, 0xa4+ch%4, _0ntsc1pal?0x05:0x07);

					#if 0 // 20170412 change cvbs picature size
					//I2CWriteByte(DEV_ADDR, 0x58+ch%4, _0ntsc1pal?0x84:0x84); // h_delay adjust
					//I2CWriteByte(DEV_ADDR, 0x89+ch%4, _0ntsc1pal?0x01:0x01); //mask disable
					I2CWriteByte(DEV_ADDR, 0x93+ch%4, _0ntsc1pal?0x01:0x01); //H zoom enable
					I2CWriteByte(DEV_ADDR, 0x98+ch%4, _0ntsc1pal?0x09:0x09); // ZOOM Dot
					#endif

					I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
					I2CWriteByte(DEV_ADDR, 0x88+ch%4, 0x06);//0x06
					I2CWriteByte(DEV_ADDR, 0x8c+ch%4, 0x06);//0x06
					I2CWriteByte(DEV_ADDR, 0x90+ch%4, 0x00);
					I2CWriteByte(DEV_ADDR, 0xa0+ch%4, 0x00);
					//I2CWriteByte(DEV_ADDR, 0xd6, 0xff); //close HS/VS
					I2CWriteByte(DEV_ADDR, 0xd7,I2CReadByte(DEV_ADDR, 0xd7)&(~(1<<(ch%4))));

					I2CWriteByte(DEV_ADDR, 0xFF, 0x02);
					tmp = I2CReadByte(DEV_ADDR, 0x16+(ch%4)/2);
					I2CWriteByte(DEV_ADDR,0x16+(ch%4)/2, (tmp&(ch%2==0?0xF0:0x0F))|(0x00<<((ch%2)*4)));

					I2CWriteByte(DEV_ADDR, 0xFF, 0x05+ch%4);
					Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B5678_720H_PAL_Buf : NVP6124B_B5678_720H_NTSC_Buf,0, 255 );

					I2CWriteByte(DEV_ADDR, 0xFF, 0x09);
					I2CWriteByte(DEV_ADDR, 0x40+(ch%4), 0x60);
					I2CWriteByte(DEV_ADDR, 0x44, I2CReadByte(DEV_ADDR, 0x44)&(~(1<<(ch%4))));
					I2CWriteByte(DEV_ADDR, 0x46, 0x06);

					#ifdef N3_BT601_Setting  //set register as N3 guide document
					/* H/V out through MPP pin */
					I2CWriteByte(DEV_ADDR, 0xFF,0x05+ch%4);
					I2CWriteByte(DEV_ADDR, 0x3C,0x10);
					I2CWriteByte(DEV_ADDR, 0x2C,0x00);  //0x40: bt601 ; 0x00: bt656

					if(N3_Mode==0x01||N3_Mode==0x03||N3_Mode==0x05)
					{
						I2CWriteByte(DEV_ADDR, 0x40,0xEF);
						I2CWriteByte(DEV_ADDR, 0x42,0x00);

						I2CWriteByte(DEV_ADDR, 0x9C,0x06);
						//I2CWriteByte(DEV_ADDR, 0x9D,0x08);
						I2CWriteByte(DEV_ADDR, 0x9D,0x09);
						I2CWriteByte(DEV_ADDR, 0x9E,0x00);
						//I2CWriteByte(DEV_ADDR, 0x9F,0x67);
						I2CWriteByte(DEV_ADDR, 0x9F,0x68);

						 //change vdelay
						I2CWriteByte(DEV_ADDR, 0x33,_0ntsc1pal?0x41:0x01);  //20170525: ntsc: 0x41
						I2CWriteByte(DEV_ADDR, 0x34,_0ntsc1pal?0x34:0x00);  //20170525: ntsc: 0x03
						I2CWriteByte(DEV_ADDR, 0x35,_0ntsc1pal?0x15:0x11);	//20170525: ntsc: 0x12
						I2CWriteByte(DEV_ADDR, 0x36,0x9f);

						I2CWriteByte(DEV_ADDR, 0x3b,0x00);

						I2CWriteByte(DEV_ADDR, 0x6c,0x1F);
						I2CWriteByte(DEV_ADDR, 0x6D,0xFF); //change vertical shaking
						//printk("N3 sh720h each BT601 ch%d %s setting  \n",ch,_0ntsc1pal?"PAL":"NTSC");
					}
					else if(N3_Mode==0x02)
					{
						I2CWriteByte(DEV_ADDR, 0x40,0xBC);
						I2CWriteByte(DEV_ADDR, 0x42,0x00);

						I2CWriteByte(DEV_ADDR, 0x9C,0x00);
						I2CWriteByte(DEV_ADDR, 0x9D,0x00);
						I2CWriteByte(DEV_ADDR, 0x9E,0x00);
						I2CWriteByte(DEV_ADDR, 0x9F,0x00);

						I2CWriteByte(DEV_ADDR, 0x33,0x00);
						I2CWriteByte(DEV_ADDR, 0x34,0x00);
						I2CWriteByte(DEV_ADDR, 0x35,0x00);
						I2CWriteByte(DEV_ADDR, 0x36,0x00);

						I2CWriteByte(DEV_ADDR, 0x3b,0x00);

						I2CWriteByte(DEV_ADDR, 0x6c,0x1F);//0x0F  //0x0F: bt656 60hz; 0x17~0x1f: bt601 30hz; 0x10~0x16: bt601 60hz
						I2CWriteByte(DEV_ADDR, 0x6D,0xFF); //change vertical shaking
						//printk("N3 720h each BT601 ch%d %s setting  \n",ch,_0ntsc1pal?"PAL":"NTSC");
					}
					#endif
					//printk("N3 720h each ch%d %s setting \n",ch,_0ntsc1pal?"PAL":"NTSC");
					break;

			case VDEC_N123_FMT_720P:
		    default:
					I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
					I2CWriteByte(DEV_ADDR, 0x08+ch%4, _0ntsc1pal?0x60:0x60);

					I2CWriteByte(DEV_ADDR, 0x0c+ch%4,  0x00 + AP_GetColor_Brightness());//brigtness
					I2CWriteByte(DEV_ADDR, 0x10+ch%4,  0x3f + AP_GetColor_Contrast());//contrast//
					I2CWriteByte(DEV_ADDR, 0x3c+ch%4,  0x0E + Struation_Data());//stuation
					I2CWriteByte(DEV_ADDR, 0x14+ch%4, _0ntsc1pal?0xff:0xff);//sharpness//0xE5

					I2CWriteByte(DEV_ADDR, 0x40+ch%4, _0ntsc1pal?0x00:0x00);///Hue

					I2CWriteByte(DEV_ADDR, 0x18+ch%4, _0ntsc1pal?0x00:0x00);  //0x30 default
					I2CWriteByte(DEV_ADDR, 0x21+4*(ch%4), _0ntsc1pal?0x92:0x92);
					I2CWriteByte(DEV_ADDR, 0x22+4*(ch%4), _0ntsc1pal?0x0a:0x0a);
					I2CWriteByte(DEV_ADDR, 0x23+4*(ch%4), _0ntsc1pal?0x41:0x41);
					I2CWriteByte(DEV_ADDR, 0x30+ch%4, _0ntsc1pal?0x13:0x13);
                    //I2CWriteByte(DEV_ADDR, 0x34+ch%4, _0ntsc1pal?0x02:0x04);
					I2CWriteByte(DEV_ADDR, 0x44+ch%4, _0ntsc1pal?0x30:0x30);
					I2CWriteByte(DEV_ADDR, 0x48+ch%4, _0ntsc1pal?0x30:0x30);
					I2CWriteByte(DEV_ADDR, 0x4c+ch%4, _0ntsc1pal?0x04:0x04);
					I2CWriteByte(DEV_ADDR, 0x50+ch%4, _0ntsc1pal?0x04:0x04);

					//I2CWriteByte(DEV_ADDR, 0x54+ch%4, _0ntsc1pal?0x01:0xf1);
					tmp = I2CReadByte(DEV_ADDR, 0x54);
					if(_0ntsc1pal==1) //PAL
					tmp &= ~(0x10<<(ch%4));
					else
					tmp |= (0x10<<(ch%4));
					I2CWriteByte(DEV_ADDR, 0x54, tmp);

					I2CWriteByte(DEV_ADDR, 0x58+ch%4, _0ntsc1pal?0x80:0x85);
					I2CWriteByte(DEV_ADDR, 0x5c+ch%4, _0ntsc1pal?0x9e:0x9e);
					I2CWriteByte(DEV_ADDR, 0x64+ch%4, _0ntsc1pal?0xb0:0xb2);

					I2CWriteByte(DEV_ADDR, 0x81+ch%4, _0ntsc1pal?0x07:0x06);
					I2CWriteByte(DEV_ADDR, 0x85+ch%4, _0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0x89+ch%4, _0ntsc1pal?0x10:0x10);
					I2CWriteByte(DEV_ADDR, ch%4+0x8E, _0ntsc1pal?0x0d:0x0d);

					I2CWriteByte(DEV_ADDR, 0x93+ch%4, _0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0x98+ch%4, _0ntsc1pal?0x07:0x04);
					I2CWriteByte(DEV_ADDR, 0xa0+ch%4, _0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0xa4+ch%4, _0ntsc1pal?0x00:0x01);

					I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
					I2CWriteByte(DEV_ADDR, 0x88+ch%4, 0x00);
					I2CWriteByte(DEV_ADDR, 0x8c+ch%4, 0x40);
					I2CWriteByte(DEV_ADDR, 0x90+ch%4, 0x00);
					I2CWriteByte(DEV_ADDR, 0xa0+ch%4, 0x01);
					I2CWriteByte(DEV_ADDR, 0xd7,I2CReadByte(DEV_ADDR, 0xd7)|(1<<(ch%4)));

					I2CWriteByte(DEV_ADDR, 0xFF, 0x02);
					tmp = I2CReadByte(DEV_ADDR, 0x16+(ch%4)/2);
					I2CWriteByte(DEV_ADDR,0x16+(ch%4)/2, (tmp&(ch%2==0?0xF0:0x0F))|(0x05<<((ch%2)*4)));

					I2CWriteByte(DEV_ADDR, 0xFF, 0x05+ch%4);
					Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B5678_720p_25fps_Buf : NVP6124B_B5678_720p_30fps_Buf,0, 255 );

					I2CWriteByte(DEV_ADDR, 0xFF, 0x09);
					I2CWriteByte(DEV_ADDR, 0x40+(ch%4), 0x00);
					I2CWriteByte(DEV_ADDR, 0x44, I2CReadByte(DEV_ADDR, 0x44)&(~(1<<(ch%4))));
					I2CWriteByte(DEV_ADDR, 0x46, 0x06);

					#ifdef N3_BT601_Setting  //set register as N3 guide document
					/* H/V out through MPP pin */
					I2CWriteByte(DEV_ADDR, 0xFF,0x05+ch%4);
					I2CWriteByte(DEV_ADDR, 0x3C,0x10);
					I2CWriteByte(DEV_ADDR, 0x2C,0x00);

					I2CWriteByte(DEV_ADDR, 0x40,0xEF);
					I2CWriteByte(DEV_ADDR, 0x42,0x00);

					I2CWriteByte(DEV_ADDR, 0x9C,_0ntsc1pal?0x00:0x00);
					//I2CWriteByte(DEV_ADDR, 0x9D,_0ntsc1pal?0xC1:0xC0);
					I2CWriteByte(DEV_ADDR, 0x9D,_0ntsc1pal?0xC1:0xC1);
					I2CWriteByte(DEV_ADDR, 0x9E,_0ntsc1pal?0x0A:0x0A);
					//I2CWriteByte(DEV_ADDR, 0x9F,_0ntsc1pal?0xC0:0xBF);
					I2CWriteByte(DEV_ADDR, 0x9F,_0ntsc1pal?0xC0:0xC0);

					//change vdelay
					I2CWriteByte(DEV_ADDR, 0x33,_0ntsc1pal?0x82:0x82);  //20170425;0x82:default
					I2CWriteByte(DEV_ADDR, 0x34,_0ntsc1pal?0xEA:0xEB);
					I2CWriteByte(DEV_ADDR, 0x35,_0ntsc1pal?0x19:0x1A);  //0x1B:default
					I2CWriteByte(DEV_ADDR, 0x36,0xD2); //20170425;0xCF:default

					I2CWriteByte(DEV_ADDR, 0x3b,0x04);

					//printk("N3 720p each BT601 ch%d %s  setting  \n",ch,_0ntsc1pal?"PAL":"NTSC");
					#endif

					printf("N3 720p each ch%d %s setting \n",ch,_0ntsc1pal?"PAL":"NTSC");
				break;
			case VDEC_N123_FMT_1080P:
					I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
					I2CWriteByte(DEV_ADDR, 0x08+ch%4, _0ntsc1pal?0x60:0x60);

					I2CWriteByte(DEV_ADDR, 0x0c+ch%4, 0x00 + AP_GetColor_Brightness());//brigtness //0x08
					I2CWriteByte(DEV_ADDR, 0x10+ch%4, 0x37 + AP_GetColor_Contrast());//contrast	//0x80
					I2CWriteByte(DEV_ADDR, 0x3c+ch%4, 0x0E + Struation_Data());//stuation // 0xB0
					I2CWriteByte(DEV_ADDR, 0x14+ch%4, _0ntsc1pal?0xff:0xff);//sharpness//0xB0
					I2CWriteByte(DEV_ADDR, 0x40+ch%4, _0ntsc1pal?0x00:0x00);///Hue

					I2CWriteByte(DEV_ADDR, 0x18+ch%4, _0ntsc1pal?0x00:0x00);  //0x30 default
					I2CWriteByte(DEV_ADDR, 0x21+4*(ch%4), _0ntsc1pal?0x92:0x92);
					I2CWriteByte(DEV_ADDR, 0x22+4*(ch%4), _0ntsc1pal?0x0a:0x0a);
					I2CWriteByte(DEV_ADDR, 0x23+4*(ch%4), _0ntsc1pal?0x41:0x41);
					I2CWriteByte(DEV_ADDR, 0x30+ch%4, _0ntsc1pal?0x12:0x12);
					I2CWriteByte(DEV_ADDR, 0x44+ch%4, _0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0x48+ch%4, _0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0x4c+ch%4, _0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0x50+ch%4, _0ntsc1pal?0x00:0x00);

					//I2CWriteByte(DEV_ADDR, 0x54+ch%4, _0ntsc1pal?0x01:0xf1);
					tmp = I2CReadByte(DEV_ADDR, 0x54);
					if(_0ntsc1pal==1) //PAL
					tmp &= ~(0x10<<(ch%4));
					else
					tmp |= (0x10<<(ch%4));
					I2CWriteByte(DEV_ADDR, 0x54, tmp);

					I2CWriteByte(DEV_ADDR, 0x58+ch%4, _0ntsc1pal?0x6a:0x4e);
					I2CWriteByte(DEV_ADDR, 0x5c+ch%4, _0ntsc1pal?0x9e:0x9e);
					I2CWriteByte(DEV_ADDR, 0x64+ch%4, _0ntsc1pal?0xbf:0x8d);

					I2CWriteByte(DEV_ADDR, 0x81+ch%4, _0ntsc1pal?0x03:0x02);
					I2CWriteByte(DEV_ADDR, 0x85+ch%4, _0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0x89+ch%4, _0ntsc1pal?0x10:0x10);
					I2CWriteByte(DEV_ADDR, ch%4+0x8E, _0ntsc1pal?0x0a:0x09);

					I2CWriteByte(DEV_ADDR, 0x93+ch%4, _0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0x98+ch%4, _0ntsc1pal?0x07:0x04);
					I2CWriteByte(DEV_ADDR, 0xa0+ch%4, _0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0xa4+ch%4, _0ntsc1pal?0x00:0x01);

					I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
					I2CWriteByte(DEV_ADDR, 0x88+ch%4, 0x04);
					I2CWriteByte(DEV_ADDR, 0x8c+ch%4, 0x84);
					I2CWriteByte(DEV_ADDR, 0x90+ch%4, 0x01);
					I2CWriteByte(DEV_ADDR, 0xa0+ch%4, 0x02);
					I2CWriteByte(DEV_ADDR, 0xd7,I2CReadByte(DEV_ADDR, 0xd7)|(1<<(ch%4)));

					I2CWriteByte(DEV_ADDR, 0xFF, 0x02);
					tmp = I2CReadByte(DEV_ADDR, 0x16+(ch%4)/2);
					I2CWriteByte(DEV_ADDR,0x16+(ch%4)/2, (tmp&(ch%2==0?0xF0:0x0F))|(0x05<<((ch%2)*4)));

					I2CWriteByte(DEV_ADDR, 0xFF, 0x05+ch%4);
					Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B5678_1080p_25fps_Buf : NVP6124B_B5678_1080p_30fps_Buf,0, 255 );

					I2CWriteByte(DEV_ADDR, 0xFF, 0x09);
					I2CWriteByte(DEV_ADDR, 0x40+(ch%4), 0x00);
					I2CWriteByte(DEV_ADDR, 0x44, I2CReadByte(DEV_ADDR, 0x44)&(~(1<<(ch%4))));
					I2CWriteByte(DEV_ADDR, 0x46, 0x06);

					#ifdef N3_BT601_Setting  //set register as N3 guide document
					/* H/V out through MPP pin */
					I2CWriteByte(DEV_ADDR, 0xFF,0x05+ch%4);
					I2CWriteByte(DEV_ADDR, 0x3C,0x10);
					I2CWriteByte(DEV_ADDR, 0x2C,_0ntsc1pal?0x00:0x04);

					#if 0 //failure
					I2CWriteByte(DEV_ADDR, 0x40,0xBC);
					I2CWriteByte(DEV_ADDR, 0x42,0x00);

					I2CWriteByte(DEV_ADDR, 0x9C,_0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0x9D,_0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0x9E,_0ntsc1pal?0x0A:0x00);
					I2CWriteByte(DEV_ADDR, 0x9F,_0ntsc1pal?0xB7:0x00);
					//change vdelay
					I2CWriteByte(DEV_ADDR, 0x33,_0ntsc1pal?0x82:0x82);  //20170425;0x82:default
					I2CWriteByte(DEV_ADDR, 0x34,_0ntsc1pal?0xEC:0xEB);
					I2CWriteByte(DEV_ADDR, 0x35,_0ntsc1pal?0x19:0x19);  //0x1B:default
					I2CWriteByte(DEV_ADDR, 0x36,_0ntsc1pal?0xCF:0xD2); //
					#else
					I2CWriteByte(DEV_ADDR, 0x40,0xef);
					I2CWriteByte(DEV_ADDR, 0x42,0x00);

					I2CWriteByte(DEV_ADDR, 0x9C,_0ntsc1pal?0x00:0x00);
					I2CWriteByte(DEV_ADDR, 0x9D,_0ntsc1pal?0xC1:0xC1); //ÐÐÍ¬²½µÄ¿ªÊ¼
					I2CWriteByte(DEV_ADDR, 0x9E,_0ntsc1pal?0x0f:0x0f);
					I2CWriteByte(DEV_ADDR, 0x9F,_0ntsc1pal?0xC0:0xC0); //ÐÐÍ¬²½µÄÆðÊ¼Î»ÖÃ Ó°ÏìÊä³öµÄÑÕÉ«
					//change vdelay
					I2CWriteByte(DEV_ADDR, 0x33,_0ntsc1pal?0x04:0x04);
					I2CWriteByte(DEV_ADDR, 0x34,_0ntsc1pal?0x01:0x01);
					I2CWriteByte(DEV_ADDR, 0x35,_0ntsc1pal?0x2d:0x2d);
					I2CWriteByte(DEV_ADDR, 0x36,_0ntsc1pal?0x0f:0x0f);

					#endif

					I2CWriteByte(DEV_ADDR, 0x3b,0x04);

					//printk("N3 1080p each BT601 ch%d %s  setting  \n",ch,_0ntsc1pal?"PAL":"NTSC");
					#endif

					//printk("N3 1080p each ch%d %s setting \n",ch,_0ntsc1pal?"PAL":"NTSC");
				break;
		}
	}
}

static void system_init_nvp6124B_H720(void)
{
	I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
	if(N3_Mode!=0x02)
	{
		I2CWriteByte(DEV_ADDR, 0x82, 0x14);
		I2CWriteByte(DEV_ADDR, 0x83, 0x2C);
	}
	else
	{
		I2CWriteByte(DEV_ADDR, 0x82, 0x22); //108M
		I2CWriteByte(DEV_ADDR, 0x83, 0x20);
	}
	I2CWriteByte(DEV_ADDR, 0x3e, 0x10);
	I2CWriteByte(DEV_ADDR, 0x80, 0x60);
	I2CWriteByte(DEV_ADDR, 0x80, 0x61);
	msleep(40); //100
	I2CWriteByte(DEV_ADDR, 0x80, 0x40);
	I2CWriteByte(DEV_ADDR, 0x81, 0x02);
	I2CWriteByte(DEV_ADDR, 0x97, 0x00);
	msleep(10);
	I2CWriteByte(DEV_ADDR, 0x80, 0x60);
	I2CWriteByte(DEV_ADDR, 0x81, 0x00);
	msleep(10);
	I2CWriteByte(DEV_ADDR, 0x97, 0x0F);
	I2CWriteByte(DEV_ADDR, 0x38, 0x18);
	I2CWriteByte(DEV_ADDR, 0x38, 0x08);
	msleep(40); //100
}


static void WriteBankAll_nvp6124B_H960( int _0ntsc1pal )
{
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK0,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B0_PAL_Buf : NVP6124B_B0_NTSC_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B1_PAL_Buf : NVP6124B_B1_NTSC_Buf,0, 255 );

	//Write_I2C( DEV_ADDR, 0xFF, NULL, BANK2,1);
	//Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B2_PAL_Buf : NVP6124B_B2_NTSC_Buf,0, 255 );

	/*
	--------------------[BANK = 2]----------------------
	0x00=0x13
	0x02=0x13
	0x04=0x13
	0x06=0x13
	 */
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK2,1);
	Write_I2C( DEV_ADDR, 0x00, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x02, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x04, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x06, NULL, 0x13,1);

	/*
	--------------------[BANK = 3]----------------------
	0x6B=0x00
	0xEB=0x00
	*/
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK3,1);
	Write_I2C( DEV_ADDR, 0x6B, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0xEB, NULL, 0x00,1);

	/*
	--------------------[BANK = 4]----------------------
	0x6B=0x00
	0xEB=0x00
	*/
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK4,1);
	Write_I2C( DEV_ADDR, 0x6B, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0xEB, NULL, 0x00,1);


	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK5,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B5678_PAL_Buf : NVP6124B_B5678_NTSC_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK6,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B5678_PAL_Buf : NVP6124B_B5678_NTSC_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK7,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B5678_PAL_Buf : NVP6124B_B5678_NTSC_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK8,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B5678_PAL_Buf : NVP6124B_B5678_NTSC_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK9,1);
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B9_PAL_Buf : NVP6124B_B9_NTSC_Buf,0, 255 );
}


static void system_init_nvp6124B_H960(void)
{
	I2CWriteByte(DEV_ADDR,0xFF,0x01);
	I2CWriteByte(DEV_ADDR,0x82,0x14);
	I2CWriteByte(DEV_ADDR,0x83,0x2C);
	I2CWriteByte(DEV_ADDR,0x3e,0x10);
	I2CWriteByte(DEV_ADDR,0x80,0x60);
	I2CWriteByte(DEV_ADDR,0x80,0x61);
	msleep(100);
	I2CWriteByte(DEV_ADDR,0x80,0x40);
	I2CWriteByte(DEV_ADDR,0x81,0x02);
	I2CWriteByte(DEV_ADDR,0x97,0x00);
	msleep(10);
	I2CWriteByte(DEV_ADDR,0x80,0x60);
	I2CWriteByte(DEV_ADDR,0x81,0x00);
	msleep(10);
	I2CWriteByte(DEV_ADDR,0x97,0x0F);
	I2CWriteByte(DEV_ADDR,0x38,0x18);
	I2CWriteByte(DEV_ADDR,0x38,0x08);
	msleep(100);
}


static void WriteBankAll_nvp6124B_720P( int _0_30P_1_25P )
{
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK0,1);
	Write_I2C( DEV_ADDR, 0x00, _0_30P_1_25P? NVP6124B_B0_720p_25fps_Buf : NVP6124B_B0_720p_30fps_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	Write_I2C( DEV_ADDR, 0x00, _0_30P_1_25P? NVP6124B_B1_720p_25fps_Buf : NVP6124B_B1_720p_30fps_Buf,0, 255 );

	/*
	--------------------[BANK = 2]----------------------
	0x00=0x13
	0x02=0x13
	0x04=0x13
	0x06=0x13
	 */
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK2,1);
	Write_I2C( DEV_ADDR, 0x00, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x02, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x04, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x06, NULL, 0x13,1);

	/*
	--------------------[BANK = 3]----------------------
	0x6B=0x00
	0xEB=0x00
	*/
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK3,1);
	Write_I2C( DEV_ADDR, 0x6B, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0xEB, NULL, 0x00,1);

	/*
	--------------------[BANK = 4]----------------------
	0x6B=0x00
	0xEB=0x00
	*/
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK4,1);
	Write_I2C( DEV_ADDR, 0x6B, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0xEB, NULL, 0x00,1);


	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK5,1);
	Write_I2C( DEV_ADDR, 0x00, _0_30P_1_25P? NVP6124B_B5678_720p_25fps_Buf : NVP6124B_B5678_720p_30fps_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK6,1);
	Write_I2C( DEV_ADDR, 0x00, _0_30P_1_25P? NVP6124B_B5678_720p_25fps_Buf : NVP6124B_B5678_720p_30fps_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK7,1);
	Write_I2C( DEV_ADDR, 0x00, _0_30P_1_25P? NVP6124B_B5678_720p_25fps_Buf : NVP6124B_B5678_720p_30fps_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK8,1);
	Write_I2C( DEV_ADDR, 0x00, _0_30P_1_25P? NVP6124B_B5678_720p_25fps_Buf : NVP6124B_B5678_720p_30fps_Buf,0, 255 );

	/*
	--------------------[BANK = 9]----------------------
	0x40=0x00
	0x41=0x00
	0x42=0x00
	0x43=0x00
	0x44=0x00
	*/
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK9,1);
	Write_I2C( DEV_ADDR, 0x40, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0x41, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0x42, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0x43, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0x44, NULL, 0x00,1);
}


static void system_init_nvp6124B_720P(void)
{
	I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
	I2CWriteByte(DEV_ADDR, 0x82, 0x14);
	I2CWriteByte(DEV_ADDR, 0x83, 0x2C);
	I2CWriteByte(DEV_ADDR, 0x3e, 0x10);
	I2CWriteByte(DEV_ADDR, 0x80, 0x60);
	I2CWriteByte(DEV_ADDR, 0x80, 0x61);
	msleep(40); //100
	I2CWriteByte(DEV_ADDR, 0x80, 0x40);
	I2CWriteByte(DEV_ADDR, 0x81, 0x02);
	I2CWriteByte(DEV_ADDR, 0x97, 0x00);
	msleep(10);
	I2CWriteByte(DEV_ADDR, 0x80, 0x60);
	I2CWriteByte(DEV_ADDR, 0x81, 0x00);
	msleep(10);
	I2CWriteByte(DEV_ADDR, 0x97, 0x0F);
	I2CWriteByte(DEV_ADDR, 0x38, 0x18);
	I2CWriteByte(DEV_ADDR, 0x38, 0x08);
	msleep(40); //100
}


static void WriteBankAll_nvp6124B_1080P( int _0_30P_1_25P )
{
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK0,1);
	Write_I2C( DEV_ADDR, 0x00, _0_30P_1_25P? NVP6124B_B0_1080p_25fps_Buf : NVP6124B_B0_1080p_30fps_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	Write_I2C( DEV_ADDR, 0x00, _0_30P_1_25P? NVP6124B_B1_1080p_25fps_Buf : NVP6124B_B1_1080p_30fps_Buf,0, 255 );

	/*
	--------------------[BANK = 2]----------------------
	0x00=0x13
	0x02=0x13
	0x04=0x13
	0x06=0x13
	 */
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK2,1);
	Write_I2C( DEV_ADDR, 0x00, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x02, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x04, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x06, NULL, 0x13,1);

	/*
	--------------------[BANK = 3]----------------------
	0x6B=0x00
	0xEB=0x00
	*/
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK3,1);
	Write_I2C( DEV_ADDR, 0x6B, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0xEB, NULL, 0x00,1);

	/*
	--------------------[BANK = 4]----------------------
	0x6B=0x00
	0xEB=0x00
	*/
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK4,1);
	Write_I2C( DEV_ADDR, 0x6B, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0xEB, NULL, 0x00,1);


	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK5,1);
	Write_I2C( DEV_ADDR, 0x00, _0_30P_1_25P? NVP6124B_B5678_1080p_25fps_Buf : NVP6124B_B5678_1080p_30fps_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK6,1);
	Write_I2C( DEV_ADDR, 0x00, _0_30P_1_25P? NVP6124B_B5678_1080p_25fps_Buf : NVP6124B_B5678_1080p_30fps_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK7,1);
	Write_I2C( DEV_ADDR, 0x00, _0_30P_1_25P? NVP6124B_B5678_1080p_25fps_Buf : NVP6124B_B5678_1080p_30fps_Buf,0, 255 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK8,1);
	Write_I2C( DEV_ADDR, 0x00, _0_30P_1_25P? NVP6124B_B5678_1080p_25fps_Buf : NVP6124B_B5678_1080p_30fps_Buf,0, 255 );

	/*
	--------------------[BANK = 9]----------------------
	0x40=0x00
	0x41=0x00
	0x42=0x00
	0x43=0x00
	0x44=0x00
	*/
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK9,1);
	Write_I2C( DEV_ADDR, 0x40, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0x41, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0x42, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0x43, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0x44, NULL, 0x00,1);
}


static void system_init_nvp6124B_1080P(void)
{
	I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
	I2CWriteByte(DEV_ADDR, 0x82, 0x14);
	I2CWriteByte(DEV_ADDR, 0x83, 0x2C);
	I2CWriteByte(DEV_ADDR, 0x3e, 0x10);
	I2CWriteByte(DEV_ADDR, 0x80, 0x60);
	I2CWriteByte(DEV_ADDR, 0x80, 0x61);
	msleep(100);
	I2CWriteByte(DEV_ADDR, 0x80, 0x40);
	I2CWriteByte(DEV_ADDR, 0x81, 0x02);
	I2CWriteByte(DEV_ADDR, 0x97, 0x00);
	msleep(10);
	I2CWriteByte(DEV_ADDR, 0x80, 0x60);
	I2CWriteByte(DEV_ADDR, 0x81, 0x00);
	msleep(10);
	I2CWriteByte(DEV_ADDR, 0x97, 0x0F);
	I2CWriteByte(DEV_ADDR, 0x38, 0x18);
	I2CWriteByte(DEV_ADDR, 0x38, 0x08);
	msleep(100);
}


#if 0
void N3_SetInputChannel(  n123_init_param *pInitParam, int ch )
{
	DEV_ADDR = pInitParam->devaddr;
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	Write_I2C( DEV_ADDR, 0xC2, NULL, ch,1);
}
#else  //20170420  switch HD or SD
/*ÇÐ»»ºóÖÃÉãÏñÍ·ÔÚCH1ÊäÈë×÷ÎªVD2Êä³öÊý¾Ý*/
void N3_SetCH1_VD2(void)
{
      //DEV_ADDR = pInitParam->devaddr;
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	// ch2 2 vd2
	Write_I2C( DEV_ADDR, 0xC2, NULL, 0x00,1);
	I2CWriteByte(DEV_ADDR, 0xFF, 0x06);
			// HV ch2 to vd2
	I2CWriteByte(DEV_ADDR, 0x3C, 0x10); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
}
/*ÇÐ»»×ó±ßÉãÏñÍ·ÔÚCH2ÊäÈë×÷ÎªVD2Êä³öÊý¾Ý*/
void N3_SetCH2_VD2(void)
{
      //DEV_ADDR = pInitParam->devaddr;
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	// ch2 2 vd2
	Write_I2C( DEV_ADDR, 0xC2, NULL, 0x11,1);
	I2CWriteByte(DEV_ADDR, 0xFF, 0x06);
			// HV ch2 to vd2
	I2CWriteByte(DEV_ADDR, 0x3C, 0x54); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
}
/*ÇÐ»»Ç°ÃæÉãÏñÍ·ÔÚCH3ÊäÈë×÷ÎªVD2Êä³öÊý¾Ý*/
void N3_SetCH3_VD2(void)
{
      //DEV_ADDR = pInitParam->devaddr;
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	// ch3 2 vd2
	Write_I2C( DEV_ADDR, 0xC2, NULL, 0x22,1);
	I2CWriteByte(DEV_ADDR, 0xFF, 0x06);
			// HV ch3 to vd2
	I2CWriteByte(DEV_ADDR, 0x3C, 0x98); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
}

/*ÇÐ»»Ç°ÃæÉãÏñÍ·ÔÚCH4ÊäÈë×÷ÎªVD2Êä³öÊý¾Ý*/
void N3_SetCH4_VD2(void)
{
      //DEV_ADDR = pInitParam->devaddr;
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	// ch3 2 vd2
	Write_I2C( DEV_ADDR, 0xC2, NULL, 0x22,1);
	I2CWriteByte(DEV_ADDR, 0xFF, 0x06);
			// HV ch3 to vd2
	I2CWriteByte(DEV_ADDR, 0x3C, 0xDC); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
}

/*ÇÐ»»Ç°ÃæÉãÏñÍ·ÔÚCH1ÊäÈë×÷ÎªVD1Êä³öÊý¾Ý*/
void N3_SetCH1_VD1(void)
{
     // DEV_ADDR = pInitParam->devaddr;
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	I2CWriteByte(DEV_ADDR, 0xFF, 0x05);
	// HV ch1 to vd1
	I2CWriteByte(DEV_ADDR, 0x3C, 0x10);

}
/*ÇÐ»»Ç°ÃæÉãÏñÍ·ÔÚCH2ÊäÈë×÷ÎªVD1Êä³öÊý¾Ý*/
void N3_SetCH2_VD1(void)
{
      //DEV_ADDR = pInitParam->devaddr;
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	// ch2 vd1
	Write_I2C( DEV_ADDR, 0xC0, NULL, 0x11,1);

	I2CWriteByte(DEV_ADDR, 0xFF, 0x05);
			// HV ch2 to vd1
	I2CWriteByte(DEV_ADDR, 0x3C, 0x54); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
	//I2CWriteByte(DEV_ADDR, 0xFF, 0x06);
    //I2CWriteByte(DEV_ADDR, 0x3C, 0x54);

	//Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
    //Write_I2C( DEV_ADDR, 0xC4, NULL, 1,1);
	//Write_I2C( DEV_ADDR, 0xC6, NULL, 1,1);
}
/*ÇÐ»»Ç°ÃæÉãÏñÍ·ÔÚCH3ÊäÈë×÷ÎªVD1Êä³öÊý¾Ý*/
void N3_SetCH3_VD1(void)
{
     // DEV_ADDR = pInitParam->devaddr;
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	// ch3  vd1
	Write_I2C( DEV_ADDR, 0xC0, NULL, 0x22,1);
	I2CWriteByte(DEV_ADDR, 0xFF, 0x05);
			// HV ch3 to vd1
	I2CWriteByte(DEV_ADDR, 0x3C, 0x98); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4

	//I2CWriteByte(DEV_ADDR, 0xFF, 0x06);
    //I2CWriteByte(DEV_ADDR, 0x3C, 0x98);

	//Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
    //Write_I2C( DEV_ADDR, 0xC4, NULL, 1,1);
	//Write_I2C( DEV_ADDR, 0xC6, NULL, 1,1);
}

/*ÇÐ»»Ç°ÃæÉãÏñÍ·ÔÚCH3ÊäÈë×÷ÎªVD1Êä³öÊý¾Ý*/
void N3_SetCH4_VD1(void)
{
     // DEV_ADDR = pInitParam->devaddr;
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	// ch3  vd1
	Write_I2C( DEV_ADDR, 0xC0, NULL, 0x33,1);
	I2CWriteByte(DEV_ADDR, 0xFF, 0x05);
			// HV ch3 to vd1
	I2CWriteByte(DEV_ADDR, 0x3C, 0xDC); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
}

VOID N3_SetOutChannel_param(VOID)
{
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
	I2CWriteByte(DEV_ADDR, 0xFF, 0x05);
	I2CWriteByte(DEV_ADDR, 0x3C, 0x10);
	I2CWriteByte(DEV_ADDR, 0xFF, 0x06);
	I2CWriteByte(DEV_ADDR, 0x3C, 0x54);
	
	I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
	I2CWriteByte(DEV_ADDR, 0xCD, 0x76);
	I2CWriteByte(DEV_ADDR, 0xCF, 0x76);
	I2CWriteByte(DEV_ADDR, 0xCC, 0x76);
	I2CWriteByte(DEV_ADDR, 0xCE, 0x76);
	I2CWriteByte(DEV_ADDR, 0xCB, 0x00);
}

void N3_SetInputChannel(  n123_init_param *pInitParam, int ch )
{
	int tmp;

	DEV_ADDR = pInitParam->devaddr;

    tmp = pInitParam->fmt_res;
	switch(tmp)
	{
		case VDEC_N123_FMT_SH720:
			I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
			I2CWriteByte(DEV_ADDR, 0xCD, 0x00);
			I2CWriteByte(DEV_ADDR, 0xCF, 0x00);

			I2CWriteByte(DEV_ADDR, 0xCC, 0x00);
			I2CWriteByte(DEV_ADDR, 0xCE, 0x00);

			#ifdef N3_BT601_Setting
			I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
			//I2CWriteByte(DEV_ADDR, 0xCB, 0xFF); //hsync and vsync  invert
			I2CWriteByte(DEV_ADDR, 0xCB, 0x55); //hsync and vsync  invert

			I2CWriteByte(DEV_ADDR, 0xFF, 0x05);
			if(ch==0)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x10); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else if(ch==1)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x54); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else if(ch==2)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x98); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else
				I2CWriteByte(DEV_ADDR, 0x3C, 0xDC); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4

			I2CWriteByte(DEV_ADDR, 0xFF, 0x06);
			if(ch==0)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x10); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else if(ch==1)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x54); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else if(ch==2)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x98); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else
				I2CWriteByte(DEV_ADDR, 0x3C, 0xDC); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			#endif

			printk("N3 720h channel select %d \n",ch);
			break;

		case VDEC_N123_FMT_720P:
			I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
			I2CWriteByte(DEV_ADDR, 0xCD, 0x43);
			I2CWriteByte(DEV_ADDR, 0xCF, 0x43);

			I2CWriteByte(DEV_ADDR, 0xCC, 0x43);
			I2CWriteByte(DEV_ADDR, 0xCE, 0x43);

			#ifdef N3_BT601_Setting
			I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
			//I2CWriteByte(DEV_ADDR, 0xCB, 0xAA); //hsync and vsync  invert
			I2CWriteByte(DEV_ADDR, 0xCB, 0x00); //hsync and vsync  invert


			I2CWriteByte(DEV_ADDR, 0xFF, 0x05);
			if(ch==0)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x10); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else if(ch==1)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x54); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else if(ch==2)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x98); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else
				I2CWriteByte(DEV_ADDR, 0x3C, 0xDC); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4

			I2CWriteByte(DEV_ADDR, 0xFF, 0x06);
			if(ch==0)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x10); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else if(ch==1)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x54); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else if(ch==2)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x98); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else
				I2CWriteByte(DEV_ADDR, 0x3C, 0xDC); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			#endif

			printk("N3 720p channel select %d \n",ch);

			break;
	case VDEC_N123_FMT_1080P:
			I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
			I2CWriteByte(DEV_ADDR, 0xCD, 0x76);
			I2CWriteByte(DEV_ADDR, 0xCF, 0x76);

			I2CWriteByte(DEV_ADDR, 0xCC, 0x76);
			I2CWriteByte(DEV_ADDR, 0xCE, 0x76);

			#ifdef N3_BT601_Setting
			I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
			//I2CWriteByte(DEV_ADDR, 0xCB, 0xAA); //hsync and vsync  invert
			I2CWriteByte(DEV_ADDR, 0xCB, 0x00); //hsync and vsync  invert

			I2CWriteByte(DEV_ADDR, 0xFF, 0x05);
			if(ch==0)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x10); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else if(ch==1)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x54); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else if(ch==2)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x98); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else
				I2CWriteByte(DEV_ADDR, 0x3C, 0xDC); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4

			I2CWriteByte(DEV_ADDR, 0xFF, 0x06);
			if(ch==0)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x10); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else if(ch==1)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x54); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else if(ch==2)
				I2CWriteByte(DEV_ADDR, 0x3C, 0x98); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			else
				I2CWriteByte(DEV_ADDR, 0x3C, 0xDC); //0x10:ch1;0x54:ch2;0x98:ch3;0xDC:ch4
			#endif

			printk("N3 1080p channel select %d \n",ch);

			break;

	}
}
#endif


int common_init(int _0ntsc1pal)
{
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK0,1);
//	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B0_720p_25fps_Buf : NVP6124B_B0_720p_30fps_Buf,0, 255 );
	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B0_720p_25fps_Buf : NVP6124B_B0_720p_30fps_Buf,0, 175 );

	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK1,1);
//	Write_I2C( DEV_ADDR, 0x00, _0ntsc1pal? NVP6124B_B1_720p_25fps_Buf : NVP6124B_B1_720p_30fps_Buf,0, 255 );
//	Write_I2C( DEV_ADDR, 0x80, _0ntsc1pal? NVP6124B_B1_720p_25fps_Buf : NVP6124B_B1_720p_30fps_Buf,0, 128 );
	Write_I2C( DEV_ADDR, 0x80, _0ntsc1pal? NVP6124B_B1_720p_Buf : NVP6124B_B1_720p_Buf,0, 128 );   //20170525


	/*
	--------------------[BANK = 2]----------------------
	0x00=0x13
	0x02=0x13
	0x04=0x13
	0x06=0x13
	 */
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK2,1);	//0x23:motion on ; 0x13: motion off
	Write_I2C( DEV_ADDR, 0x00, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x02, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x04, NULL, 0x13,1);
	Write_I2C( DEV_ADDR, 0x06, NULL, 0x13,1);

	/*
	--------------------[BANK = 3]----------------------
	0x6B=0x00
	0xEB=0x00
	*/
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK3,1);
	Write_I2C( DEV_ADDR, 0x6B, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0xEB, NULL, 0x00,1);

	/*
	--------------------[BANK = 4]----------------------
	0x6B=0x00
	0xEB=0x00
	*/
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK4,1);
	Write_I2C( DEV_ADDR, 0x6B, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0xEB, NULL, 0x00,1);


	/*
	--------------------[BANK = 9]----------------------
	0x40=0x00
	0x41=0x00
	0x42=0x00
	0x43=0x00
	0x44=0x00
	*/
	Write_I2C( DEV_ADDR, 0xFF, NULL, BANK9,1);
	Write_I2C( DEV_ADDR, 0x40, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0x41, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0x42, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0x43, NULL, 0x00,1);
	Write_I2C( DEV_ADDR, 0x44, NULL, 0x00,1);
}


int N3_Init( n123_init_param *pInitParam )
{
	DEV_ADDR = pInitParam->devaddr;

    if(pInitParam->fmt_res == VDEC_N123_FMT_SH720)
	{
		int _0ntsc1pal;
		_0ntsc1pal = pInitParam->fmt_fps == VDEC_N123_FMT_NTSC ? 0 : 1 ;

		#ifndef  N3_Each_Setting
		WriteBankAll_nvp6124B_H720( _0ntsc1pal );
		#else
		common_init(_0ntsc1pal);
		system_init_nvp6124B_H720();

		int i;
		for(i=0;i<4;i++)
		{
		    if(N3_Mode==0x00)
		    {
				N3_Init_ch(2,_0ntsc1pal,i);	//CH1/2/3/4 720P
		    }
			else if(N3_Mode==0x01||N3_Mode==0x02)
		    {
				N3_Init_ch(0,_0ntsc1pal,i);	//CH1/2/3/4 720H
		    }
			else if(N3_Mode==0x03)
		    {
				if(i==0)
					N3_Init_ch(2,1,i);	//CH1 720P PAL 25FPS
				else if(i==1)
					N3_Init_ch(0,1,i);  //CH2 720H  PAL 25FPS
				else if(i==2)
					N3_Init_ch(2,0,i);  //CH3 720P NTSC 30FPS
				else
					N3_Init_ch(0,0,i);  //CH4 720H  NTSC 30FPS
		    }
			else if(N3_Mode==0x04)
			{
				N3_Init_ch(3,_0ntsc1pal,i);	//CH1/2/3/4 1080P
			}
			else if(N3_Mode==0x05)
			{
				if(i==0)
					N3_Init_ch(3,_0ntsc1pal,i);	//CH1 1080P
				else if(i==1)
					N3_Init_ch(2,_0ntsc1pal,i); //CH2 720P
				else if(i==2)
					N3_Init_ch(2,!_0ntsc1pal,i); //CH3 720P
				else if(i==3)
					N3_Init_ch(0,_0ntsc1pal,i); //CH4 720H
			}
		}
		#ifdef N3_BT601_Setting  //set register as N3 guide document
		I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
		I2CWriteByte(DEV_ADDR, 0xA8, 0xA5);
		I2CWriteByte(DEV_ADDR, 0xBC, 0x80);
		I2CWriteByte(DEV_ADDR, 0xBD, 0x80);
		I2CWriteByte(DEV_ADDR, 0xCB, 0xFF); //hsync and vsync  invert
		#endif
		#endif

		//when no video, test pattern color setting
		I2CWriteByte(DEV_ADDR, 0xFF, 0);
        if(AP_GetBlue()) {
			if(pInitParam->fmt_fps == VDEC_N123_FMT_30P) {
		    	I2CWriteByte(DEV_ADDR, 0x78, 0xaa); //0x43
		   		I2CWriteByte(DEV_ADDR, 0x79, 0xaa);
			}else {
				I2CWriteByte(DEV_ADDR, 0x78, 0xee); //0x43
		   		I2CWriteByte(DEV_ADDR, 0x79, 0xee);
			}
        }else {
            I2CWriteByte(DEV_ADDR, 0x78, 0x88); //0x43
		    I2CWriteByte(DEV_ADDR, 0x79, 0x88);
        }

		if(pInitParam->fmt_fps == VDEC_N123_FMT_30P) {
			I2CWriteByte(DEV_ADDR, 0x7A, 0x33);//Cb¡¢Cr change
			I2CWriteByte(DEV_ADDR, 0x7B, 0x33);//Cb¡¢Cr change
		}
		printk("nvp6124b 720h setting \n ");
	}
	else if(pInitParam->fmt_res == VDEC_N123_FMT_H960)
	{
		int _0ntsc1pal;
		_0ntsc1pal = pInitParam->fmt_fps == VDEC_N123_FMT_NTSC ? 0 : 1 ;
		WriteBankAll_nvp6124B_H960( _0ntsc1pal );
		system_init_nvp6124B_H960();
		printk("nvp6124b 960h setting \n ");
	}
	else if(pInitParam->fmt_res == VDEC_N123_FMT_720P)
	{
		int _0_30P_1_25P;
		_0_30P_1_25P = pInitParam->fmt_fps == VDEC_N123_FMT_30P ? 0 : 1 ;

		#ifndef  N3_Each_Setting
		WriteBankAll_nvp6124B_720P( _0_30P_1_25P );
		#else
		common_init(_0_30P_1_25P);

		int i;
		for(i=0;i<4;i++)
		{
		    if(N3_Mode==0x00)
		    {
				N3_Init_ch(2,_0_30P_1_25P,i);	//CH1/2/3/4 720P
		    }
			else if(N3_Mode==0x01||N3_Mode==0x02)
		    {
				N3_Init_ch(0,_0_30P_1_25P,i);	//CH1/2/3/4 720H
		    }
			else if(N3_Mode==0x03)
		    {
				if(i==0)
					N3_Init_ch(2,1,i);	//CH1 720P PAL 25FPS
				else if(i==1)
					N3_Init_ch(0,1,i);  //CH2 720H  PAL 25FPS
				else if(i==2)
					N3_Init_ch(2,0,i);  //CH3 720P NTSC 30FPS
				else
					N3_Init_ch(0,0,i);  //CH4 720H  NTSC 30FPS
		    }
			else if(N3_Mode==0x04)
			{
				N3_Init_ch(3,_0_30P_1_25P,i);	//CH1/2/3/4 1080P
			}
			else if(N3_Mode==0x05)
			{
				if(i==0)
					N3_Init_ch(3,_0_30P_1_25P,i); //CH1 1080P
				else if(i==1)
					N3_Init_ch(2,_0_30P_1_25P,i); //CH2 720P
				else if(i==2)
					N3_Init_ch(2,!_0_30P_1_25P,i); //CH3 720P
				else if(i==3)
					N3_Init_ch(0,_0_30P_1_25P,i); //CH4 720H
			}
		}

		#ifdef N3_BT601_Setting  //set register as N3 guide document
		I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
		I2CWriteByte(DEV_ADDR, 0xA8, 0xA5);
		I2CWriteByte(DEV_ADDR, 0xBC, 0x80);
		I2CWriteByte(DEV_ADDR, 0xBD, 0x80);
		I2CWriteByte(DEV_ADDR, 0xCB, 0xAA); //hsync and vsync  invert
		#endif

		#endif

		//when no video, test pattern color setting
		I2CWriteByte(DEV_ADDR, 0xFF, 0);
        if(AP_GetBlue()) {
			if(pInitParam->fmt_fps == VDEC_N123_FMT_30P) {
		    	I2CWriteByte(DEV_ADDR, 0x78, 0xaa); //0x43
		   		I2CWriteByte(DEV_ADDR, 0x79, 0xaa);
			}else {
				I2CWriteByte(DEV_ADDR, 0x78, 0xee); //0x43
		   		I2CWriteByte(DEV_ADDR, 0x79, 0xee);
			}
        }else {
            I2CWriteByte(DEV_ADDR, 0x78, 0x88); //0x43
		    I2CWriteByte(DEV_ADDR, 0x79, 0x88);
        }

		if(pInitParam->fmt_fps == VDEC_N123_FMT_30P) {
			I2CWriteByte(DEV_ADDR, 0x7A, 0x33);//Cb¡¢Cr change
			I2CWriteByte(DEV_ADDR, 0x7B, 0x33);//Cb¡¢Cr change
		}

		system_init_nvp6124B_720P();

		printk("nvp6124b 720p setting \n ");
	}
	else if(pInitParam->fmt_res == VDEC_N123_FMT_1080P)
	{
		int _0_30P_1_25P;
		_0_30P_1_25P = pInitParam->fmt_fps == VDEC_N123_FMT_30P ? 0 : 1 ;

		#ifndef  N3_Each_Setting
		WriteBankAll_nvp6124B_1080P( _0_30P_1_25P );
		#else
		common_init(_0_30P_1_25P);

		int i;
		for(i=0;i<4;i++)
		{
			if(N3_Mode==0x00)
			{
				N3_Init_ch(2,_0_30P_1_25P,i);	//CH1/2/3/4 720P
			}
			else if(N3_Mode==0x01||N3_Mode==0x02)
			{
				N3_Init_ch(0,_0_30P_1_25P,i);	//CH1/2/3/4 720H
			}
			else if(N3_Mode==0x03)
			{
				if(i==0)
					N3_Init_ch(2,1,i);	//CH1 720P PAL 25FPS
				else if(i==1)
					N3_Init_ch(0,1,i);	//CH2 720H	PAL 25FPS
				else if(i==2)
					N3_Init_ch(2,0,i);	//CH3 720P NTSC 30FPS
				else
					N3_Init_ch(0,0,i);	//CH4 720H	NTSC 30FPS
			}
			else if(N3_Mode==0x04)
			{
				N3_Init_ch(3,_0_30P_1_25P,i);	//CH1/2/3/4 1080P
			}
			else if(N3_Mode==0x05)
			{
				if(i==0)
					N3_Init_ch(3,_0_30P_1_25P,i); //CH1 1080P
				else if(i==1)
					N3_Init_ch(2,_0_30P_1_25P,i); //CH2 720P
				else if(i==2)
					N3_Init_ch(2,!_0_30P_1_25P,i); //CH3 720P
				else if(i==3)
					N3_Init_ch(0,_0_30P_1_25P,i); //CH4 720H
			}
		}

		#ifdef N3_BT601_Setting  //set register as N3 guide document
		I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
		I2CWriteByte(DEV_ADDR, 0xA8, 0xA5);
		I2CWriteByte(DEV_ADDR, 0xBC, 0x80);
		I2CWriteByte(DEV_ADDR, 0xBD, 0x80);
		I2CWriteByte(DEV_ADDR, 0xCB, 0xAA); //hsync and vsync  invert
		#endif
		#endif

		//when no video, test pattern color setting

		I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
        if(AP_GetBlue()) {
		    if(pInitParam->fmt_fps == VDEC_N123_FMT_30P) {
		    	I2CWriteByte(DEV_ADDR, 0x78, 0xaa); //0x43
		   		I2CWriteByte(DEV_ADDR, 0x79, 0xaa);
			}else {
				I2CWriteByte(DEV_ADDR, 0x78, 0xee); //0x43
		   		I2CWriteByte(DEV_ADDR, 0x79, 0xee);
			}
        }else {
            I2CWriteByte(DEV_ADDR, 0x78, 0x88); //0x43
		    I2CWriteByte(DEV_ADDR, 0x79, 0x88);
        }
        
        if(pInitParam->fmt_fps == VDEC_N123_FMT_30P) {
			I2CWriteByte(DEV_ADDR, 0x7A, 0x33);//Cb¡¢Cr change
			I2CWriteByte(DEV_ADDR, 0x7B, 0x33);//Cb¡¢Cr change
		}
		system_init_nvp6124B_1080P();

		printk("nvp6124b 1080p setting \n ");
	}

	//printk("N3_Mode is %d \n",N3_Mode);
	return 0;
}
VOID Set_Color_Struation(u8_t Struation)
{
    u8_t Struation_Data = 0;
    if(Struation < 41)
        Struation_Data = Struation*3;
    else
        Struation_Data = (Struation - 50) *2 + 41*3;
    I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
    I2CWriteByte(DEV_ADDR, 0x3c+Channel_select%4, 0x00 + Struation_Data);//stuation//0xB0
    //printf("Struation I2CReadByte(DEV_ADDR, 0x3c): %d \n",I2CReadByte(DEV_ADDR, 0x3c));
}
VOID Set_Color_Brightness(u8_t Brightness)
{
    I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
    I2CWriteByte(DEV_ADDR, 0x0c+Channel_select%4, 0x00 + Brightness);//brigtness
    //printf("Brightness I2CReadByte(DEV_ADDR, 0x0c): %d \n",I2CReadByte(DEV_ADDR, 0x0c));
}
VOID Set_Color_Contrast(u8_t Contrast)
{
    I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
    I2CWriteByte(DEV_ADDR, 0x10+Channel_select%4, 0x37 + Contrast);//contrast //k0x80
    //printf("Contrast I2CReadByte(DEV_ADDR, 0x10): %d \n",I2CReadByte(DEV_ADDR, 0x10));
}

VOID Set_Color_sharpness(u8_t Contrast)
{
    I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
    I2CWriteByte(DEV_ADDR, 0x14+Channel_select%4, Contrast);//contrast //k0x80
    //printf("sharpness I2CReadByte(DEV_ADDR, 0x14): %d \n",I2CReadByte(DEV_ADDR, 0x14));
}

VOID Set_Color_hue(u8_t Contrast)
{
    I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
    I2CWriteByte(DEV_ADDR, 0x40+Channel_select%4, Contrast);//contrast //k0x80
    //printf("hue I2CReadByte(DEV_ADDR, 0x40): %d \n",I2CReadByte(DEV_ADDR, 0x40));
}

VOID set_NVP5214B_Image_Size(int Data)
{
    I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
    I2CWriteByte(DEV_ADDR, 0x58 +Channel_select%4, Data);
    //printf("11111111111111 I2CWriteByte 0x58: %x \n",I2CReadByte(DEV_ADDR, 0x58));
}

VOID set_NVP5214B_Image_Zoom(int Data)
{
    I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
    I2CWriteByte(DEV_ADDR, 0x98 +Channel_select%4, Data);
    //printf("11111111111111 I2CWriteByte 0x58: %x \n",I2CReadByte(DEV_ADDR, 0x98));
}

u8_t Video_Format_DstResource = 20;

VOID Select_Background_Color(VOID)
{
    if(AP_GetBlue()) {
        I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
		if(Video_Format_DstResource == AP_DSTRESOURCE_1080P_30) {
			I2CWriteByte(DEV_ADDR, 0x78, 0xaa);
		    I2CWriteByte(DEV_ADDR, 0x79, 0xaa);
		}else {
		    I2CWriteByte(DEV_ADDR, 0x78, 0xee);
		    I2CWriteByte(DEV_ADDR, 0x79, 0xee);
		}
    }else {
        I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
        I2CWriteByte(DEV_ADDR, 0x78, 0x88); //0x43
	    I2CWriteByte(DEV_ADDR, 0x79, 0x88);
    }

    #if 0
    if(Sensor_Output_Format == AFHD_30FPS) {
        printf("1111111111111111111111111111111 Sensor_Output_Format \n");
		I2CWriteByte(DEV_ADDR, 0x7A, 0x33);//Cb¡¢Cr change
		I2CWriteByte(DEV_ADDR, 0x7B, 0x33);//Cb¡¢Cr change
	}
    #endif
}

static void nvp6124b_reset()
{
	// GPIO31/PWM1
	// pad_ctl3
	// [5:3]	itu_c_vsync_in	itu_c_vsync_in_pad	GPIO31	itu_c_vsync_in	mac_mdio	pwm_out[1]
     unsigned int val;
	XM_lock();
	val = rSYS_PAD_CTRL02;
	val &= ~(0x07 << 24);
	rSYS_PAD_CTRL02 = val;
	SetGPIOPadDirection (GPIO28, euOutputPad);
	XM_unlock();

	XM_lock ();
	SetGPIOPadData (GPIO28, euDataHigh);
	XM_unlock();
	OS_Delay (20);
	XM_lock ();
	SetGPIOPadData (GPIO28, euDataLow);
	XM_unlock();
	OS_Delay (20);
	XM_lock ();
	SetGPIOPadData (GPIO28, euDataHigh);
	XM_unlock();
	OS_Delay (20);
}

u32_t NVP6214_get_video_height (void)
{
	return Sensor_Output_Height;
}

u32_t NVP6214_get_video_width (void)
{
	return Sensor_Output_Width;
}
#define VIDEO_AHD3  GPIO80
#define VIDEO_AHD1  GPIO81
#define VIDEO_AHD4  GPIO82
#define VIDEO_AHD2  GPIO83
#define VIDEO_ACC4_DET  GPIO84
#define VIDEO_ACC3_DET  GPIO85
#define VIDEO_ACC2_DET  GPIO86
#define VIDEO_ACC1_DET  GPIO87
#define AUDIO_A  GPIO7
#define AUDIO_B  GPIO8
#define AUDIO_C	 GPIO92 //ÐÂÔöÁ½¸öÉùÒôÍ¨µÀ
#define AUDIO_D  GPIO93

BOOL AHD_Guide_Start(void)
{
     if((GetGPIOPadData(VIDEO_ACC1_DET) == 0) ||(GetGPIOPadData(VIDEO_ACC2_DET) == 0) ||(GetGPIOPadData(VIDEO_ACC3_DET) == 0) \
       || (GetGPIOPadData(VIDEO_ACC4_DET) == 0))
       return TRUE;
     return FALSE;
}

//ÉùÒôµçÑ¹¿ØÖÆ
void Select_AHD_AUDIO(int select)
{
    if(select == 1) {
        SetGPIOPadData (AUDIO_A, euDataHigh);
        SetGPIOPadData (AUDIO_B, euDataHigh);
        SetGPIOPadData (AUDIO_C, euDataLow);
        SetGPIOPadData (AUDIO_D, euDataLow);
    }else if(select == 2) {
        SetGPIOPadData (AUDIO_A, euDataLow);
        SetGPIOPadData (AUDIO_B, euDataLow);
        SetGPIOPadData (AUDIO_C, euDataHigh);
        SetGPIOPadData (AUDIO_D, euDataLow);
    }else if(select == 3) {
        SetGPIOPadData (AUDIO_A, euDataHigh);
        SetGPIOPadData (AUDIO_B, euDataLow);
        SetGPIOPadData (AUDIO_C, euDataLow);
        SetGPIOPadData (AUDIO_D, euDataHigh);
    }else if(select == 4) {
        SetGPIOPadData (AUDIO_A, euDataLow);
        SetGPIOPadData (AUDIO_B, euDataHigh);
    }
    //N3_VideoFormat_Detection(&init_param,select - 1);
}

BOOL Manual_Switch = FALSE;
static unsigned char Sensor_Data_Format_Cache = 0;
BOOL Camera_Data_signed = FALSE;
int video_format_Pre = 0;
int video_format_Count = 0;
u8_t Delay_NVP6214_Data = 0;
static unsigned char Sensor_Pre_Format = 0xff;
extern BOOL Close_Audio_Sound; //ÔÚ¹Ø»úµÄÊ±ºò²»Òª½øÈë¼ì²â×´Ì¬
extern BOOL Pre_Desktop_View; //
void N3_VideoFormat_Detection(  n123_init_param *pInitParam, int ch )
{
	int video_format,video_detect;
	DEV_ADDR = pInitParam->devaddr;

    //I2CWriteByte(DEV_ADDR, 0xFF, 0x01);

	I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
	I2CWriteByte(DEV_ADDR, 0x23+4*(ch%4), 0x41);
	msleep(100);
	I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
	video_format = I2CReadByte(DEV_ADDR, 0xD0+ch%4);
	video_detect = I2CReadByte(DEV_ADDR, 0xb8);

	printf("1111111111 video_format: %x \n",video_format);
    if(video_format_Pre != video_format)
    {
        video_format_Pre = video_format;
        return ;
    }
	
    if(((video_format != Sensor_Pre_Output_Format) || Manual_Switch)&&Close_Audio_Sound)
    {
       	Sensor_Output_Format = video_format;
		Sensor_Pre_Output_Format = Sensor_Output_Format;
		if(Sensor_Output_Format == SD_NTSC)
		{
	   		Sensor_Output_Width = 720;
	   		Sensor_Output_Height = 480;
			init_param.fmt_fps = VDEC_N123_FMT_NTSC;
			init_param.fmt_res = VDEC_N123_FMT_SH720;
			N3_Mode=0x01;
            Video_Format_DstResource = AP_DSTRESOURCE_CVBS_N;
		}
		else if(Sensor_Output_Format == SD_PAL)
		{
	   		Sensor_Output_Width = 720;
	   		Sensor_Output_Height = 576;

			init_param.fmt_fps = VDEC_N123_FMT_PAL;
			init_param.fmt_res = VDEC_N123_FMT_SH720;
			N3_Mode=0x01;
            Video_Format_DstResource = AP_DSTRESOURCE_CVBS_P;
		}
		else if(Sensor_Output_Format == AHD_30FPS)
		{
	   		Sensor_Output_Width = 1280;
	   		Sensor_Output_Height = 720;

			init_param.fmt_fps = VDEC_N123_FMT_30P;
			init_param.fmt_res = VDEC_N123_FMT_720P;
			N3_Mode=0x00;
            Video_Format_DstResource = AP_DSTRESOURCE_720P_30;
		}
		else if(Sensor_Output_Format == AHD_25FPS)
		{
	   		Sensor_Output_Width = 1280;
	   		Sensor_Output_Height = 720;

			init_param.fmt_fps = VDEC_N123_FMT_25P;
			init_param.fmt_res = VDEC_N123_FMT_720P;
			N3_Mode=0x00;
            Video_Format_DstResource = AP_DSTRESOURCE_720P_25;
		}
		else if(Sensor_Output_Format == AHD_60FPS)
		{
	   		Sensor_Output_Width = 1280;
	   		Sensor_Output_Height = 720;

			init_param.fmt_fps = VDEC_N123_FMT_30P;
			init_param.fmt_res = VDEC_N123_FMT_720P;
			N3_Mode=0x00;
            Video_Format_DstResource = AP_DSTRESOURCE_720P_60;
		}
		else if(Sensor_Output_Format == AHD_50FPS)
		{
	   		Sensor_Output_Width = 1280;
	   		Sensor_Output_Height = 720;

			init_param.fmt_fps = VDEC_N123_FMT_30P;
			init_param.fmt_res = VDEC_N123_FMT_720P;
			N3_Mode=0x00;
            Video_Format_DstResource = AP_DSTRESOURCE_720P_50;
		}
		else if(Sensor_Output_Format == AFHD_30FPS)
		{
	   		Sensor_Output_Width = 1920;
	   		Sensor_Output_Height = 1080;

			init_param.fmt_fps = VDEC_N123_FMT_30P;
			init_param.fmt_res = VDEC_N123_FMT_1080P;
			N3_Mode=0x04;
            Video_Format_DstResource = AP_DSTRESOURCE_1080P_30;
		}
		else if(Sensor_Output_Format == AFHD_25FPS) //Ä¬ÈÏ1080P 25fps
		{
	   		Sensor_Output_Width = 1920;
	   		Sensor_Output_Height = 1080;
			init_param.fmt_fps = VDEC_N123_FMT_25P;
			init_param.fmt_res = VDEC_N123_FMT_1080P;
			N3_Mode=0x04;
            Video_Format_DstResource = AP_DSTRESOURCE_1080P_25;
		}

        if(Sensor_Output_Format == NO_DETECT) {
            HW_Auido_SetLevel(0);//ÉùÒôµ÷ÊÔ³É×îÐ¡
            if(((Sensor_Pre_Format == SD_NTSC) || (Sensor_Pre_Format == SD_PAL))&&!Camera_Data_signed)
            {
                I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
                I2CWriteByte(DEV_ADDR, 0x97, 0x00);
                OS_Delay(10);
                I2CWriteByte(DEV_ADDR, 0x97, 0x01<<ch);
            }
            Camera_Data_signed = TRUE;
        }else {
            Camera_Data_signed = FALSE;
            if(APP_GetVOl_OnOff()&&(ch!=3))
                HW_Auido_SetLevel(AP_GetAudo_PWM());
            else if(ch == 3)
                HW_Auido_SetLevel(0);
            Delay_NVP6214_Data = 1; //ÈÈ²å°ÎÖØÐÂ²åÈëÐèÒª¼ä¸ô15ÕëµÄÊý¾ÝÀ´·ÀÖ¹Êý¾Ý²»ÎÈ
        }
		if((((Sensor_Output_Format != NO_DETECT)&& (Sensor_Output_Format !=Sensor_Pre_Format))  || Manual_Switch)&&Close_Audio_Sound)
		{
		    Delay_NVP6214_Data = 2;
		    ACC_DET_Pre = ACC_DET;
            Sensor_Data_Format_Cache = ACC_DET_Pre;

            if(Sensor_Pre_Format != 0xff) {//ÅÅ³ýµÚÒ»´Î
                if((Sensor_Pre_Format != SD_NTSC) && (Sensor_Pre_Format != SD_PAL))
                {
                    // Itu601
        			Notification_Itu601_Isp_Scaler_Stop(); //Çå³ý»º´æ
                }else {
                    DRV7116_PlugOut();
                }
            }
			//nvp6124b_reset();
			//N3_Init(&init_param);
			N3_Init_ch(3,1,ch);
			N3_SetOutChannel_param();
			//N3_SetOutputChannel_Param(&init_param,0);
			//N3_SetInputChannel(&init_param,0);
            //N3_SetCH1_VD1();
            Select_AHD_AUDIO(1);
			#if 0
            if(ch == 0) {
    			N3_SetInputChannel(&init_param,0);
                N3_SetCH1_VD1();
                Select_AHD_AUDIO(1);
            }else if(ch == 1) {
                N3_SetInputChannel(&init_param,1);
                N3_SetCH2_VD1();
                Select_AHD_AUDIO(2);
            }else if(ch == 2) {
                N3_SetInputChannel(&init_param,2);
                N3_SetCH3_VD1();
                Select_AHD_AUDIO(3);
            }else if(ch == 3) {
                N3_SetInputChannel(&init_param,3);
                N3_SetCH4_VD1();
                Select_AHD_AUDIO(4);
            }
			#endif
            Sensor_Pre_Format = Sensor_Output_Format;
            OS_Delay(100);
            if((Sensor_Output_Format == SD_NTSC) ||  (Sensor_Output_Format == SD_PAL))
            {
                DRV7116_PlugIn();
            }else  {
                Notification_Itu601_Isp_Scaler_Init();
            }
            Delay_NVP6214_Data = 1;
            // ¹ýÂË1sµÄÊý¾Ý
		}

		if((Sensor_Output_Format == NO_DETECT)/*&&(Sensor_Pre_Format == 0xff)*/&&Close_Audio_Sound)
		{
		    //µÚÒ»´Î½øÀ´Î´¼ì²âµ½Êý¾Ý,Ä¬ÈÏ³õÊ¼»¯1080P25FPS
		    Delay_NVP6214_Data = 2;
		    Sensor_Output_Width = 1920;
	   		Sensor_Output_Height = 1080;
			init_param.fmt_fps = VDEC_N123_FMT_30P;
			init_param.fmt_res = VDEC_N123_FMT_1080P;
			N3_Mode=0x04;
            Video_Format_DstResource = AP_DSTRESOURCE_1080P_30;
            if(Sensor_Pre_Format != 0xff) {
                ISP_SCALAR_STOP;//stop isp_scalar
            	Notification_Itu601_Isp_Scaler_Stop(); //Çå³ý»º´æ
            }
        	Sensor_Pre_Format = Sensor_Output_Format;
            nvp6124b_reset();
			N3_Init(&init_param);
            if(ch == 0) {
    			N3_SetInputChannel(&init_param,0);
                N3_SetCH1_VD1();
            }else if(ch == 1) {
                N3_SetInputChannel(&init_param,1);
                N3_SetCH2_VD1();
            }else if(ch == 2) {
                N3_SetInputChannel(&init_param,2);
                N3_SetCH3_VD1();
            }else if(ch == 3) {
                N3_SetInputChannel(&init_param,3);
                N3_SetCH4_VD1();
            }
            OS_Delay(100);
            Notification_Itu601_Isp_Scaler_Init();
			ISP_SCALAR_RUN;
            Delay_NVP6214_Data = 1;
		}
        Manual_Switch = FALSE;
    }
}

static void nvp6124b_device_init(void)
{
	detect_param.devaddr = DEV_ADDR;
	init_param.devaddr = DEV_ADDR;

	#if NVP6124B_DEFAULT_FORMAT == AFHD_25FPS
	init_param.fmt_fps = VDEC_N123_FMT_25P;
	init_param.fmt_res = VDEC_N123_FMT_1080P;
	N3_Mode=0x04;

	#elif NVP6124B_DEFAULT_FORMAT == AHD_25FPS
	init_param.fmt_fps = VDEC_N123_FMT_25P;
	init_param.fmt_res = VDEC_N123_FMT_720P;
	N3_Mode=0x00;

	#elif NVP6124B_DEFAULT_FORMAT == SD_NTSC
	init_param.fmt_fps = VDEC_N123_FMT_NTSC;
	init_param.fmt_res = VDEC_N123_FMT_SH720;
	N3_Mode=0x01;
	#endif

    N123_DetectChip(&detect_param);
	N3_Init(&init_param);
    #if 0
	N3_SetInputChannel(&init_param,1); //0:Í¨µÀ1 //1: Í¨µÀ2 //2:Í¨µÀ3 //3: Í¨µÀ4
    N3_SetCH2_VD1();
	msleep(200);
	N3_VideoFormat_Detection(&init_param,1);
    #endif

	I2CWriteByte(DEV_ADDR, 0xFF, 0x00);
	I2CWriteByte(DEV_ADDR, 0x02, 0xf0);//0xfc//0xf0
	I2CWriteByte(DEV_ADDR, 0xFF, 0x01);
	I2CWriteByte(DEV_ADDR, 0x98, 0x00);//0x0c//0x00
}

#define NVP6214B_DET_EVENT 0x01
#define KEY_EVENT 0x02
#define NVP6214B_DEL_TIMER_EVENT  0x04
static OS_TIMER NVP6214B_DetTImer;

static void NVP6214B_Detect_TicketCallback (void)
{
    OS_SignalEvent(NVP6214B_DET_EVENT, &TCB_NVP6124B_Task); /* Í¨ÖªÊÂ¼þ */
	OS_RetriggerTimer (&NVP6214B_DetTImer);
}

void auido_AB_INIT(void)
{
   unsigned int val=0;

	XM_lock();
	val = rSYS_PAD_CTRL00 ;
	val &= ~((0x7 << 21) | (0x7 << 24));
	rSYS_PAD_CTRL00 = val;
    
	val = rSYS_PAD_CTRL08 ;
	val &= ~((0x3 << 24)| (0x3 << 26));
	rSYS_PAD_CTRL08 = val;

	SetGPIOPadDirection (AUDIO_A, euOutputPad);
    SetGPIOPadDirection (AUDIO_B, euOutputPad);
	SetGPIOPadDirection (AUDIO_C, euOutputPad);
    SetGPIOPadDirection (AUDIO_D, euOutputPad);
	XM_unlock();
	SetGPIOPadData (AUDIO_C, euDataHigh);
	SetGPIOPadData (AUDIO_D, euDataHigh);
}
//°ÎµçÔ´ÄÇ¿éµÄµçÑ¹¶¼¹Ø±Õ
VOID Close_System(VOID)
{
    SetGPIOPadData(VIDEO_AHD3,euDataLow);
    SetGPIOPadData(VIDEO_AHD4,euDataLow);
    SetGPIOPadData(VIDEO_AHD2,euDataLow);
    SetGPIOPadData(VIDEO_AHD1,euDataLow);
}
// Êä³öµçÑ¹³õÊ¼»¯
void VIDEO_AHD_INIT(void)
{
    unsigned int val=0;

	XM_lock();
	val = rSYS_PAD_CTRL08 ;
	val &= ~(0x3 << 0) | (0x3 << 2)| (0x3 << 4)| (0x3 << 6)| (0x3 << 8)| (0x3 << 10)| (0x3 << 12)| (0x3 << 14) ;
	rSYS_PAD_CTRL08 = val;
	SetGPIOPadDirection (VIDEO_AHD3, euOutputPad);
    SetGPIOPadDirection (VIDEO_AHD1, euOutputPad);
    SetGPIOPadDirection (VIDEO_AHD4, euOutputPad);
    SetGPIOPadDirection (VIDEO_AHD2, euOutputPad);
    SetGPIOPadDirection (VIDEO_ACC4_DET, euInputPad);
    SetGPIOPadDirection (VIDEO_ACC3_DET, euInputPad);
    SetGPIOPadDirection (VIDEO_ACC2_DET, euInputPad);
    SetGPIOPadDirection (VIDEO_ACC1_DET, euInputPad);
	XM_unlock();
    Close_System();
}

extern u8_t AHD_ChannelNum_Data;
VOID OPEN_Video_System(VOID)
{
	if(AHD_ChannelNum_Data == 1) {
		SetGPIOPadData(VIDEO_AHD1,euDataHigh);
		Select_AHD_AUDIO(1);
    }else if(AHD_ChannelNum_Data == 2) {
		SetGPIOPadData(VIDEO_AHD2,euDataHigh);
		Select_AHD_AUDIO(2);
    }else if(AHD_ChannelNum_Data == 3) {
		SetGPIOPadData(VIDEO_AHD3,euDataHigh);
		Select_AHD_AUDIO(3);
    }else if(AHD_ChannelNum_Data == 4) {
		SetGPIOPadData(VIDEO_AHD4,euDataHigh);
		Select_AHD_AUDIO(4);
    }
}


u8_t AHD_Timer_Count = 0;
u8_t AHD_Status= 0;
extern u8_t Manual_Channel;
u8_t ACC_Det_Start = 0;
u8_t ACC_Select = 1;
u8_t ACC_det_REc = 0;
extern BOOL AV_Select_AHD;
u8_t ACC_Det_Channel = 0;
u8_t ACC_Pre_Data_Channel = 0;

BOOL AHD4_Reverse_Status = FALSE;
BOOL AHD3_Reverse_Status = FALSE;
BOOL AHD2_Reverse_Status = FALSE;
BOOL AHD1_Reverse_Status = FALSE;

BOOL AHD_Reverse_TimeDelay(u8_t AHD_Delay,BOOL ACC_Select_Status)
{
    if(((AHD_Delay *10) > AHD_Timer_Count)&&ACC_Select_Status) {
        AHD_Timer_Count ++;
        return TRUE;
    }
    return FALSE;
}

//µ¹³µÑÓÊ±
u8_t AHD4_Delay = 0;
u8_t AHD3_Delay = 0;
u8_t AHD2_Delay = 0;
u8_t AHD1_Delay = 0;

u8_t Select_AHD_Camera(void)
{
    // µ¹³µ/ÑÓÊ±(µ¹³µÑÓÊ±/×ªÏòµÆÑÓÊ±1s)/AVÇÐ»»
    if(((GetGPIOPadData(VIDEO_ACC4_DET) == 0) ||AHD_Reverse_TimeDelay(AHD4_Delay,AHD4_Reverse_Status))&&AV_Select_AHD){
        ACC_DET = ACC4_DET;
        ACC_Det_Channel = ACC_DET;
		ACC_Pre_Data_Channel = AHD_ChannelNum_Data;
        if(GetGPIOPadData(VIDEO_ACC4_DET) == 0) { //Ö»ÓÐµ¹³µµÄÊ±ºò³õÊ¼»¯.
            AHD4_Delay = AP_GetDelay_Camera4();
            AHD4_Delay = AHD4_Delay?AHD4_Delay:1;//µ¹³µÑÓÊ±:×ªÏòµÆÑÓÊ±
            AHD_Timer_Count = 0;
        }
        AHD_Status = 1;
        Manual_Channel = 1;
        ACC_Det_Start = 4;
        AHD4_Reverse_Status = TRUE;
        AHD3_Reverse_Status = FALSE;
        AHD2_Reverse_Status = FALSE;
        AHD1_Reverse_Status = FALSE;
    }else if(((GetGPIOPadData(VIDEO_ACC3_DET) == 0)||AHD_Reverse_TimeDelay(AHD3_Delay,AHD3_Reverse_Status))&&AV_Select_AHD) {
        ACC_DET = ACC3_DET;
        ACC_Det_Channel = ACC_DET;
		ACC_Pre_Data_Channel = AHD_ChannelNum_Data;
        if(GetGPIOPadData(VIDEO_ACC3_DET) == 0) {
            AHD3_Delay = AP_GetDelay_Camera3();
            AHD3_Delay = AHD3_Delay?AHD3_Delay:1;
            AHD_Timer_Count = 0;
        }
        AHD_Status = 1;
        Manual_Channel = 1;
        ACC_Det_Start = 3;
        AHD3_Reverse_Status = TRUE;
        AHD4_Reverse_Status = FALSE;
        AHD2_Reverse_Status = FALSE;
        AHD1_Reverse_Status = FALSE;
    }else if(((GetGPIOPadData(VIDEO_ACC2_DET) == 0)||AHD_Reverse_TimeDelay(AHD2_Delay,AHD2_Reverse_Status))&&AV_Select_AHD) {
        ACC_DET = ACC2_DET;
        ACC_Det_Channel = ACC_DET;
		ACC_Pre_Data_Channel = AHD_ChannelNum_Data;
        if(GetGPIOPadData(VIDEO_ACC2_DET) == 0) {
            AHD2_Delay = AP_GetDelay_Camera2();
            AHD2_Delay = AHD2_Delay?AHD2_Delay:1;
            AHD_Timer_Count = 0;
        }
        AHD_Status = 1;
        Manual_Channel = 1;
        ACC_Det_Start = 2;
        AHD2_Reverse_Status = TRUE;
        AHD4_Reverse_Status = FALSE;
        AHD3_Reverse_Status = FALSE;
        AHD1_Reverse_Status = FALSE;
    }else if(((GetGPIOPadData(VIDEO_ACC1_DET) == 0)||AHD_Reverse_TimeDelay(AHD1_Delay,AHD1_Reverse_Status))&&AV_Select_AHD) {
        ACC_DET = ACC1_DET;
        ACC_Det_Channel = ACC_DET;
		ACC_Pre_Data_Channel = AHD_ChannelNum_Data;
		if(GetGPIOPadData(VIDEO_ACC1_DET) == 0) {
            AHD1_Delay = AP_GetDelay_Camera1();
            AHD1_Delay = AHD1_Delay?AHD1_Delay:1;
            AHD_Timer_Count = 0;
        }
        AHD_Status = 1;
        Manual_Channel = 1;
        ACC_Det_Start = 1;
        AHD1_Reverse_Status = TRUE;
        AHD2_Reverse_Status = FALSE;
        AHD3_Reverse_Status = FALSE;
        AHD4_Reverse_Status = FALSE;
    }else {
        AHD1_Reverse_Status = FALSE;
        AHD2_Reverse_Status = FALSE;
        AHD3_Reverse_Status = FALSE;
        AHD4_Reverse_Status = FALSE;
        Manual_Channel = 0;
        AHD_Status = 0;
        {
            //°´¼üÇÐ»»
            //µ¹³µÍê³ÉÖ®ºó,ÐèÒªÇÐ»»¸Õ¿ªÊ¼µ¹³µµÄÏßÂ·
            if((ACC_Pre_Data_Channel != 0)&& !AHD_Guide_Start()) {
				AHD_ChannelNum_Data = ACC_Pre_Data_Channel;
				ACC_Pre_Data_Channel = 0;
           	}
            if(AHD_ChannelNum_Data == 1) {
                ACC_DET = ACC1_DET;
                //Manual_Switch = TRUE;
            }else if(AHD_ChannelNum_Data == 2) {
                ACC_DET = ACC2_DET;
               // Manual_Switch = TRUE;
            }else if(AHD_ChannelNum_Data == 3) {
                ACC_DET = ACC3_DET;
                //Manual_Switch = TRUE;
            }else if(AHD_ChannelNum_Data == 4) {
                ACC_DET = ACC4_DET;
               // Manual_Switch = TRUE;
            }
            if(!AHD_Guide_Start())
                AV_Select_AHD = TRUE;
        }
        //ACC_Det_Start = 0;
    }
    //AHD_ChannelNum_Data = ACC_DET;//ÔÚµ¹³µµÄÊ±ºòÇÐ»»
    ACC_Det_Start = ACC_DET; //µ¹³µÐèÒªÈ·ÈÏÄÄ¸öÍ¨µÀ
    ACC_Select = ACC_DET;
    if(ACC_DET != ACC_DET_Pre)
    {
        HW_Auido_SetLevel(0); //#20180913## @Edison add //ÇÐ»»ÉùµÀÐèÒª¾²Òô
        if(ACC_DET == ACC4_DET) {
            SetGPIOPadData(VIDEO_AHD4,euDataHigh);
            SetGPIOPadData(VIDEO_AHD3,euDataLow);
            SetGPIOPadData(VIDEO_AHD2,euDataLow);
            SetGPIOPadData(VIDEO_AHD1,euDataLow);
            ACC_det_REc = 4;
            Manual_Switch = 1;
        }else if(ACC_DET == ACC3_DET) {
            SetGPIOPadData(VIDEO_AHD3,euDataHigh);
            SetGPIOPadData(VIDEO_AHD4,euDataLow);
            SetGPIOPadData(VIDEO_AHD2,euDataLow);
            SetGPIOPadData(VIDEO_AHD1,euDataLow);
            //Select_AHD_AUDIO(3);
            ACC_det_REc = 3;
            Manual_Switch = 1;
        }else if(ACC_DET == ACC2_DET) {
            SetGPIOPadData(VIDEO_AHD2,euDataHigh);
            SetGPIOPadData(VIDEO_AHD4,euDataLow);
            SetGPIOPadData(VIDEO_AHD3,euDataLow);
            SetGPIOPadData(VIDEO_AHD1,euDataLow);
            //Select_AHD_AUDIO(2);
            ACC_det_REc = 2;
            Manual_Switch = 1;
        }else if(ACC_DET == ACC1_DET) {
            SetGPIOPadData(VIDEO_AHD1,euDataHigh);
            SetGPIOPadData(VIDEO_AHD4,euDataLow);
            SetGPIOPadData(VIDEO_AHD2,euDataLow);
            SetGPIOPadData(VIDEO_AHD3,euDataLow);
            //Select_AHD_AUDIO(1);
            ACC_det_REc = 1;
            Manual_Switch = 1;
       }
    }
    Channel_select = ACC_det_REc - 1;
    return ACC_det_REc;
}


void NVP6214B_SelPad (void)
{
	unsigned int val;
	XM_lock ();

	//rSYS_DEVICE_CLK_CFG0 &= ~(0x1<<8);// MCLKÊ±ÖÓÏàÎ»²»È¡·´

    #if 0
	// ISPµÄsensorÊ±ÖÓÖ»ÄÜ´Ó GPIO1 Êä³ö
	val = rSYS_PAD_CTRL0A ;
	val &= ~(3 << 6);
	val |=  (1 << 6);
	rSYS_PAD_CTRL0A = val;
    SetGPIOPadDirection (GPIO1, euOutputPad);
    #endif
    #if 1
    val = rSYS_PAD_CTRL02 ;
	val &= ~(7 << 27);
	val |=  (2 << 27);
	rSYS_PAD_CTRL02 = val;
    SetGPIOPadDirection (GPIO29, euOutputPad);
    #endif

	// ½«GPIO1(sen_clk_out)µÄÇý¶¯ÄÜÁ¦ÐÞ¸ÄÎª×î´ó
	//rSYS_IO_DRIVER01 = (unsigned int)(rSYS_IO_DRIVER01 | (unsigned int)(0x3 << 30));

    #if 0 //Èç¹ûÖ»ÐèÒªÊä³ö¾§Õñ,Õâ¸öÊÇ¿ÉÒÔÆÁ±ÎµÄ
	val = rSYS_PAD_CTRL00;
	val &=0xc0000000;
	//     clk sensorÊä³öÀ´µÄÊ±ÖÓÐÅºÅ
	//     clk =bit.2-0:GPIO127
	//     clk   | vs   |  hs  | din0 | din1  |  din2 | din3  | din4  |  din5 | din6
	val |= (1<<0)|(1<<3)|(1<<6)|(1<<9)|(1<<12)|(1<<15)|(1<<18)|(1<<21)|(1<<24)|(1<<27);
	rSYS_PAD_CTRL00 = val;

	val = rSYS_PAD_CTRL01 ;
	val &=0xffff8000;
	//     din7 | din8 | din9 | din10| din11
	val |=(1<<0)|(1<<3)|(1<<6)|(1<<9)|(1<<12) ;
	rSYS_PAD_CTRL01 = val;
    #endif
	XM_unlock ();
}


void NVP6124B_clock_init (void)
{
	unsigned int sen_clk_switch_sel, sen_clk_div, Sen_mclk_sel;
	unsigned int val;
	unsigned int Int_ISP_clk_sel, ISP_clk_div, Itu_clk_a_dly;


	isp_clock_stop ();
	sys_soft_reset (softreset_isp);
	delay (0x10000);

	// MCLK = 12MHz

	//  SYS_DEVICE_CLK_CFG1
	// 23	R/W	0	Sen_mclk_sel:
	// 				1'b0: sen_clk_int.
	// 				1'b1: sen_clk_int_inv
	Sen_mclk_sel = 0;


	// 22-19	R/W	0	sen_clk_div
	// 					sen_clk_int = sen_clk_switch/(sen_clk_div? sen_clk_div:1)
	sen_clk_div = 12;		// 24/2= 12

	// 18-15	R/W	4	sen_clk_switch_sel: mfc_clk_switch
	// 					4'b0000: Clk_240m
	//						4'b0001: Syspll_clk
	//						4'b0010: audpll_clk
	//						4'b0100: Clk_24m
	sen_clk_switch_sel = 1;

	XM_lock ();
	//rSYS_DEVICE_CLK_CFG0 |= (1 << 8);
	#if 0
	val = rSYS_DEVICE_CLK_CFG1;
	val &= ~((0xF << 15) | (0xF << 19) | (0x1 << 23));
	val |=  (sen_clk_switch_sel << 15) | (sen_clk_div << 19) | (Sen_mclk_sel << 23);
	rSYS_DEVICE_CLK_CFG1 = val;
    #endif

    val = rSYS_DEVICE_CLK_CFG2;
    val &= ~((0xF << 0) | (0xF << 4));
	val |=  (sen_clk_switch_sel << 0) | (sen_clk_div << 4);
    rSYS_DEVICE_CLK_CFG2 = val;
	XM_unlock ();
    #if 0
	// 20180313 99M(AUD396/4)
	// 20180131 ISPÊ±ÖÓÅäÖÃÎª134M(402/3£¬Int_ISP_clk_sel = 2£¬ ISP_clk_div = 3)Ê±£¬¿ª¹Ø»ú²âÊÔ½ÏÎªÎÈ¶¨£¬ µ«»¹ÊÇ¹Ò»ú¡£
	// 20180303 ISPÊ±ÖÓÅäÖÃÎª78MHz(390/5, Int_ISP_clk_sel = 2£¬ ISP_clk_div = 5)Ê±, ¿ª¹Ø»ú²âÊÔÎÈ¶¨(ISPÆô¶¯Ç°¹Ø±ÕÆäËûÄ£¿éµÄÊ±ÖÓ)
	//				³õ²½»³ÒÉÊÇISPÆô¶¯Ë²¼ä£¬1.2V´óµçÁ÷µ¼ÖÂÄ³¸öÄ£¿é¹ÒËÀ
	// 2-0	R/W	4	Int_ISP_clk_sel
	// 					4'b0000: itu_clk_a
	// 					4'b0001: Syspll_clk
	// 					4'b0010: audpll_clk
	// 					4'b0100: Clk_24m
	Int_ISP_clk_sel = 1;
	//Int_ISP_clk_sel = 2;
	// 5-3	R/W	0	ISP clk div
	//						ISP clk = int_ISP_clk/div
	//ISP_clk_div = 3;		// 354/3 = 118, OKm
	//Int_ISP_clk_sel = 2;
	//ISP_clk_div = 3;		// 402/3 = 134, OK (Ã¿15ÃëÈí¿ª¹Ø»ú²âÊÔ24Ð¡Ê±OK)
	ISP_clk_div = 4;		// 402/4 = 100.5, W_1600_H_750 NG, W_1500_H_800 OK, ¿ª¹Ø»úÆô¶¯ISP³öÏÖ¹Ò»ú, 1·ÖÖÓ
	//ISP_clk_div = 5;		// 312/5 = 62.4, W_1500_H_800 ISP¹ÒËÀ£¬ W_1450_H_825 OK, ¿ª¹Ø»úÆô¶¯ISP³öÏÖ¹Ò»ú£¬ 10·ÖÖÓ
	//ISP_clk_div = 6;		// 312/6 = 52, W_1410_H_850 OK
	//ISP_clk_div = 7;

	// 22-16	R/W	0x0	Itu_clk_a_dly
	//Itu_clk_a_dly = 0x30;	//0x60;
	//Itu_clk_a_dly = 0x60;
	Itu_clk_a_dly = 0;		// ²»Í¬µÄ°ådlyÉèÖÃ´æÔÚ²îÒì,ÐèÒªÎ¢µ÷

	XM_lock ();
	val = rSYS_DEVICE_CLK_CFG3;
	val &= ~((0x7 << 0) | (0x7 << 3) | (0x7F << 16) );
	val |=  ((Int_ISP_clk_sel << 0) | (ISP_clk_div << 3) | (Itu_clk_a_dly << 16) );
	rSYS_DEVICE_CLK_CFG3 = val;
	XM_unlock ();
    #endif

	sys_clk_enable (Isp_hclk_enable);
	sys_clk_enable (Isp_clk_enable);
	sys_clk_enable (Isp_xclk_enable);
    rSYS_AHB_CLK_EN |= (1 << 31); //AHD _CLK
	//sys_clk_enable (Sensor_mclk_out_enable);

	delay (10);

	//printf ("sensor_mclk = %d, isp_clk = %d\n", arkn141_get_clks(ARKN141_CLK_SENSOR_MCLK), arkn141_get_clks(ARKN141_CLK_ISP));

}

void nvp6214B_Receive_KEY(void)
{
    OS_SignalEvent(KEY_EVENT, &TCB_NVP6124B_Task); /* Í¨ÖªÊÂ¼þ */
}

VOID Select_AHD_Camera1AndCamera2(VOID)
{
    // ´ò¿ªÍ¨µÀ1ºÍÍ¨µÀ2µÄµçÑ¹
    SetGPIOPadData(VIDEO_AHD1,euDataHigh);
    SetGPIOPadData(VIDEO_AHD2,euDataHigh);
    SetGPIOPadData(VIDEO_AHD4,euDataLow);
    SetGPIOPadData(VIDEO_AHD3,euDataLow);
}

u8_t AHD_KEY_Data = 0;
static void nvp6124b_task (void)
{
    OS_U8 nvp6214_event;
    auido_AB_INIT();
    VIDEO_AHD_INIT();
    //Èí¼þÊä³ö27MHZ
    //NVP6214B_SelPad();
    //NVP6124B_clock_init();

    AHD_ChannelNum_Data = 1;//AP_GetAHD_Select();
	Select_AHD_Camera1AndCamera2();
    nvp6124b_reset();
    nvp6124b_device_init();
    //Select_AHD_Camera();
	OS_CREATETIMER (&NVP6214B_DetTImer, NVP6214B_Detect_TicketCallback, 100);
    while(1)
    {
        nvp6214_event = OS_WaitEvent(NVP6214B_DET_EVENT |KEY_EVENT |NVP6214B_DEL_TIMER_EVENT);

        if(nvp6214_event & NVP6214B_DET_EVENT)
        {
            N3_VideoFormat_Detection(&init_param,0);
            //if(Close_Audio_Sound)
            //    N3_VideoFormat_Detection(&init_param,Select_AHD_Camera() - 1);

        }

        if(nvp6214_event & KEY_EVENT)
        {
        }

        if(nvp6214_event & NVP6214B_DEL_TIMER_EVENT)
        {

        }
    }
}


void XMSYS_Nvp6124bInit (void)
{
	GPIO_I2C_Init ();

	OS_CREATETASK(&TCB_NVP6124B_Task, "NVP6124B", nvp6124b_task, XMSYS_NVP6124B_TASK_PRIORITY, StackNVP6124BTask);
}


void XMSYS_Nvp6124bExit (void)
{

}

#endif

