#include "arkn141_isp_sensor_cfg.h"
#include <stdio.h>
#include <string.h>

#if ARKN141_CMOS_SENSOR == ARKN141_CMOS_SENSOR_AR0238

#include "xm_proj_define.h"
#include "xm_i2c.h"
#include "arkn141_isp_cmos_sensor_io.h"
#include "xm_h264_codec.h"



// Two-Wire Serial address select. 0: 0x20. 1: 0x30
#define	SEN_I2C_ADDR				(0x20 >> 1)



static int I2C_WRITE (unsigned int addr, unsigned int data)
{
	return i2c_reg16_write16(SEN_I2C_ADDR,(addr),(data));	
}

static unsigned int I2C_READ (unsigned int addr)
{
	unsigned int data = 0;
	i2c_reg16_read16(SEN_I2C_ADDR, addr, &data);
	return data;
}

#define	REG(addr, data)	\
	if(I2C_WRITE((addr), (data)) < 0)	\
		return -1;




extern void OS_Delay (int);



static int Reset (void)
{
	// [Reset]
	// STATE= Sensor Reset, 1
	// DELAY= 200
	// STATE= Sensor Reset, 0
	// FIELD_WR= RESET_REGISTER, 0x0001 	// REG= 0x301A, 0x0001
	// FIELD_WR= RESET_REGISTER, 0x10D8 	// REG= 0x301A, 0x10D8
	
	if(I2C_WRITE (0x301A, 0x0001) < 0)
		return -1;
	OS_Delay (10);
	if(I2C_WRITE (0x301A, 0x10D8) < 0)
		return -1;
	return 0;
}

static int Linear_mode_sequencer(void)
{
REG(0x3088, 0x8000) 
REG(0x3086, 0x4558) 
REG(0x3086, 0x72A6) 
REG(0x3086, 0x4A31) 
REG(0x3086, 0x4342) 
REG(0x3086, 0x8E03) 
REG(0x3086, 0x2A14) 
REG(0x3086, 0x4578) 
REG(0x3086, 0x7B3D) 
REG(0x3086, 0xFF3D) 
REG(0x3086, 0xFF3D) 
REG(0x3086, 0xEA2A) 
REG(0x3086, 0x43D) 
REG(0x3086, 0x102A) 
REG(0x3086, 0x52A )
REG(0x3086, 0x1535)
REG(0x3086, 0x2A05) 
REG(0x3086, 0x3D10) 
REG(0x3086, 0x4558) 
REG(0x3086, 0x2A04) 
REG(0x3086, 0x2A14)
REG(0x3086, 0x3DFF)
REG(0x3086, 0x3DFF)
REG(0x3086, 0x3DEA)
REG(0x3086, 0x2A04)
REG(0x3086, 0x622A )
REG(0x3086, 0x288E )
REG(0x3086, 0x36 )
REG(0x3086, 0x2A08)
REG(0x3086, 0x3D64 )
REG(0x3086, 0x444 )
REG(0x3086, 0x2C4B )
REG(0x3086, 0xA403 )
REG(0x3086, 0x430D )
REG(0x3086, 0x2D46 )
REG(0x3086, 0x4316 )
REG(0x3086, 0x2A90 )
REG(0x3086, 0x3E06 )
REG(0x3086, 0x2A98 )
REG(0x3086, 0x5F16 )
REG(0x3086, 0x530D )
REG(0x3086, 0x1660)
REG(0x3086, 0x3E4C )
REG(0x3086, 0x2904)
REG(0x3086, 0x2984)
REG(0x3086, 0x8E03 )
REG(0x3086, 0x2AFC )
REG(0x3086, 0x5C1D )
REG(0x3086, 0x5754 )
REG(0x3086, 0x495F )
REG(0x3086, 0x5305 )
REG(0x3086, 0x5307 )
REG(0x3086, 0x4D2B )
REG(0x3086, 0xF810 )
REG(0x3086, 0x164C )
REG(0x3086, 0x955 )
REG(0x3086, 0x562B )
REG(0x3086, 0xB82B )
REG(0x3086, 0x984E )
REG(0x3086, 0x1129 )
REG(0x3086, 0x9460 )
REG(0x3086, 0x5C19 )
REG(0x3086, 0x5C1B )
REG(0x3086, 0x4548 )
REG(0x3086, 0x4508 )
REG(0x3086, 0x4588 )
REG(0x3086, 0x29B6 )
REG(0x3086, 0x8E01 )
REG(0x3086, 0x2AF8 )
REG(0x3086, 0x3E02 )
REG(0x3086, 0x2AFA )
REG(0x3086, 0x3F09 )
REG(0x3086, 0x5C1B )
REG(0x3086, 0x29B2 )
REG(0x3086, 0x3F0C )
REG(0x3086, 0x3E03 )
REG(0x3086, 0x3E15 )
REG(0x3086, 0x5C13 )
REG(0x3086, 0x3F11 )
REG(0x3086, 0x3E0F )
REG(0x3086, 0x5F2B )
REG(0x3086, 0x902B )
REG(0x3086, 0x803E )
REG(0x3086, 0x62A )
REG(0x3086, 0xF23F )
REG(0x3086, 0x103E )
REG(0x3086, 0x160 )
REG(0x3086, 0x29A2 )
REG(0x3086, 0x29A3 )
REG(0x3086, 0x5F4D )
REG(0x3086, 0x1C2A )
REG(0x3086, 0xFA29 )
REG(0x3086, 0x8345 )
REG(0x3086, 0xA83E )
REG(0x3086, 0x72A )
REG(0x3086, 0xFB3E )
REG(0x3086, 0x2945 )
REG(0x3086, 0x8824 )
REG(0x3086, 0x3E08 )
REG(0x3086, 0x2AFA )
REG(0x3086, 0x5D29 )
REG(0x3086, 0x9288 )
REG(0x3086, 0x102B )
REG(0x3086, 0x48B )
REG(0x3086, 0x1686 )
REG(0x3086, 0x8D48 )
REG(0x3086, 0x4D4E )
REG(0x3086, 0x2B80 )
REG(0x3086, 0x4C0B )
REG(0x3086, 0x3F36 )
REG(0x3086, 0x2AF2 )
REG(0x3086, 0x3F10 )
REG(0x3086, 0x3E01 )
REG(0x3086, 0x6029 )
REG(0x3086, 0x8229 )
REG(0x3086, 0x8329 )
REG(0x3086, 0x435C )
REG(0x3086, 0x155F )
REG(0x3086, 0x4D1C )
REG(0x3086, 0x2AFA )
REG(0x3086, 0x4558 )
REG(0x3086, 0x8E00 )
REG(0x3086, 0x2A98 )
REG(0x3086, 0x3F0A )
REG(0x3086, 0x4A0A )
REG(0x3086, 0x4316 )
REG(0x3086, 0xB43 )
REG(0x3086, 0x168E )
REG(0x3086, 0x32A )
REG(0x3086, 0x9C45 )
REG(0x3086, 0x783F )
REG(0x3086, 0x72A )
REG(0x3086, 0x9D3E )
REG(0x3086, 0x305D )
REG(0x3086, 0x2944 )
REG(0x3086, 0x8810 )
REG(0x3086, 0x2B04 )
REG(0x3086, 0x530D )
REG(0x3086, 0x4558 )
REG(0x3086, 0x3E08 )
REG(0x3086, 0x8E01 )
REG(0x3086, 0x2A98 )
REG(0x3086, 0x8E00 )
REG(0x3086, 0x76A7 )
REG(0x3086, 0x77A7 )
REG(0x3086, 0x4644 )
REG(0x3086, 0x1616 )
REG(0x3086, 0xA57A )
REG(0x3086, 0x1244 )
REG(0x3086, 0x4B18 )
REG(0x3086, 0x4A04 )
REG(0x3086, 0x4316 )
REG(0x3086, 0x643 )
REG(0x3086, 0x1605 )
REG(0x3086, 0x4316 )
REG(0x3086, 0x743 )
REG(0x3086, 0x1658 )
REG(0x3086, 0x4316 )
REG(0x3086, 0x5A43 )
REG(0x3086, 0x1645 )
REG(0x3086, 0x588E )
REG(0x3086, 0x32A )
REG(0x3086, 0x9C45 )
REG(0x3086, 0x787B )
REG(0x3086, 0x3F07 )
REG(0x3086, 0x2A9D )
REG(0x3086, 0x530D )
REG(0x3086, 0x8B16 )
REG(0x3086, 0x863E )
REG(0x3086, 0x2345 )
REG(0x3086, 0x5825 )
REG(0x3086, 0x3E10 )
REG(0x3086, 0x8E01 )
REG(0x3086, 0x2A98 )
REG(0x3086, 0x8E00 )
REG(0x3086, 0x3E10 )
REG(0x3086, 0x8D60 )
REG(0x3086, 0x1244 )
REG(0x3086, 0x4BB9 )
REG(0x3086, 0x2C2C )
REG(0x3086, 0x2C2C)
REG(0x3086, 0x2C2C)

	return 0;
}

static int PLL_settings_Parallel(void)
{
	//[PLL_settings - Parallel]
	//FIELD_WR= VT_PIX_CLK_DIV, 0x0008 		// REG= 0x302A, 0x0008
	if(I2C_WRITE (0x302A, 0x0008) < 0)
		return -1;
	//FIELD_WR= VT_SYS_CLK_DIV, 0x0001 		// REG= 0x302C, 0x0001
	if(I2C_WRITE (0x302C, 0x0001) < 0)
		return -1;
	//FIELD_WR= PRE_PLL_CLK_DIV, 0x0002 		// REG= 0x302E, 0x0002
	if(I2C_WRITE (0x302E, 0x0002) < 0)
		return -1;
	//FIELD_WR= PLL_MULTIPLIER, 0x002C 		// REG= 0x3030, 0x002C
	if(I2C_WRITE (0x3030, 0x002C) < 0)
		return -1;
	//FIELD_WR= OP_PIX_CLK_DIV, 0x000C 		// REG= 0x3036, 0x000C
	if(I2C_WRITE (0x3036, 0x000C) < 0)
		return -1;
	//FIELD_WR= OP_SYS_CLK_DIV, 0x0001 		// REG= 0x3038, 0x0001	
	if(I2C_WRITE (0x3038, 0x0001) < 0)
		return -1;
	return 0;
}

static int AR0230_Rev1_AWB_CCM (void)
{
	/*
	[AR0230_Rev1_AWB_CCM]
	STATE= AWB Incandescent, 1.689 -0.537 -0.043 -0.655 1.864 -0.166 -0.397 -1.327 2.661
	STATE= AWB Incandescent Gain, 1.03 0.95
	STATE= AWB Sun, 1.637 -0.377 -0.263 -0.388 1.508 -0.121 -0.081 -0.462 1.558
	STATE= AWB Sun Gain, 1 1.01
	STATE= AWB Weight Map Method, 2
	STATE= AWB Weight Map, 0 1 4352 4096 0 18 12817 4096 0 274 13090 8448 0 290 8738 8448 273 9010 8738 8464 564 21844 12834 13089 581 21844 12834 13105 291 13106 8465 8737
	STATE= AWB Weight Map X Scale, 128
	STATE= AWB Weight Map Y Scale, 128
	STATE= AWB Weight Map X Shift, 32
	STATE= AWB Weight Map Y Shift, 25
	STATE= AWB Weight Map X Center, 4
	STATE= AWB Weight Map Y Center, -31
	STATE= AWB Weight Map Angle Sin, 53
	STATE= AWB Weight Map Angle Cos, 36
	STATE= AWB Weight Map Luma Low, 4
	STATE= AWB Weight Map Luma High, 251
	*/
	return 0;	
}


// [Linear Mode High Conversion Gain]
// FIELD_WR= AECTRLREG, 0x0004			// REG= 0x3100, 0x0004

static int Linear_Mode_Low_Conversion_Gain (void)
{
	// [Linear Mode Low Conversion Gain]
	// FIELD_WR= AECTRLREG, 0x0000			// REG= 0x3100, 0x0000
	if(I2C_WRITE (0x3100, 0x0000) < 0)
		return -1;
	return 0;
}

//[==== Feature Controls ====]
//[Companding Enabled]
//FIELD_WR= DATA_FORMAT_BITS, 0x100C 		// REG= 0x31AC, 0x100C
//FIELD_WR= COMPANDING, 0x0001			// REG= 0x31D0, 0x0001

static int Companding_Disabled (void)
{
	// [Companding Disabled]
	// FIELD_WR= COMPANDING, 0x0000			// REG= 0x31D0, 0x0000
	if(I2C_WRITE (0x31D0, 0x0000) < 0)
		return -1;
	return 0;
}

static int Enable_Embedded_Data_and_Stats (void)
{
	//[Enable Embedded Data and Stats]
	//FIELD_WR= SMIA_TEST, 0x1982			// REG= 0x3064, 0x1982
	if(I2C_WRITE (0x3064, 0x1982) < 0)
		return -1;
	return 0;	
}

static int Disable_Embedded_Data_and_Stats (void)
{
	//[Disable Embedded Data and Stats]
	//FIELD_WR= SMIA_TEST, 0x1802			// REG= 0x3064, 0x1802
	if(I2C_WRITE (0x3064, 0x1802) < 0)
		return -1;
	return 0;	
}

static int Linear_Mode_Setup (void)
{
	unsigned int val;
	// [HIDDEN: Linear Mode Setup] 
	// FIELD_WR= OPERATION_MODE_CTRL, 0x0009 		// REG= 0x3082, 0x0009
	if(I2C_WRITE (0x3082, 0x0009) < 0)
		return -1;
		
	// FIELD_WR= DIGITAL_CTRL, COMBI_MODE, 0x0000      // REG= 0x30BA[8], 0x0
	val = I2C_READ (0x30BA);
	val &= ~(1 << 8);
	if(I2C_WRITE(0x30BA, val) < 0)
		return -1;
		
	// LOAD= Linear Mode Low Conversion Gain
	if(Linear_Mode_Low_Conversion_Gain() < 0)
		return -1;
		
	// LOAD= Companding Disabled
	if(Companding_Disabled() < 0)
		return -1;
		
	// LOAD= AR0230_Rev1_AWB_CCM
	if(AR0230_Rev1_AWB_CCM() < 0)
		return -1;
		
	// LOAD= Enable Embedded Data and Stats
	if(Enable_Embedded_Data_and_Stats() < 0)
		return -1;
		
	return 0;
}

static int Default_Settings_5_Oct (void)
{
	/*
	[Default_Settings_5_Oct]
	//REG= 0x30F0, 0x1283 //removed in ES settings
	REG=0x3064, 0x1802 
	REG=0x3EEE, 0xA0AA 
	REG=0x30BA, 0x762C 
	REG=0x3F4A, 0xF70 
	REG=0x309E, 0x16C 
	REG=0x3092, 0x6F 
	REG=0x3EE4, 0x9937
	REG=0x3EE6, 0x3863
	REG=0x3EEC, 0x3B0C
	//REG=0x3096, 0xF880 removed in ES settings
	//REG=0x3F32, 0xF880 removed in ES settings
	*/
	if(I2C_WRITE (0x3064, 0x1802) < 0)
		return -1;
	if(I2C_WRITE (0x3EEE, 0xA0AA) < 0)
		return -1;
	if(I2C_WRITE (0x30BA, 0x762C) < 0)
		return -1;
	if(I2C_WRITE (0x3F4A, 0xF70) < 0)
		return -1;
	if(I2C_WRITE (0x309E, 0x16C) < 0)
		return -1;
	if(I2C_WRITE (0x3092, 0x6F) < 0)
		return -1;
	if(I2C_WRITE (0x3EE4, 0x9937) < 0)
		return -1;		
	if(I2C_WRITE (0x3EE6, 0x3863) < 0)
		return -1;		
	if(I2C_WRITE (0x3EEC, 0x3B0C) < 0)
		return -1;		
	return 0;
}

// Parallel Configurations
int ap0238_Parallel_Linear_1080p30_Low_Power_Mode_old (void)
{
	unsigned int val;
	//	Load = Reset
	if(Reset() < 0)
		return -1;

	//	DELAY = 200
	OS_Delay (200);
	
	//	LOAD = Linear_mode_sequencer
	if(Linear_mode_sequencer() < 0)
		return -1;
		
	//	FIELD_WR= RESET_REGISTER, 0x10D8 		// REG= 0x301A, 0x10D8
	//	FIELD_WR= DIGITAL_TEST, 0x1A38 			// REG= 0x30B0, 0x0938 changed during ES to 0x1118
	//	FIELD_WR= DATA_FORMAT_BITS, 0x0C0C		// REG= 0x31AC, 0x0C0C
	if(I2C_WRITE (0x301A, 0x10D8) < 0)
		return -1;
	if(I2C_WRITE (0x30B0, 0x1A38) < 0)
		return -1;
	if(I2C_WRITE (0x31AC, 0x0C0C) < 0)
		return -1;
	
	//	LOAD= PLL_settings - Parallel
	if(PLL_settings_Parallel() < 0)
		return -1;
	
	//	FIELD_WR= Y_ADDR_START, 0x0000 			// REG= 0x3002, 0x0000
	if(I2C_WRITE (0x3002, 0x0000) < 0)
		return -1;
	//	FIELD_WR= X_ADDR_START, 0x0000 			// REG= 0x3004, 0x0000
	if(I2C_WRITE (0x3004, 0x0000) < 0)
		return -1;
	//	FIELD_WR= Y_ADDR_END, 0x0437 			// REG= 0x3006, 0x0437
	if(I2C_WRITE (0x3006, 0x0437) < 0)
		return -1;
	//	FIELD_WR= X_ADDR_END, 0x0787 			// REG= 0x3008, 0x0787
	if(I2C_WRITE (0x3008, 0x0787) < 0)
		return -1;
	//	FIELD_WR= FRAME_LENGTH_LINES, 0x04BE 		// REG= 0x300A, 0x0465
	if(I2C_WRITE (0x300A, 0x04BE) < 0)
		return -1;	
	//	FIELD_WR= LINE_LENGTH_PCK, 0x03FC 		// REG= 0x300C, 0x044C
	if(I2C_WRITE (0x300C, 0x03FC) < 0)
		return -1;	
	//	FIELD_WR= COARSE_INTEGRATION_TIME, 0x0416 	// REG= 0x3012, 0x0416
	if(I2C_WRITE (0x3012, 0x0416) < 0)
		return -1;	
	//	FIELD_WR= X_ODD_INC, 0x0001 			// REG= 0x30A2, 0x0001
	if(I2C_WRITE (0x30A2, 0x0001) < 0)
		return -1;	
	//	FIELD_WR= Y_ODD_INC, 0x0001 			// REG= 0x30A6, 0x0001
	if(I2C_WRITE (0x30A6, 0x0001) < 0)
		return -1;	
	//	FIELD_WR= X_ODD_INC_CB, 0x0001 			// REG= 0x30AE, 0x0001
	if(I2C_WRITE (0x30AE, 0x0001) < 0)
		return -1;	
	//	FIELD_WR= Y_ODD_INC_CB, 0x0001 			// REG= 0x30A8, 0x0001
	if(I2C_WRITE (0x30A8, 0x0001) < 0)
		return -1;	
	//	FIELD_WR= READ_MODE, 0x0000 			// REG= 0x3040, 0x0000
	if(I2C_WRITE (0x3040, 0x0000) < 0)
		return -1;	
	//	FIELD_WR= SERIAL_FORMAT, 0x0301 		// REG= 0x31AE, 0x0301
	if(I2C_WRITE (0x31AE, 0x0301) < 0)
		return -1;	
	
	
	//	LOAD= Linear Mode Setup
	if(Linear_Mode_Setup() < 0)
		return -1;
		
	//	LOAD= Default_Settings_5_Oct
	if(Default_Settings_5_Oct() < 0)
		return -1;
		
	//	BITFIELD = 0x30B0, 0x1000, 0x1                  // low power mode
	val = I2C_READ (0x30B0);
	val |= 0x1000;
	if(I2C_WRITE (0x30B0, val) < 0)
		return -1;
		
	//	REG = 0x306E, 0x2418 				// set slew rate for parallel output
	if(I2C_WRITE (0x306E, 0x2418) < 0)
		return -1;
	
	//	FIELD_WR= RESET_REGISTER, 0x10DC 		// REG= 0x301A, 0x10DC
	if(I2C_WRITE (0x301A, 0x10DC) < 0)
		return -1;
	
	//	DELAY=33
	OS_Delay (33);
	
	//	STATE=Detect Master Clock, 1	
	
	I2C_WRITE (0x3070, 2);
	
	return 0;	
}

#define	DELAY	OS_Delay

int ap0238_Parallel_Linear_1080p30_Low_Power_Mode (void)
{
DELAY( 200 );	// [0:00:05.941]
REG( 0x301A, 0x0001); // RESET_REGISTER - [0:00:06.238]
DELAY( 10 );
REG( 0x301A, 0x10D8); // RESET_REGISTER - [0:00:06.268]
DELAY( 200 );	// [0:00:06.469]
REG( 0x3088, 0x8000); // SEQ_CTRL_PORT - [0:00:06.478]
REG( 0x3086, 0x4558); // SEQ_DATA_PORT - [0:00:06.483]
REG( 0x3086, 0x72A6); // SEQ_DATA_PORT - [0:00:06.485]
REG( 0x3086, 0x4A31); // SEQ_DATA_PORT - [0:00:06.488]
REG( 0x3086, 0x4342); // SEQ_DATA_PORT - [0:00:06.490]
REG( 0x3086, 0x8E03); // SEQ_DATA_PORT - [0:00:06.492]
REG( 0x3086, 0x2A14); // SEQ_DATA_PORT - [0:00:06.494]
REG( 0x3086, 0x4578); // SEQ_DATA_PORT - [0:00:06.496]
REG( 0x3086, 0x7B3D); // SEQ_DATA_PORT - [0:00:06.498]
REG( 0x3086, 0xFF3D); // SEQ_DATA_PORT - [0:00:06.500]
REG( 0x3086, 0xFF3D); // SEQ_DATA_PORT - [0:00:06.502]
REG( 0x3086, 0xEA2A); // SEQ_DATA_PORT - [0:00:06.505]
REG( 0x3086, 0x043D); // SEQ_DATA_PORT - [0:00:06.507]
REG( 0x3086, 0x102A); // SEQ_DATA_PORT - [0:00:06.509]
REG( 0x3086, 0x052A); // SEQ_DATA_PORT - [0:00:06.511]
REG( 0x3086, 0x1535); // SEQ_DATA_PORT - [0:00:06.514]
REG( 0x3086, 0x2A05); // SEQ_DATA_PORT - [0:00:06.516]
REG( 0x3086, 0x3D10); // SEQ_DATA_PORT - [0:00:06.518]
REG( 0x3086, 0x4558); // SEQ_DATA_PORT - [0:00:06.520]
REG( 0x3086, 0x2A04); // SEQ_DATA_PORT - [0:00:06.522]
REG( 0x3086, 0x2A14); // SEQ_DATA_PORT - [0:00:06.524]
REG( 0x3086, 0x3DFF); // SEQ_DATA_PORT - [0:00:06.527]
REG( 0x3086, 0x3DFF); // SEQ_DATA_PORT - [0:00:06.529]
REG( 0x3086, 0x3DEA); // SEQ_DATA_PORT - [0:00:06.531]
REG( 0x3086, 0x2A04); // SEQ_DATA_PORT - [0:00:06.533]
REG( 0x3086, 0x622A); // SEQ_DATA_PORT - [0:00:06.537]
REG( 0x3086, 0x288E); // SEQ_DATA_PORT - [0:00:06.539]
REG( 0x3086, 0x0036); // SEQ_DATA_PORT - [0:00:06.541]
REG( 0x3086, 0x2A08); // SEQ_DATA_PORT - [0:00:06.543]
REG( 0x3086, 0x3D64); // SEQ_DATA_PORT - [0:00:06.545]
REG( 0x3086, 0x7A3D); // SEQ_DATA_PORT - [0:00:06.547]
REG( 0x3086, 0x0444); // SEQ_DATA_PORT - [0:00:06.550]
REG( 0x3086, 0x2C4B); // SEQ_DATA_PORT - [0:00:06.552]
REG( 0x3086, 0xA403); // SEQ_DATA_PORT - [0:00:06.554]
REG( 0x3086, 0x430D); // SEQ_DATA_PORT - [0:00:06.556]
REG( 0x3086, 0x2D46); // SEQ_DATA_PORT - [0:00:06.558]
REG( 0x3086, 0x4316); // SEQ_DATA_PORT - [0:00:06.561]
REG( 0x3086, 0x2A90); // SEQ_DATA_PORT - [0:00:06.563]
REG( 0x3086, 0x3E06); // SEQ_DATA_PORT - [0:00:06.565]
REG( 0x3086, 0x2A98); // SEQ_DATA_PORT - [0:00:06.567]
REG( 0x3086, 0x5F16); // SEQ_DATA_PORT - [0:00:06.570]
REG( 0x3086, 0x530D); // SEQ_DATA_PORT - [0:00:06.572]
REG( 0x3086, 0x1660); // SEQ_DATA_PORT - [0:00:06.574]
REG( 0x3086, 0x3E4C); // SEQ_DATA_PORT - [0:00:06.582]
REG( 0x3086, 0x2904); // SEQ_DATA_PORT - [0:00:06.584]
REG( 0x3086, 0x2984); // SEQ_DATA_PORT - [0:00:06.586]
REG( 0x3086, 0x8E03); // SEQ_DATA_PORT - [0:00:06.588]
REG( 0x3086, 0x2AFC); // SEQ_DATA_PORT - [0:00:06.591]
REG( 0x3086, 0x5C1D); // SEQ_DATA_PORT - [0:00:06.593]
REG( 0x3086, 0x5754); // SEQ_DATA_PORT - [0:00:06.595]
REG( 0x3086, 0x495F); // SEQ_DATA_PORT - [0:00:06.597]
REG( 0x3086, 0x5305); // SEQ_DATA_PORT - [0:00:06.600]
REG( 0x3086, 0x5307); // SEQ_DATA_PORT - [0:00:06.602]
REG( 0x3086, 0x4D2B); // SEQ_DATA_PORT - [0:00:06.604]
REG( 0x3086, 0xF810); // SEQ_DATA_PORT - [0:00:06.607]
REG( 0x3086, 0x164C); // SEQ_DATA_PORT - [0:00:06.609]
REG( 0x3086, 0x0955); // SEQ_DATA_PORT - [0:00:06.611]
REG( 0x3086, 0x562B); // SEQ_DATA_PORT - [0:00:06.613]
REG( 0x3086, 0xB82B); // SEQ_DATA_PORT - [0:00:06.616]
REG( 0x3086, 0x984E); // SEQ_DATA_PORT - [0:00:06.618]
REG( 0x3086, 0x1129); // SEQ_DATA_PORT - [0:00:06.620]
REG( 0x3086, 0x9460); // SEQ_DATA_PORT - [0:00:06.623]
REG( 0x3086, 0x5C19); // SEQ_DATA_PORT - [0:00:06.625]
REG( 0x3086, 0x5C1B); // SEQ_DATA_PORT - [0:00:06.627]
REG( 0x3086, 0x4548); // SEQ_DATA_PORT - [0:00:06.629]
REG( 0x3086, 0x4508); // SEQ_DATA_PORT - [0:00:06.632]
REG( 0x3086, 0x4588); // SEQ_DATA_PORT - [0:00:06.634]
REG( 0x3086, 0x29B6); // SEQ_DATA_PORT - [0:00:06.636]
REG( 0x3086, 0x8E01); // SEQ_DATA_PORT - [0:00:06.639]
REG( 0x3086, 0x2AF8); // SEQ_DATA_PORT - [0:00:06.641]
REG( 0x3086, 0x3E02); // SEQ_DATA_PORT - [0:00:06.643]
REG( 0x3086, 0x2AFA); // SEQ_DATA_PORT - [0:00:06.645]
REG( 0x3086, 0x3F09); // SEQ_DATA_PORT - [0:00:06.649]
REG( 0x3086, 0x5C1B); // SEQ_DATA_PORT - [0:00:06.651]
REG( 0x3086, 0x29B2); // SEQ_DATA_PORT - [0:00:06.654]
REG( 0x3086, 0x3F0C); // SEQ_DATA_PORT - [0:00:06.656]
REG( 0x3086, 0x3E03); // SEQ_DATA_PORT - [0:00:06.658]
REG( 0x3086, 0x3E15); // SEQ_DATA_PORT - [0:00:06.661]
REG( 0x3086, 0x5C13); // SEQ_DATA_PORT - [0:00:06.663]
REG( 0x3086, 0x3F11); // SEQ_DATA_PORT - [0:00:06.665]
REG( 0x3086, 0x3E0F); // SEQ_DATA_PORT - [0:00:06.668]
REG( 0x3086, 0x5F2B); // SEQ_DATA_PORT - [0:00:06.670]
REG( 0x3086, 0x902B); // SEQ_DATA_PORT - [0:00:06.672]
REG( 0x3086, 0x803E); // SEQ_DATA_PORT - [0:00:06.674]
REG( 0x3086, 0x062A); // SEQ_DATA_PORT - [0:00:06.677]
REG( 0x3086, 0xF23F); // SEQ_DATA_PORT - [0:00:06.679]
REG( 0x3086, 0x103E); // SEQ_DATA_PORT - [0:00:06.682]
REG( 0x3086, 0x0160); // SEQ_DATA_PORT - [0:00:06.684]
REG( 0x3086, 0x29A2); // SEQ_DATA_PORT - [0:00:06.686]
REG( 0x3086, 0x29A3); // SEQ_DATA_PORT - [0:00:06.688]
REG( 0x3086, 0x5F4D); // SEQ_DATA_PORT - [0:00:06.690]
REG( 0x3086, 0x1C2A); // SEQ_DATA_PORT - [0:00:06.693]
REG( 0x3086, 0xFA29); // SEQ_DATA_PORT - [0:00:06.695]
REG( 0x3086, 0x8345); // SEQ_DATA_PORT - [0:00:06.698]
REG( 0x3086, 0xA83E); // SEQ_DATA_PORT - [0:00:06.700]
REG( 0x3086, 0x072A); // SEQ_DATA_PORT - [0:00:06.702]
REG( 0x3086, 0xFB3E); // SEQ_DATA_PORT - [0:00:06.704]
REG( 0x3086, 0x2945); // SEQ_DATA_PORT - [0:00:06.707]
REG( 0x3086, 0x8824); // SEQ_DATA_PORT - [0:00:06.709]
REG( 0x3086, 0x3E08); // SEQ_DATA_PORT - [0:00:06.711]
REG( 0x3086, 0x2AFA); // SEQ_DATA_PORT - [0:00:06.714]
REG( 0x3086, 0x5D29); // SEQ_DATA_PORT - [0:00:06.716]
REG( 0x3086, 0x9288); // SEQ_DATA_PORT - [0:00:06.718]
REG( 0x3086, 0x102B); // SEQ_DATA_PORT - [0:00:06.721]
REG( 0x3086, 0x048B); // SEQ_DATA_PORT - [0:00:06.723]
REG( 0x3086, 0x1686); // SEQ_DATA_PORT - [0:00:06.726]
REG( 0x3086, 0x8D48); // SEQ_DATA_PORT - [0:00:06.728]
REG( 0x3086, 0x4D4E); // SEQ_DATA_PORT - [0:00:06.730]
REG( 0x3086, 0x2B80); // SEQ_DATA_PORT - [0:00:06.733]
REG( 0x3086, 0x4C0B); // SEQ_DATA_PORT - [0:00:06.735]
REG( 0x3086, 0x3F36); // SEQ_DATA_PORT - [0:00:06.738]
REG( 0x3086, 0x2AF2); // SEQ_DATA_PORT - [0:00:06.740]
REG( 0x3086, 0x3F10); // SEQ_DATA_PORT - [0:00:06.742]
REG( 0x3086, 0x3E01); // SEQ_DATA_PORT - [0:00:06.744]
REG( 0x3086, 0x6029); // SEQ_DATA_PORT - [0:00:06.747]
REG( 0x3086, 0x8229); // SEQ_DATA_PORT - [0:00:06.749]
REG( 0x3086, 0x8329); // SEQ_DATA_PORT - [0:00:06.751]
REG( 0x3086, 0x435C); // SEQ_DATA_PORT - [0:00:06.754]
REG( 0x3086, 0x155F); // SEQ_DATA_PORT - [0:00:06.756]
REG( 0x3086, 0x4D1C); // SEQ_DATA_PORT - [0:00:06.758]
REG( 0x3086, 0x2AFA); // SEQ_DATA_PORT - [0:00:06.761]
REG( 0x3086, 0x4558); // SEQ_DATA_PORT - [0:00:06.763]
REG( 0x3086, 0x8E00); // SEQ_DATA_PORT - [0:00:06.765]
REG( 0x3086, 0x2A98); // SEQ_DATA_PORT - [0:00:06.768]
REG( 0x3086, 0x3F0A); // SEQ_DATA_PORT - [0:00:06.770]
REG( 0x3086, 0x4A0A); // SEQ_DATA_PORT - [0:00:06.772]
REG( 0x3086, 0x4316); // SEQ_DATA_PORT - [0:00:06.774]
REG( 0x3086, 0x0B43); // SEQ_DATA_PORT - [0:00:06.776]
REG( 0x3086, 0x168E); // SEQ_DATA_PORT - [0:00:06.779]
REG( 0x3086, 0x032A); // SEQ_DATA_PORT - [0:00:06.781]
REG( 0x3086, 0x9C45); // SEQ_DATA_PORT - [0:00:06.783]
REG( 0x3086, 0x783F); // SEQ_DATA_PORT - [0:00:06.785]
REG( 0x3086, 0x072A); // SEQ_DATA_PORT - [0:00:06.787]
REG( 0x3086, 0x9D3E); // SEQ_DATA_PORT - [0:00:06.790]
REG( 0x3086, 0x305D); // SEQ_DATA_PORT - [0:00:06.792]
REG( 0x3086, 0x2944); // SEQ_DATA_PORT - [0:00:06.794]
REG( 0x3086, 0x8810); // SEQ_DATA_PORT - [0:00:06.796]
REG( 0x3086, 0x2B04); // SEQ_DATA_PORT - [0:00:06.798]
REG( 0x3086, 0x530D); // SEQ_DATA_PORT - [0:00:06.800]
REG( 0x3086, 0x4558); // SEQ_DATA_PORT - [0:00:06.803]
REG( 0x3086, 0x3E08); // SEQ_DATA_PORT - [0:00:06.805]
REG( 0x3086, 0x8E01); // SEQ_DATA_PORT - [0:00:06.807]
REG( 0x3086, 0x2A98); // SEQ_DATA_PORT - [0:00:06.809]
REG( 0x3086, 0x8E00); // SEQ_DATA_PORT - [0:00:06.812]
REG( 0x3086, 0x76A7); // SEQ_DATA_PORT - [0:00:06.814]
REG( 0x3086, 0x77A7); // SEQ_DATA_PORT - [0:00:06.816]
REG( 0x3086, 0x4644); // SEQ_DATA_PORT - [0:00:06.818]
REG( 0x3086, 0x1616); // SEQ_DATA_PORT - [0:00:06.820]
REG( 0x3086, 0xA57A); // SEQ_DATA_PORT - [0:00:06.822]
REG( 0x3086, 0x1244); // SEQ_DATA_PORT - [0:00:06.824]
REG( 0x3086, 0x4B18); // SEQ_DATA_PORT - [0:00:06.826]
REG( 0x3086, 0x4A04); // SEQ_DATA_PORT - [0:00:06.828]
REG( 0x3086, 0x4316); // SEQ_DATA_PORT - [0:00:06.831]
REG( 0x3086, 0x0643); // SEQ_DATA_PORT - [0:00:06.833]
REG( 0x3086, 0x1605); // SEQ_DATA_PORT - [0:00:06.835]
REG( 0x3086, 0x4316); // SEQ_DATA_PORT - [0:00:06.837]
REG( 0x3086, 0x0743); // SEQ_DATA_PORT - [0:00:06.839]
REG( 0x3086, 0x1658); // SEQ_DATA_PORT - [0:00:06.841]
REG( 0x3086, 0x4316); // SEQ_DATA_PORT - [0:00:06.844]
REG( 0x3086, 0x5A43); // SEQ_DATA_PORT - [0:00:06.846]
REG( 0x3086, 0x1645); // SEQ_DATA_PORT - [0:00:06.848]
REG( 0x3086, 0x588E); // SEQ_DATA_PORT - [0:00:06.850]
REG( 0x3086, 0x032A); // SEQ_DATA_PORT - [0:00:06.853]
REG( 0x3086, 0x9C45); // SEQ_DATA_PORT - [0:00:06.855]
REG( 0x3086, 0x787B); // SEQ_DATA_PORT - [0:00:06.857]
REG( 0x3086, 0x3F07); // SEQ_DATA_PORT - [0:00:06.859]
REG( 0x3086, 0x2A9D); // SEQ_DATA_PORT - [0:00:06.862]
REG( 0x3086, 0x530D); // SEQ_DATA_PORT - [0:00:06.864]
REG( 0x3086, 0x8B16); // SEQ_DATA_PORT - [0:00:06.866]
REG( 0x3086, 0x863E); // SEQ_DATA_PORT - [0:00:06.868]
REG( 0x3086, 0x2345); // SEQ_DATA_PORT - [0:00:06.870]
REG( 0x3086, 0x5825); // SEQ_DATA_PORT - [0:00:06.873]
REG( 0x3086, 0x3E10); // SEQ_DATA_PORT - [0:00:06.875]
REG( 0x3086, 0x8E01); // SEQ_DATA_PORT - [0:00:06.877]
REG( 0x3086, 0x2A98); // SEQ_DATA_PORT - [0:00:06.880]
REG( 0x3086, 0x8E00); // SEQ_DATA_PORT - [0:00:06.882]
REG( 0x3086, 0x3E10); // SEQ_DATA_PORT - [0:00:06.884]
REG( 0x3086, 0x8D60); // SEQ_DATA_PORT - [0:00:06.887]
REG( 0x3086, 0x1244); // SEQ_DATA_PORT - [0:00:06.889]
REG( 0x3086, 0x4BB9); // SEQ_DATA_PORT - [0:00:06.891]
REG( 0x3086, 0x2C2C); // SEQ_DATA_PORT - [0:00:06.894]
REG( 0x3086, 0x2C2C); // SEQ_DATA_PORT - [0:00:06.896]
REG( 0x3086, 0x2C2C); // SEQ_DATA_PORT - [0:00:06.898]
REG( 0x301A, 0x10D8); // RESET_REGISTER - [0:00:06.901]
REG( 0x30B0, 0x1A38); // DIGITAL_TEST - [0:00:06.906]
REG( 0x31AC, 0x0C0C); // DATA_FORMAT_BITS - [0:00:06.908]
REG( 0x302A, 0x0006); // VT_PIX_CLK_DIV - [0:00:06.937]
REG( 0x302C, 0x0001); // VT_SYS_CLK_DIV - [0:00:06.939]
REG( 0x302E, 0x0002); // PRE_PLL_CLK_DIV - [0:00:06.941]
REG( 0x3030, 0x004A); // PLL_MULTIPLIER - [0:00:06.944]
REG( 0x3036, 0x000C); // OP_PIX_CLK_DIV - [0:00:06.949]
REG( 0x3038, 0x0001); // OP_SYS_CLK_DIV - [0:00:06.954]
REG( 0x3002, 0x0000); // Y_ADDR_START - [0:00:06.960]
REG( 0x3004, 0x0004); // X_ADDR_START - [0:00:06.983]
REG( 0x3006, 0x0437); // Y_ADDR_END - [0:00:06.992]
REG( 0x3008, 0x0783); // X_ADDR_END - [0:00:07.000]
REG( 0x300A, 0x04BE); // FRAME_LENGTH_LINES - [0:00:07.007]
REG( 0x300C, 0x03FC); // LINE_LENGTH_PCK - [0:00:07.010]
REG( 0x3012, 0x0416); // COARSE_INTEGRATION_TIME - [0:00:07.012]
REG( 0x30A2, 0x0001); // X_ODD_INC - [0:00:07.015]
REG( 0x30A6, 0x0001); // Y_ODD_INC - [0:00:07.018]
REG( 0x30AE, 0x0001); // X_ODD_INC_CB - [0:00:07.029]
REG( 0x30A8, 0x0001); // Y_ODD_INC_CB - [0:00:07.035]
REG( 0x3040, 0x0000); // READ_MODE - [0:00:07.050]
REG( 0x31AE, 0x0301); // SERIAL_FORMAT - [0:00:07.067]
REG( 0x3082, 0x0009); // OPERATION_MODE_CTRL - [0:00:07.083]
REG( 0x30BA, 0x760C); // DIGITAL_CTRL - [0:00:07.088]
REG( 0x3100, 0x0000); // AECTRLREG - [0:00:07.099]
REG( 0x31D0, 0x0000); // COMPANDING - [0:00:07.127]
REG( 0x3064, 0x1982); // SMIA_TEST - [0:00:07.156]
REG( 0x3064, 0x1802); // SMIA_TEST - [0:00:07.179]
REG( 0x3EEE, 0xA0AA); // DAC_LD_34_35 - [0:00:07.185]
REG( 0x30BA, 0x762C); // DIGITAL_CTRL - [0:00:07.187]
REG( 0x3F4A, 0x0F70); // DELTA_DK_PIX_THRES - [0:00:07.193]
REG( 0x309E, 0x016C); // HIDY_PROG_START_ADDR - [0:00:07.198]
REG( 0x3092, 0x006F); // ROW_NOISE_CONTROL - [0:00:07.204]
REG( 0x3EE4, 0x9937); // DAC_LD_24_25 - [0:00:07.209]
REG( 0x3EE6, 0x3863); // DAC_LD_26_27 - [0:00:07.215]
REG( 0x3EEC, 0x3B0C); // DAC_LD_32_33 - [0:00:07.220]
REG( 0x30B0, 0x1A3A); // DIGITAL_TEST - [0:00:07.226]
REG( 0x30B0, 0x1A3A); // DIGITAL_TEST - [0:00:07.231]
REG( 0x30BA, 0x762C); // DIGITAL_CTRL - [0:00:07.237]
REG( 0x30B0, 0x1A3A); // DIGITAL_TEST - [0:00:07.242]
REG( 0x30B0, 0x0A3A); // DIGITAL_TEST - [0:00:07.248]
REG( 0x3EEA, 0x283A); // DAC_LD_30_31 - [0:00:07.253]
REG( 0x3ECC, 0x4E2D); // DAC_LD_0_1 - [0:00:07.264]
REG( 0x3ED2, 0xFEA6); // DAC_LD_6_7 - [0:00:07.266]
REG( 0x3ED6, 0x2CB3); // DAC_LD_10_11 - [0:00:07.272]
REG( 0x3EEA, 0x2819); // DAC_LD_30_31 - [0:00:07.274]
REG( 0x30B0, 0x1A3A); // DIGITAL_TEST - [0:00:07.280]
REG( 0x306E, 0x2418); // DATAPATH_SELECT - [0:00:07.285]

//REG (0x3070,0x0002);	// COLOR BAR
//REG (0x3070,256);	// Walking 1 test pattern (12-bit)
//REG (0x3070,3);	// Walking 1 test pattern (12-bit)

REG( 0x301A, 0x10DC); // RESET_REGISTER - [0:00:07.288]
DELAY( 33 ); 	// [0:00:07.321]	
return 0;
}





int ap0238_Parallel_Linear_Low_Power_Mode (int video_format)
{
DELAY( 200 );	// [0:00:05.941]
REG( 0x301A, 0x0001); // RESET_REGISTER - [0:00:06.238]
DELAY( 10 );
REG( 0x301A, 0x10D8); // RESET_REGISTER - [0:00:06.268]
DELAY( 200 );	// [0:00:06.469]
REG( 0x3088, 0x8000); // SEQ_CTRL_PORT - [0:00:06.478]
REG( 0x3086, 0x4558); // SEQ_DATA_PORT - [0:00:06.483]
REG( 0x3086, 0x72A6); // SEQ_DATA_PORT - [0:00:06.485]
REG( 0x3086, 0x4A31); // SEQ_DATA_PORT - [0:00:06.488]
REG( 0x3086, 0x4342); // SEQ_DATA_PORT - [0:00:06.490]
REG( 0x3086, 0x8E03); // SEQ_DATA_PORT - [0:00:06.492]
REG( 0x3086, 0x2A14); // SEQ_DATA_PORT - [0:00:06.494]
REG( 0x3086, 0x4578); // SEQ_DATA_PORT - [0:00:06.496]
REG( 0x3086, 0x7B3D); // SEQ_DATA_PORT - [0:00:06.498]
REG( 0x3086, 0xFF3D); // SEQ_DATA_PORT - [0:00:06.500]
REG( 0x3086, 0xFF3D); // SEQ_DATA_PORT - [0:00:06.502]
REG( 0x3086, 0xEA2A); // SEQ_DATA_PORT - [0:00:06.505]
REG( 0x3086, 0x043D); // SEQ_DATA_PORT - [0:00:06.507]
REG( 0x3086, 0x102A); // SEQ_DATA_PORT - [0:00:06.509]
REG( 0x3086, 0x052A); // SEQ_DATA_PORT - [0:00:06.511]
REG( 0x3086, 0x1535); // SEQ_DATA_PORT - [0:00:06.514]
REG( 0x3086, 0x2A05); // SEQ_DATA_PORT - [0:00:06.516]
REG( 0x3086, 0x3D10); // SEQ_DATA_PORT - [0:00:06.518]
REG( 0x3086, 0x4558); // SEQ_DATA_PORT - [0:00:06.520]
REG( 0x3086, 0x2A04); // SEQ_DATA_PORT - [0:00:06.522]
REG( 0x3086, 0x2A14); // SEQ_DATA_PORT - [0:00:06.524]
REG( 0x3086, 0x3DFF); // SEQ_DATA_PORT - [0:00:06.527]
REG( 0x3086, 0x3DFF); // SEQ_DATA_PORT - [0:00:06.529]
REG( 0x3086, 0x3DEA); // SEQ_DATA_PORT - [0:00:06.531]
REG( 0x3086, 0x2A04); // SEQ_DATA_PORT - [0:00:06.533]
REG( 0x3086, 0x622A); // SEQ_DATA_PORT - [0:00:06.537]
REG( 0x3086, 0x288E); // SEQ_DATA_PORT - [0:00:06.539]
REG( 0x3086, 0x0036); // SEQ_DATA_PORT - [0:00:06.541]
REG( 0x3086, 0x2A08); // SEQ_DATA_PORT - [0:00:06.543]
REG( 0x3086, 0x3D64); // SEQ_DATA_PORT - [0:00:06.545]
REG( 0x3086, 0x7A3D); // SEQ_DATA_PORT - [0:00:06.547]
REG( 0x3086, 0x0444); // SEQ_DATA_PORT - [0:00:06.550]
REG( 0x3086, 0x2C4B); // SEQ_DATA_PORT - [0:00:06.552]
REG( 0x3086, 0xA403); // SEQ_DATA_PORT - [0:00:06.554]
REG( 0x3086, 0x430D); // SEQ_DATA_PORT - [0:00:06.556]
REG( 0x3086, 0x2D46); // SEQ_DATA_PORT - [0:00:06.558]
REG( 0x3086, 0x4316); // SEQ_DATA_PORT - [0:00:06.561]
REG( 0x3086, 0x2A90); // SEQ_DATA_PORT - [0:00:06.563]
REG( 0x3086, 0x3E06); // SEQ_DATA_PORT - [0:00:06.565]
REG( 0x3086, 0x2A98); // SEQ_DATA_PORT - [0:00:06.567]
REG( 0x3086, 0x5F16); // SEQ_DATA_PORT - [0:00:06.570]
REG( 0x3086, 0x530D); // SEQ_DATA_PORT - [0:00:06.572]
REG( 0x3086, 0x1660); // SEQ_DATA_PORT - [0:00:06.574]
REG( 0x3086, 0x3E4C); // SEQ_DATA_PORT - [0:00:06.582]
REG( 0x3086, 0x2904); // SEQ_DATA_PORT - [0:00:06.584]
REG( 0x3086, 0x2984); // SEQ_DATA_PORT - [0:00:06.586]
REG( 0x3086, 0x8E03); // SEQ_DATA_PORT - [0:00:06.588]
REG( 0x3086, 0x2AFC); // SEQ_DATA_PORT - [0:00:06.591]
REG( 0x3086, 0x5C1D); // SEQ_DATA_PORT - [0:00:06.593]
REG( 0x3086, 0x5754); // SEQ_DATA_PORT - [0:00:06.595]
REG( 0x3086, 0x495F); // SEQ_DATA_PORT - [0:00:06.597]
REG( 0x3086, 0x5305); // SEQ_DATA_PORT - [0:00:06.600]
REG( 0x3086, 0x5307); // SEQ_DATA_PORT - [0:00:06.602]
REG( 0x3086, 0x4D2B); // SEQ_DATA_PORT - [0:00:06.604]
REG( 0x3086, 0xF810); // SEQ_DATA_PORT - [0:00:06.607]
REG( 0x3086, 0x164C); // SEQ_DATA_PORT - [0:00:06.609]
REG( 0x3086, 0x0955); // SEQ_DATA_PORT - [0:00:06.611]
REG( 0x3086, 0x562B); // SEQ_DATA_PORT - [0:00:06.613]
REG( 0x3086, 0xB82B); // SEQ_DATA_PORT - [0:00:06.616]
REG( 0x3086, 0x984E); // SEQ_DATA_PORT - [0:00:06.618]
REG( 0x3086, 0x1129); // SEQ_DATA_PORT - [0:00:06.620]
REG( 0x3086, 0x9460); // SEQ_DATA_PORT - [0:00:06.623]
REG( 0x3086, 0x5C19); // SEQ_DATA_PORT - [0:00:06.625]
REG( 0x3086, 0x5C1B); // SEQ_DATA_PORT - [0:00:06.627]
REG( 0x3086, 0x4548); // SEQ_DATA_PORT - [0:00:06.629]
REG( 0x3086, 0x4508); // SEQ_DATA_PORT - [0:00:06.632]
REG( 0x3086, 0x4588); // SEQ_DATA_PORT - [0:00:06.634]
REG( 0x3086, 0x29B6); // SEQ_DATA_PORT - [0:00:06.636]
REG( 0x3086, 0x8E01); // SEQ_DATA_PORT - [0:00:06.639]
REG( 0x3086, 0x2AF8); // SEQ_DATA_PORT - [0:00:06.641]
REG( 0x3086, 0x3E02); // SEQ_DATA_PORT - [0:00:06.643]
REG( 0x3086, 0x2AFA); // SEQ_DATA_PORT - [0:00:06.645]
REG( 0x3086, 0x3F09); // SEQ_DATA_PORT - [0:00:06.649]
REG( 0x3086, 0x5C1B); // SEQ_DATA_PORT - [0:00:06.651]
REG( 0x3086, 0x29B2); // SEQ_DATA_PORT - [0:00:06.654]
REG( 0x3086, 0x3F0C); // SEQ_DATA_PORT - [0:00:06.656]
REG( 0x3086, 0x3E03); // SEQ_DATA_PORT - [0:00:06.658]
REG( 0x3086, 0x3E15); // SEQ_DATA_PORT - [0:00:06.661]
REG( 0x3086, 0x5C13); // SEQ_DATA_PORT - [0:00:06.663]
REG( 0x3086, 0x3F11); // SEQ_DATA_PORT - [0:00:06.665]
REG( 0x3086, 0x3E0F); // SEQ_DATA_PORT - [0:00:06.668]
REG( 0x3086, 0x5F2B); // SEQ_DATA_PORT - [0:00:06.670]
REG( 0x3086, 0x902B); // SEQ_DATA_PORT - [0:00:06.672]
REG( 0x3086, 0x803E); // SEQ_DATA_PORT - [0:00:06.674]
REG( 0x3086, 0x062A); // SEQ_DATA_PORT - [0:00:06.677]
REG( 0x3086, 0xF23F); // SEQ_DATA_PORT - [0:00:06.679]
REG( 0x3086, 0x103E); // SEQ_DATA_PORT - [0:00:06.682]
REG( 0x3086, 0x0160); // SEQ_DATA_PORT - [0:00:06.684]
REG( 0x3086, 0x29A2); // SEQ_DATA_PORT - [0:00:06.686]
REG( 0x3086, 0x29A3); // SEQ_DATA_PORT - [0:00:06.688]
REG( 0x3086, 0x5F4D); // SEQ_DATA_PORT - [0:00:06.690]
REG( 0x3086, 0x1C2A); // SEQ_DATA_PORT - [0:00:06.693]
REG( 0x3086, 0xFA29); // SEQ_DATA_PORT - [0:00:06.695]
REG( 0x3086, 0x8345); // SEQ_DATA_PORT - [0:00:06.698]
REG( 0x3086, 0xA83E); // SEQ_DATA_PORT - [0:00:06.700]
REG( 0x3086, 0x072A); // SEQ_DATA_PORT - [0:00:06.702]
REG( 0x3086, 0xFB3E); // SEQ_DATA_PORT - [0:00:06.704]
REG( 0x3086, 0x2945); // SEQ_DATA_PORT - [0:00:06.707]
REG( 0x3086, 0x8824); // SEQ_DATA_PORT - [0:00:06.709]
REG( 0x3086, 0x3E08); // SEQ_DATA_PORT - [0:00:06.711]
REG( 0x3086, 0x2AFA); // SEQ_DATA_PORT - [0:00:06.714]
REG( 0x3086, 0x5D29); // SEQ_DATA_PORT - [0:00:06.716]
REG( 0x3086, 0x9288); // SEQ_DATA_PORT - [0:00:06.718]
REG( 0x3086, 0x102B); // SEQ_DATA_PORT - [0:00:06.721]
REG( 0x3086, 0x048B); // SEQ_DATA_PORT - [0:00:06.723]
REG( 0x3086, 0x1686); // SEQ_DATA_PORT - [0:00:06.726]
REG( 0x3086, 0x8D48); // SEQ_DATA_PORT - [0:00:06.728]
REG( 0x3086, 0x4D4E); // SEQ_DATA_PORT - [0:00:06.730]
REG( 0x3086, 0x2B80); // SEQ_DATA_PORT - [0:00:06.733]
REG( 0x3086, 0x4C0B); // SEQ_DATA_PORT - [0:00:06.735]
REG( 0x3086, 0x3F36); // SEQ_DATA_PORT - [0:00:06.738]
REG( 0x3086, 0x2AF2); // SEQ_DATA_PORT - [0:00:06.740]
REG( 0x3086, 0x3F10); // SEQ_DATA_PORT - [0:00:06.742]
REG( 0x3086, 0x3E01); // SEQ_DATA_PORT - [0:00:06.744]
REG( 0x3086, 0x6029); // SEQ_DATA_PORT - [0:00:06.747]
REG( 0x3086, 0x8229); // SEQ_DATA_PORT - [0:00:06.749]
REG( 0x3086, 0x8329); // SEQ_DATA_PORT - [0:00:06.751]
REG( 0x3086, 0x435C); // SEQ_DATA_PORT - [0:00:06.754]
REG( 0x3086, 0x155F); // SEQ_DATA_PORT - [0:00:06.756]
REG( 0x3086, 0x4D1C); // SEQ_DATA_PORT - [0:00:06.758]
REG( 0x3086, 0x2AFA); // SEQ_DATA_PORT - [0:00:06.761]
REG( 0x3086, 0x4558); // SEQ_DATA_PORT - [0:00:06.763]
REG( 0x3086, 0x8E00); // SEQ_DATA_PORT - [0:00:06.765]
REG( 0x3086, 0x2A98); // SEQ_DATA_PORT - [0:00:06.768]
REG( 0x3086, 0x3F0A); // SEQ_DATA_PORT - [0:00:06.770]
REG( 0x3086, 0x4A0A); // SEQ_DATA_PORT - [0:00:06.772]
REG( 0x3086, 0x4316); // SEQ_DATA_PORT - [0:00:06.774]
REG( 0x3086, 0x0B43); // SEQ_DATA_PORT - [0:00:06.776]
REG( 0x3086, 0x168E); // SEQ_DATA_PORT - [0:00:06.779]
REG( 0x3086, 0x032A); // SEQ_DATA_PORT - [0:00:06.781]
REG( 0x3086, 0x9C45); // SEQ_DATA_PORT - [0:00:06.783]
REG( 0x3086, 0x783F); // SEQ_DATA_PORT - [0:00:06.785]
REG( 0x3086, 0x072A); // SEQ_DATA_PORT - [0:00:06.787]
REG( 0x3086, 0x9D3E); // SEQ_DATA_PORT - [0:00:06.790]
REG( 0x3086, 0x305D); // SEQ_DATA_PORT - [0:00:06.792]
REG( 0x3086, 0x2944); // SEQ_DATA_PORT - [0:00:06.794]
REG( 0x3086, 0x8810); // SEQ_DATA_PORT - [0:00:06.796]
REG( 0x3086, 0x2B04); // SEQ_DATA_PORT - [0:00:06.798]
REG( 0x3086, 0x530D); // SEQ_DATA_PORT - [0:00:06.800]
REG( 0x3086, 0x4558); // SEQ_DATA_PORT - [0:00:06.803]
REG( 0x3086, 0x3E08); // SEQ_DATA_PORT - [0:00:06.805]
REG( 0x3086, 0x8E01); // SEQ_DATA_PORT - [0:00:06.807]
REG( 0x3086, 0x2A98); // SEQ_DATA_PORT - [0:00:06.809]
REG( 0x3086, 0x8E00); // SEQ_DATA_PORT - [0:00:06.812]
REG( 0x3086, 0x76A7); // SEQ_DATA_PORT - [0:00:06.814]
REG( 0x3086, 0x77A7); // SEQ_DATA_PORT - [0:00:06.816]
REG( 0x3086, 0x4644); // SEQ_DATA_PORT - [0:00:06.818]
REG( 0x3086, 0x1616); // SEQ_DATA_PORT - [0:00:06.820]
REG( 0x3086, 0xA57A); // SEQ_DATA_PORT - [0:00:06.822]
REG( 0x3086, 0x1244); // SEQ_DATA_PORT - [0:00:06.824]
REG( 0x3086, 0x4B18); // SEQ_DATA_PORT - [0:00:06.826]
REG( 0x3086, 0x4A04); // SEQ_DATA_PORT - [0:00:06.828]
REG( 0x3086, 0x4316); // SEQ_DATA_PORT - [0:00:06.831]
REG( 0x3086, 0x0643); // SEQ_DATA_PORT - [0:00:06.833]
REG( 0x3086, 0x1605); // SEQ_DATA_PORT - [0:00:06.835]
REG( 0x3086, 0x4316); // SEQ_DATA_PORT - [0:00:06.837]
REG( 0x3086, 0x0743); // SEQ_DATA_PORT - [0:00:06.839]
REG( 0x3086, 0x1658); // SEQ_DATA_PORT - [0:00:06.841]
REG( 0x3086, 0x4316); // SEQ_DATA_PORT - [0:00:06.844]
REG( 0x3086, 0x5A43); // SEQ_DATA_PORT - [0:00:06.846]
REG( 0x3086, 0x1645); // SEQ_DATA_PORT - [0:00:06.848]
REG( 0x3086, 0x588E); // SEQ_DATA_PORT - [0:00:06.850]
REG( 0x3086, 0x032A); // SEQ_DATA_PORT - [0:00:06.853]
REG( 0x3086, 0x9C45); // SEQ_DATA_PORT - [0:00:06.855]
REG( 0x3086, 0x787B); // SEQ_DATA_PORT - [0:00:06.857]
REG( 0x3086, 0x3F07); // SEQ_DATA_PORT - [0:00:06.859]
REG( 0x3086, 0x2A9D); // SEQ_DATA_PORT - [0:00:06.862]
REG( 0x3086, 0x530D); // SEQ_DATA_PORT - [0:00:06.864]
REG( 0x3086, 0x8B16); // SEQ_DATA_PORT - [0:00:06.866]
REG( 0x3086, 0x863E); // SEQ_DATA_PORT - [0:00:06.868]
REG( 0x3086, 0x2345); // SEQ_DATA_PORT - [0:00:06.870]
REG( 0x3086, 0x5825); // SEQ_DATA_PORT - [0:00:06.873]
REG( 0x3086, 0x3E10); // SEQ_DATA_PORT - [0:00:06.875]
REG( 0x3086, 0x8E01); // SEQ_DATA_PORT - [0:00:06.877]
REG( 0x3086, 0x2A98); // SEQ_DATA_PORT - [0:00:06.880]
REG( 0x3086, 0x8E00); // SEQ_DATA_PORT - [0:00:06.882]
REG( 0x3086, 0x3E10); // SEQ_DATA_PORT - [0:00:06.884]
REG( 0x3086, 0x8D60); // SEQ_DATA_PORT - [0:00:06.887]
REG( 0x3086, 0x1244); // SEQ_DATA_PORT - [0:00:06.889]
REG( 0x3086, 0x4BB9); // SEQ_DATA_PORT - [0:00:06.891]
REG( 0x3086, 0x2C2C); // SEQ_DATA_PORT - [0:00:06.894]
REG( 0x3086, 0x2C2C); // SEQ_DATA_PORT - [0:00:06.896]
REG( 0x3086, 0x2C2C); // SEQ_DATA_PORT - [0:00:06.898]
REG( 0x301A, 0x10D8); // RESET_REGISTER - [0:00:06.901]
REG( 0x30B0, 0x1A38); // DIGITAL_TEST - [0:00:06.906]
REG( 0x31AC, 0x0C0C); // DATA_FORMAT_BITS - [0:00:06.908]
REG( 0x302A, 0x0006); // VT_PIX_CLK_DIV - [0:00:06.937]
REG( 0x302C, 0x0001); // VT_SYS_CLK_DIV - [0:00:06.939]
REG( 0x302E, 0x0002); // PRE_PLL_CLK_DIV - [0:00:06.941]
REG( 0x3030, 0x004A); // PLL_MULTIPLIER - [0:00:06.944]
REG( 0x3036, 0x000C); // OP_PIX_CLK_DIV - [0:00:06.949]
REG( 0x3038, 0x0001); // OP_SYS_CLK_DIV - [0:00:06.954]

if(video_format == ARKN141_VIDEO_FORMAT_1080P_30)
{
	REG( 0x3002, 0x0000); // Y_ADDR_START - [0:00:06.960]
	REG( 0x3004, 0x0004); // X_ADDR_START - [0:00:06.983]
	REG( 0x3006, 0x0437); // Y_ADDR_END - [0:00:06.992]
	REG( 0x3008, 0x0783); // X_ADDR_END - [0:00:07.000]
	REG( 0x300A, 0x04BE); // FRAME_LENGTH_LINES - [0:00:07.007]
	REG( 0x300C, 0x03FC); // LINE_LENGTH_PCK - [0:00:07.010]
	REG( 0x3012, 0x0416); // COARSE_INTEGRATION_TIME - [0:00:07.012]
	REG( 0x30A2, 0x0001); // X_ODD_INC - [0:00:07.015]
	REG( 0x30A6, 0x0001); // Y_ODD_INC - [0:00:07.018]
	REG( 0x30AE, 0x0001); // X_ODD_INC_CB - [0:00:07.029]
	REG( 0x30A8, 0x0001); // Y_ODD_INC_CB - [0:00:07.035]
	REG( 0x3040, 0x0000); // READ_MODE - [0:00:07.050]
}
else if(video_format == ARKN141_VIDEO_FORMAT_720P_30)
{
	REG( 0x3002, 0x00B4); // Y_ADDR_START - [0:00:06.793]
	REG( 0x3004, 0x0144); // X_ADDR_START - [0:00:06.816]
	REG( 0x3006, 0x0383); // Y_ADDR_END - [0:00:06.992]
	REG( 0x3008, 0x0643); // X_ADDR_END - [0:00:07.000]
	REG( 0x300A, 0x04BE); // FRAME_LENGTH_LINES - [0:00:07.007]
	REG( 0x300C, 0x03FC); // LINE_LENGTH_PCK - [0:00:07.010]
	REG( 0x3012, 0x0416); // COARSE_INTEGRATION_TIME - [0:00:07.012]
	REG( 0x30A2, 0x0001); // X_ODD_INC - [0:00:07.015]
	REG( 0x30A6, 0x0001); // Y_ODD_INC - [0:00:07.018]
	REG( 0x30AE, 0x0001); // X_ODD_INC_CB - [0:00:07.029]
	REG( 0x30A8, 0x0001); // Y_ODD_INC_CB - [0:00:07.035]
	REG( 0x3040, 0x0000); // READ_MODE - [0:00:07.050]	
}
#if HONGJING_CVBS
else if(video_format == ARKN141_VIDEO_FORMAT_720X480P)
{
	// [720X480]
	//	REG= 0x3002, 0x0040 // Y_ADDR_START - [0:00:06.793]
	//	REG= 0x3004, 0x00F4 // X_ADDR_START - [0:00:06.816]
	//	REG= 0x3006, 0x03FF // Y_ADDR_END - [0:00:06.825]
	//	REG= 0x3008, 0x0693 // X_ADDR_END - [0:00:06.834]
	//	REG= 0x30A2, 0x0003 // X_ODD_INC - [0:00:06.848]
	//	REG= 0x30A6, 0x0003 // Y_ODD_INC - [0:00:06.851]
	//	REG= 0x3040, 0x0300 // READ_MODE - [0:00:06.883]
	REG( 0x3002, 0x0040); // Y_ADDR_START - [0:00:06.793]
	REG( 0x3004, 0x00F4); // X_ADDR_START - [0:00:06.816]
	REG( 0x3006, 0x03FF); // Y_ADDR_END - [0:00:06.992]
	REG( 0x3008, 0x0693); // X_ADDR_END - [0:00:07.000]
	REG( 0x300A, 0x04BE); // FRAME_LENGTH_LINES - [0:00:07.007]
	REG( 0x300C, 0x03FC); // LINE_LENGTH_PCK - [0:00:07.010]
	REG( 0x3012, 0x0416); // COARSE_INTEGRATION_TIME - [0:00:07.012]
	REG( 0x30A2, 0x0003); // X_ODD_INC - [0:00:07.015]
	REG( 0x30A6, 0x0003); // Y_ODD_INC - [0:00:07.018]
	REG( 0x30AE, 0x0001); // X_ODD_INC_CB - [0:00:07.029]
	REG( 0x30A8, 0x0001); // Y_ODD_INC_CB - [0:00:07.035]
	REG( 0x3040, 0x0300); // READ_MODE - [0:00:07.050]	
}
else if(video_format == ARKN141_VIDEO_FORMAT_640X480P)
{
	// [640x480]
	//	REG= 0x3002, 0x003C // Y_ADDR_START - [0:00:06.793]
	//	REG= 0x3004, 0x0144 // X_ADDR_START - [0:00:06.816]
	//	REG= 0x3006, 0x03FB // Y_ADDR_END - [0:00:06.825]
	//	REG= 0x3008, 0x0643 // X_ADDR_END - [0:00:06.834]
	//	REG= 0x30A2, 0x0003 // X_ODD_INC - [0:00:06.848]
	//	REG= 0x30A6, 0x0003 // Y_ODD_INC - [0:00:06.851]
	//	REG= 0x3040, 0x0300 // READ_MODE - [0:00:06.883]
	
	REG( 0x3002, 0x003C); // Y_ADDR_START - [0:00:06.793]
	REG( 0x3004, 0x0144); // X_ADDR_START - [0:00:06.816]
	REG( 0x3006, 0x03FB); // Y_ADDR_END - [0:00:06.992]
	REG( 0x3008, 0x0643); // X_ADDR_END - [0:00:07.000]
	REG( 0x300A, 0x04BE); // FRAME_LENGTH_LINES - [0:00:07.007]
	REG( 0x300C, 0x03FC); // LINE_LENGTH_PCK - [0:00:07.010]
	REG( 0x3012, 0x0416); // COARSE_INTEGRATION_TIME - [0:00:07.012]
	REG( 0x30A2, 0x0003); // X_ODD_INC - [0:00:07.015]
	REG( 0x30A6, 0x0003); // Y_ODD_INC - [0:00:07.018]
	REG( 0x30AE, 0x0001); // X_ODD_INC_CB - [0:00:07.029]
	REG( 0x30A8, 0x0001); // Y_ODD_INC_CB - [0:00:07.035]
	REG( 0x3040, 0x0300); // READ_MODE - [0:00:07.050]	
}
else if(video_format == ARKN141_VIDEO_FORMAT_320X240P)
{
	// [320X240]
	//	REG= 0x3002, 0x012C // Y_ADDR_START - [0:00:06.793]
	// REG= 0x3004, 0x0284 // X_ADDR_START - [0:00:06.816]
	// REG= 0x3006, 0x030B // Y_ADDR_END - [0:00:06.825]
	// REG= 0x3008, 0x0503 // X_ADDR_END - [0:00:06.834]
	// REG= 0x30A2, 0x0003 // X_ODD_INC - [0:00:06.848]
	// REG= 0x30A6, 0x0003 // Y_ODD_INC - [0:00:06.851]
	// REG= 0x3040, 0x0300 // READ_MODE - [0:00:06.883]

	REG( 0x3002, 0x012C); // Y_ADDR_START - [0:00:06.793]
	REG( 0x3004, 0x0284); // X_ADDR_START - [0:00:06.816]
	REG( 0x3006, 0x030B); // Y_ADDR_END - [0:00:06.992]
	REG( 0x3008, 0x0503); // X_ADDR_END - [0:00:07.000]
	REG( 0x300A, 0x04BE); // FRAME_LENGTH_LINES - [0:00:07.007]
	REG( 0x300C, 0x03FC); // LINE_LENGTH_PCK - [0:00:07.010]
	REG( 0x3012, 0x0416); // COARSE_INTEGRATION_TIME - [0:00:07.012]
	REG( 0x30A2, 0x0003); // X_ODD_INC - [0:00:07.015]
	REG( 0x30A6, 0x0003); // Y_ODD_INC - [0:00:07.018]
	REG( 0x30AE, 0x0001); // X_ODD_INC_CB - [0:00:07.029]
	REG( 0x30A8, 0x0001); // Y_ODD_INC_CB - [0:00:07.035]
	REG( 0x3040, 0x0300); // READ_MODE - [0:00:07.050]	
}
#endif
else
{
	
}

REG( 0x31AE, 0x0301); // SERIAL_FORMAT - [0:00:07.067]
REG( 0x3082, 0x0009); // OPERATION_MODE_CTRL - [0:00:07.083]
REG( 0x30BA, 0x760C); // DIGITAL_CTRL - [0:00:07.088]
REG( 0x3100, 0x0000); // AECTRLREG - [0:00:07.099]
REG( 0x31D0, 0x0000); // COMPANDING - [0:00:07.127]
REG( 0x3064, 0x1982); // SMIA_TEST - [0:00:07.156]
REG( 0x3064, 0x1802); // SMIA_TEST - [0:00:07.179]
REG( 0x3EEE, 0xA0AA); // DAC_LD_34_35 - [0:00:07.185]
REG( 0x30BA, 0x762C); // DIGITAL_CTRL - [0:00:07.187]
REG( 0x3F4A, 0x0F70); // DELTA_DK_PIX_THRES - [0:00:07.193]
REG( 0x309E, 0x016C); // HIDY_PROG_START_ADDR - [0:00:07.198]
REG( 0x3092, 0x006F); // ROW_NOISE_CONTROL - [0:00:07.204]
REG( 0x3EE4, 0x9937); // DAC_LD_24_25 - [0:00:07.209]
REG( 0x3EE6, 0x3863); // DAC_LD_26_27 - [0:00:07.215]
REG( 0x3EEC, 0x3B0C); // DAC_LD_32_33 - [0:00:07.220]
REG( 0x30B0, 0x1A3A); // DIGITAL_TEST - [0:00:07.226]
REG( 0x30B0, 0x1A3A); // DIGITAL_TEST - [0:00:07.231]
REG( 0x30BA, 0x762C); // DIGITAL_CTRL - [0:00:07.237]
REG( 0x30B0, 0x1A3A); // DIGITAL_TEST - [0:00:07.242]
REG( 0x30B0, 0x0A3A); // DIGITAL_TEST - [0:00:07.248]
REG( 0x3EEA, 0x283A); // DAC_LD_30_31 - [0:00:07.253]
REG( 0x3ECC, 0x4E2D); // DAC_LD_0_1 - [0:00:07.264]
REG( 0x3ED2, 0xFEA6); // DAC_LD_6_7 - [0:00:07.266]
REG( 0x3ED6, 0x2CB3); // DAC_LD_10_11 - [0:00:07.272]
REG( 0x3EEA, 0x2819); // DAC_LD_30_31 - [0:00:07.274]
REG( 0x30B0, 0x1A3A); // DIGITAL_TEST - [0:00:07.280]
REG( 0x306E, 0x2418); // DATAPATH_SELECT - [0:00:07.285]

//REG (0x3070,0x0002);	// COLOR BAR
//REG (0x3070,256);	// Walking 1 test pattern (12-bit)
//REG (0x3070,3);	// Walking 1 test pattern (12-bit)

REG( 0x301A, 0x10DC); // RESET_REGISTER - [0:00:07.288]
DELAY( 33 ); 	// [0:00:07.321]	
return 0;
}

#endif	// #if ARKN141_CMOS_SENSOR == ARKN141_CMOS_SENSOR_AR0238
